(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{201:function(e,a,t){e.exports=t(392)},391:function(e,a,t){},392:function(e,a,t){"use strict";t.r(a);var r=t(30),n=t(20),i=t(33),o=t(31),l=t(32),s=t(0),c=t.n(s),m=t(8),d=t.n(m);function u(e){return fetch(window.location.origin+"/cameras/createtoken?cid="+e,{method:"GET",cache:"no-cache"}).then(function(e){return e.text()})}var p=t(10),f=t(158),g=t(16),h=t(44),v=t(159),w=t.n(v),b=t(160),E=t(161),y=t.n(E),C=Object(b.a)(function(e){return{resetViewRoot:{backgroundColor:"white",padding:"6px 8px 6px 8px",borderRadius:3,cursor:"pointer"},resetViewIcon:{opacity:.7,"&:hover":{opacity:1}}}}),k=function(e){function a(e){var t;return Object(r.a)(this,a),(t=Object(i.a)(this,Object(o.a)(a).call(this,e))).onGoogleApiLoaded=function(e){var a=e.map,r=e.maps,n=Object(h.a)(t);window.map=t.map=a,window.maps=t.maps=r,window.infoWindow=t.infoWindow=new r.InfoWindow({pixelOffset:{width:15,height:0,h:"px",g:"px"}});var i=document.createElement("div");i.style.margin="0 10px 0 0",d.a.render(c.a.createElement(O,{onClick:t.props.onResetView}),i),t.map.controls[t.maps.ControlPosition.RIGHT_TOP].push(i),window.maps.event.addListener(window.infoWindow,"closeclick",function(){n.props.onCloseClickInfoWindow()})},t.handleOnChange=function(e){var a={latitude:e.center.lat,longitude:e.center.lng},r=e.zoom,n=e.bounds.nw,i=e.bounds.se,o={nw:{latitude:n.lat,longitude:n.lng},se:{latitude:i.lat,longitude:i.lng}};t.props.onMapMove(a,r,o)},t.handleOnClick=function(e){t.props.onMapClick()},window.map=t.map=null,window.maps=t.maps=null,window.infoWindow=t.infoWindow=null,t.state={},t}return Object(l.a)(a,e),Object(n.a)(a,[{key:"render",value:function(){var e=[];return this.props.showTraffic&&e.push("TrafficLayer"),c.a.createElement(w.a,{bootstrapURLKeys:{key:"AIzaSyA3xOLcaTSMnZdKEBqJmGrLefLy86AzDMU"},onGoogleApiLoaded:this.onGoogleApiLoaded,yesIWantToUseGoogleMapApiInternals:!0,center:this.props.center,zoom:this.props.zoom,onChange:this.handleOnChange,onClick:this.handleOnClick,layerTypes:e},this.props.graphics)}}]),a}(c.a.Component);function O(e){var a=C();return c.a.createElement("div",{className:a.resetViewRoot,title:"Reset Map View",onClick:e.onClick},c.a.createElement(y.a,{className:a.resetViewIcon}))}var D=t(163),I=t.n(D),T=t(164),S=t.n(T),x=function(e){function a(e){var t;return Object(r.a)(this,a),(t=Object(i.a)(this,Object(o.a)(a).call(this,e))).handleOnClick=function(e){t.props.onClick(t.props.lat,t.props.lng,t.props.attributes)},t.state={},t}return Object(l.a)(a,e),Object(n.a)(a,[{key:"render",value:function(){return this.props.favorited?c.a.createElement("img",{alt:"Camera Marker",src:"./images/videocam_clr_heart-24px.svg",width:this.props.size?this.props.size:32,height:this.props.size?this.props.size:32,style:{cursor:"pointer",display:this.props.visible?"inherit":"none"},onClick:this.handleOnClick}):c.a.createElement(I.a,{style:{cursor:"pointer",display:this.props.visible?"inherit":"none",fontSize:this.props.size?this.props.size:32},onClick:this.handleOnClick})}}]),a}(c.a.Component),j=function(e){function a(e){var t;return Object(r.a)(this,a),(t=Object(i.a)(this,Object(o.a)(a).call(this,e))).handleOnClick=function(e){t.props.onClick(t.props.lat,t.props.lng,t.props.attributes)},t.state={},t}return Object(l.a)(a,e),Object(n.a)(a,[{key:"render",value:function(){return"true_heading"in this.props.attributes&&511!==this.props.attributes.true_heading?c.a.createElement(S.a,{style:{cursor:"pointer",display:this.props.visible?"inherit":"none",fontSize:16,color:this.props.fillColor,transform:"rotate("+this.props.attributes.true_heading.toString()+"deg)"},onClick:this.handleOnClick}):c.a.createElement("div",{style:{cursor:"pointer",display:this.props.visible?"inherit":"none",height:8,width:8,backgroundColor:this.props.fillColor,border:[this.props.outlineWidth,"solid",this.props.outlineColor].join(" "),borderRadius:"100%",MozBorderRadius:"100%",WebkitBorderRadius:"100%"},onClick:this.handleOnClick})}}]),a}(c.a.Component),M=(c.a.Component,c.a.Component,c.a.Component,function(e){function a(e){var t;return Object(r.a)(this,a),(t=Object(i.a)(this,Object(o.a)(a).call(this,e))).onMapClick=function(e){t.props.onMapClick(e)},t.onGraphicClick=function(e,a,r){console.log(r),t.props.onGraphicClick(e,a,r)},t.onAISGraphicClick=function(e,a,r){console.log(r),t.props.onAISGraphicClick(e,a,r)},t.onMapMove=function(e,a,r){console.log(e),console.log(a),console.log(r),t.props.onMapMove(e,a,r)},t.onMapMoveStop=function(e,a,r){t.props.onMapMoveStop(e,a,r)},t.onCloseClickInfoWindow=function(){t.props.onCloseClickInfoWindow()},t.onResetView=function(){t.props.onResetView()},t.renderDisplayGraphics=function(e){var a=[];if(e)for(var r=0;r<e.length;r++){var n=e[r];switch(n.marker_type){case"camera-marker":a.push(c.a.createElement(x,{key:n.id+Math.random().toString(),lat:n.latitude,lng:n.longitude,size:n.marker_size,attributes:n.attributes,visible:n.visible,favorited:n.favorited,onClick:t.onGraphicClick}));break;case"ais-marker":a.push(c.a.createElement(j,{key:n.id+Math.random().toString(),lat:n.latitude,lng:n.longitude,size:n.marker_size,fillColor:n.fillColor,outlineWidth:"1px",outlineColor:n.outlineColor,attributes:n.attributes,visible:n.visible,onClick:t.onAISGraphicClick}));break;default:console.error("Marker type: "+n.marker_type+" is not supported.")}}return a},t.state={},t}return Object(l.a)(a,e),Object(n.a)(a,[{key:"render",value:function(){return c.a.createElement(k,{center:this.props.center,zoom:this.props.zoom,graphics:this.renderDisplayGraphics(this.props.objectArray),showTraffic:this.props.showTraffic,onMapMove:this.onMapMove,onMapClick:this.onMapClick,onCloseClickInfoWindow:this.onCloseClickInfoWindow,onResetView:this.onResetView})}}]),a}(c.a.Component)),N=t(459),G=t(443),F=t(444);function R(e,a,t){for(var r=0;r<a.length;r++){var n=a[r];if(n in t&&t[n].cameras.indexOf(e)>=0)return!0}return!1}function W(e){var a=e[0];if(e.length>1){var t=e.indexOf(" ");t>=1&&e.length>t+1?a+=e[t+1]:a+=e[1]}return a}var P={"Base Station":"cyan","Aids-to-Navigation":"yellow","Wing-in-Ground Effects":"violet","High-speed Crafts":"white","Tugs & Special Crafts":"teal","Fishing Vessels":"brown","Towing Vessels":"pink","Dredging & Diving Vessels":"purple","Military Vessels":"red","Passenger Vessels":"blue","Pleasure & Sailing Crafts":"magenta","Cargo Vessels":"green",Tankers:"orange",Others:"black",Unknown:"grey"};function z(e,a){if(4===e)return{type:"Base Station",color:P["Base Station"]};if(21===e)return{type:"Aids-to-Navigation",color:P["Aids-to-Navigation"]};if(!a)return{type:"Unknown",color:P.Unknown};var t=a.toString();switch(t[0]){case"2":return{type:"Wing-in-Ground Effects",color:P["Wing-in-Ground Effects"]};case"3":if("0"===t[1])return{type:"Fishing Vessels",color:P["Fishing Vessels"]};if("1"===t[1]||"2"===t[1])return{type:"Towing Vessels",color:P["Towing Vessels"]};if("3"===t[1]||"4"===t[1])return{type:"Dredging & Diving Vessels",color:P["Dredging & Diving Vessels"]};if("5"===t[1])return{type:"Military Vessels",color:P["Military Vessels"]};if("6"===t[1]||"7"===t[1])return{type:"Pleasure & Sailing Crafts",color:P["Pleasure & Sailing Crafts"]};if("8"===t[1]||"9"===t[1])return{type:"Unknown",color:P.Unknown};break;case"4":return{type:"High-speed Crafts",color:P["High-speed Crafts"]};case"5":return{type:"Tugs & Special Crafts",color:P["Tugs & Special Crafts"]};case"6":return{type:"Passenger Vessels",color:P["Passenger Vessels"]};case"7":return{type:"Cargo Vessels",color:P["Cargo Vessels"]};case"8":return{type:"Tankers",color:P.Tankers};case"9":return{type:"Others",color:P.Others};default:return{type:"Unknown",color:P.Unknown}}}var H=Object(b.a)(function(e){return{title:Object(g.a)({width:"100%",textAlign:"center",fontWeight:"bold",fontSize:".8em"},e.breakpoints.up("md"),{fontSize:"1.3em"}),imageDisplay:Object(g.a)({border:"0px solid black",marginTop:"5px",minHeight:120,minWidth:160},e.breakpoints.up("md"),{minHeight:240,minWidth:320}),image:Object(g.a)({maxHeight:"100%",maxWidth:"100%",height:120},e.breakpoints.up("md"),{height:240}),controlsDisplayShowFramerate:{width:"100%",display:"flex",justifyContent:"space-between",marginTop:"5px",marginBottom:"5px"},controlsDisplayHideFramerate:{width:"100%",display:"flex",justifyContent:"flex-end",marginTop:"5px",marginBottom:"5px"},aisTable:{borderCollapse:"collaspe",borderSpacing:"0px"},aisTableHeader:{textAlign:"left",padding:"3px",border:"1px solid black"},aisTableData:{textAlign:"right",padding:"3px 3px 3px 10px",border:"1px solid black"}}});function A(){for(var e in window.cameraTimers)null!==window.cameraTimers[e].imageTimer&&(window.clearInterval(window.cameraTimers[e].imageTimer),window.cameraTimers[e].imageTimer=null,window.cameraTimers[e].loaded=!0)}function V(e,a){L(),null===window.cameraTimers[e].tokenTimer&&(window.cameraTimers[e].tokenTimer=window.setInterval(function(){!function(e,a){fetch(window.location.origin+"/cameras/renewtoken?cid="+e,{method:"GET",cache:"no-cache"})}(e)},6e5))}function L(e){if(e)null!==window.cameraTimers[e].tokenTimer&&(window.clearInterval(window.cameraTimers[e].tokenTimer),window.cameraTimers[e].tokenTimer=null);else for(var a in window.cameraTimers)null!==window.cameraTimers[a].tokenTimer&&(window.clearInterval(window.cameraTimers[a].tokenTimer),window.cameraTimers[a].tokenTimer=null)}function _(e){var a=H(),t=c.a.useState(""),r=Object(p.a)(t,2),n=r[0],i=r[1],o=c.a.useState(""),l=Object(p.a)(o,2),s=l[0],m=l[1],d=c.a.useState(e.framerate?e.framerate:5),f=Object(p.a)(d,2),g=f[0],h=f[1];function v(a,t){null===window.cameraTimers[e.cameraID].imageTimer&&(window.cameraTimers[e.cameraID].loaded=!0,window.cameraTimers[e.cameraID].imageTimer=window.setInterval(function(){window.cameraTimers[e.cameraID].loaded&&(window.cameraTimers[e.cameraID].loaded=!1,m(a+"&r="+Math.random()))},1e3/t))}function w(){null!==window.cameraTimers[e.cameraID].imageTimer&&(window.clearInterval(window.cameraTimers[e.cameraID].imageTimer),window.cameraTimers[e.cameraID].imageTimer=null,window.cameraTimers[e.cameraID].loaded=!0)}return c.a.useEffect(function(){return e.cameraID in window.cameraTimers&&null!==window.cameraTimers[e.cameraID].imageTimer&&window.clearInterval(window.cameraTimers[e.cameraID].imageTimer),window.cameraTimers[e.cameraID]={},window.cameraTimers[e.cameraID].loaded=!0,window.cameraTimers[e.cameraID].imageTimer=null,function a(){u(e.cameraID).then(function(a){var t=JSON.parse(a),r=t.endpoint_url+"/jpeg?token="+t.token;i(r),m(r),v(r,g),V(e.cameraID,t.token)},function(t){console.log(t),w(),L(e.cameraID),a()})}(),function(){w(),L(e.cameraID)}},[]),c.a.createElement("div",null,c.a.createElement("div",{className:a.title},e.title),c.a.createElement("div",{className:a.imageDisplay},c.a.createElement("img",{src:s,alt:e.title,className:a.image,onLoad:function(){e.cameraID in window.cameraTimers&&!window.cameraTimers[e.cameraID].loaded&&(window.cameraTimers[e.cameraID].loaded=!0)},onError:function(){e.cameraID in window.cameraTimers&&!window.cameraTimers[e.cameraID].loaded&&(window.cameraTimers[e.cameraID].loaded=!0)}})),c.a.createElement("div",{className:e.showFramerate?a.controlsDisplayShowFramerate:a.controlsDisplayHideFramerate},e.showFramerate?c.a.createElement(N.a,{value:g,onChange:function(a){h(a.target.value),w(),v(n,a.target.value),e.onChangeFramerate(a.target.value)},onClick:function(){e.onClickFramerate()},style:{fontSize:"12px"},inputProps:{name:"frametrate",id:"outlined-framerate-simple"}},c.a.createElement(G.a,{value:2},"2 fps"),c.a.createElement(G.a,{value:5},"5 fps"),c.a.createElement(G.a,{value:15},"15 fps")):c.a.createElement("div",null),c.a.createElement(F.a,{"aria-label":"favorite button",onClick:function(){e.onClickFavoriteButton(e.cameraID)}},c.a.createElement("img",{alt:"Favorites Group Icon",src:"./images/videocam_solid_heart_GREY-24px.svg",width:"24px",height:"24px"}))))}function B(e){var a=H(),t=c.a.useState(""),r=Object(p.a)(t,2),n=r[0],i=r[1],o=c.a.useState(""),l=Object(p.a)(o,2),s=l[0],m=l[1],d=c.a.useState(2),f=Object(p.a)(d,2),g=f[0],h=f[1];function v(a,t){null===window.cameraTimers[e.cameraID].imageTimer&&(window.cameraTimers[e.cameraID].loaded=!0,window.cameraTimers[e.cameraID].imageTimer=window.setInterval(function(){window.cameraTimers[e.cameraID].loaded&&(window.cameraTimers[e.cameraID].loaded=!1,m(a+"&r="+Math.random()))},1e3/t))}function w(){null!==window.cameraTimers[e.cameraID].imageTimer&&(window.clearInterval(window.cameraTimers[e.cameraID].imageTimer),window.cameraTimers[e.cameraID].imageTimer=null,window.cameraTimers[e.cameraID].loaded=!0)}return c.a.useEffect(function(){return window.cameraTimers[e.cameraID]={},window.cameraTimers[e.cameraID].loaded=!0,window.cameraTimers[e.cameraID].imageTimer=null,u(e.cameraID).then(function(a){var t=JSON.parse(a),r=t.endpoint_url+"/jpeg?token="+t.token;i(r),m(r),v(r,g),V(e.cameraID,t.token)},function(a){w(),L(e.cameraID),console.log(a)}),function(){console.log(e.cameraID),w(),L(e.cameraID)}},[]),c.a.createElement("div",null,c.a.createElement("div",{className:a.title},e.title),c.a.createElement("div",{className:a.imageDisplay},c.a.createElement("img",{src:s,alt:e.title,className:a.image,onLoad:function(){e.cameraID in window.cameraTimers&&!window.cameraTimers[e.cameraID].loaded&&(window.cameraTimers[e.cameraID].loaded=!0)},onError:function(){e.cameraID in window.cameraTimers&&!window.cameraTimers[e.cameraID].loaded&&(window.cameraTimers[e.cameraID].loaded=!0)}})),c.a.createElement("div",{className:e.showFramerate?a.controlsDisplayShowFramerate:a.controlsDisplayHideFramerate},e.showFramerate?c.a.createElement(N.a,{value:g,onChange:function(e){h(e.target.value),w(),v(n,e.target.value)},onClick:function(){},style:{fontSize:"12px"},inputProps:{name:"frametrate",id:"outlined-framerate-simple"}},c.a.createElement(G.a,{value:2},"2 fps"),c.a.createElement(G.a,{value:5},"5 fps"),c.a.createElement(G.a,{value:15},"15 fps")):c.a.createElement("div",null),c.a.createElement(F.a,{"aria-label":"favorite button",onClick:function(){e.onClickFavoriteButton(e.cameraID)}},c.a.createElement("img",{alt:"Favorites Group Icon",src:"./images/videocam_solid_heart_GREY-24px.svg",width:"24px",height:"24px"}))))}function q(e){var a=H();return c.a.useEffect(function(){return A(),function(){}},[]),c.a.createElement("div",null,c.a.createElement("table",{className:a.aisTable},c.a.createElement("tr",null,c.a.createElement("th",{className:a.aisTableHeader},"MMSI"),c.a.createElement("td",{className:a.aisTableData},e.attributes.mmsi)),void 0!==e.attributes.callsign?c.a.createElement("tr",null,c.a.createElement("th",{className:a.aisTableHeader},"CALLSIGN"),c.a.createElement("td",{className:a.aisTableData},e.attributes.callsign.replace(/@/g,"").trim())):void 0,void 0!==e.attributes.name?c.a.createElement("tr",null,c.a.createElement("th",{className:a.aisTableHeader},"NAME"),c.a.createElement("td",{className:a.aisTableData},e.attributes.name.replace(/@/g,"").trim())):void 0,void 0!==e.attributes.type_and_cargo?c.a.createElement("tr",null,c.a.createElement("th",{className:a.aisTableHeader},"SHIP/CARGO TYPE"),c.a.createElement("td",{className:a.aisTableData},function(e){if(0===e)return"N/A";var a=e.toString();return[["","","","","","","","","",""],["Reserved","Reserved","Reserved","Reserved","Reserved","Reserved","Reserved","Reserved","Reserved","Reserved"],["WIG","WIG (Carrying DG, HS, MP, IMO hazard or pollutant category X)","WIG (Carrying DG, HS, MP,IMO hazard or pollutant category Y)","WIG (Carrying DG, HS, MP, IMO hazard or pollutant category Z)","WIG (Carrying DG, HS, MP, IMO hazard or pollutant category OS)","WIG (Reserved)","WIG (Reserved)","WIG (Reserved)","WIG (Reserved)","WIG (No additional information)"],["Vessel (Fishing)","Vessel (Towing)","Vessel (Towing length exceeding 200 m or breadth exceeds 25 m)","Vessel (Dredging or underwater operations)","Vessel (Diving operations)","Vessel (Military operations)","Vessel (Sailing)","Vessel (Pleasure craft)","Vessel (Reserved)","Vessel (Reserved)"],["HSC","HSC (Carrying DG, HS, MP, IMO hazard or pollutant category X)","HSC (Carrying DG, HS, MP, IMO hazard or pollutant category Y)","HSC (Carrying DG, HS, MP, IMO hazard or pollutant category Z)","HSC (Carrying DG, HS, MP, IMO hazard or pollutant category OS)","HSC (Reserved)","HSC (Reserved)","HSC (Reserved)","HSC (Reserved)","HSC (No additional information)"],["Pilot vessel","Search and rescue vessel","Tug","Port tender","Vessel w/ anti-pollution facilities and equipment","Law enforcement vessel","Spare (local vessel)","Spare (local vessel)","Medical transport","Ship and/or aircraft of states not parties to an armed conflict"],["Passenger ship","Passenger ship (Carrying DG, HS, MP, IMO hazard or pollutant category X)","Passenger ship (Carrying DG, HS, MP, IMO hazard or pollutant category Y)","Passenger ship (Carrying DG, HS, MP, IMO hazard or pollutant category Z)","Passenger ship (Carrying DG, HS, MP, IMO hazard or pollutant category OS)","Passenger ship (Reserved)","Passenger ship (Reserved)","Passenger ship (Reserved)","Passenger ship (Reserved)","Passenger ship (No additional information)"],["Cargo ship","Cargo ship (Carrying DG, HS, MP, IMO hazard or pollutant category X)","Cargo ship (Carrying DG, HS, MP, IMO hazard or pollutant category Y)","Cargo ship (Carrying DG, HS, MP, IMO hazard or pollutant category Z)","Cargo ship (Carrying DG, HS, MP, IMO hazard or pollutant category OS)","Cargo ship (Reserved)","Cargo ship (Reserved)","Cargo ship (Reserved)","Cargo ship (Reserved)","Cargo ship (No additional information)"],["Tanker","Tanker (Carrying DG, HS, MP, IMO hazard or pollutant category X)","Tanker (Carrying DG, HS, MP, IMO hazard or pollutant category Y)","Tanker (Carrying DG, HS, MP, IMO hazard or pollutant category Z)","Tanker (Carrying DG, HS, MP, IMO hazard or pollutant category OS)","Tanker (Reserved)","Tanker (Reserved)","Tanker (Reserved)","Tanker (Reserved)","Tanker (No additional information)"],["Other","Other (Carrying DG, HS, MP, IMO hazard or pollutant category X)","Other (Carrying DG, HS, MP, IMO hazard or pollutant category Y)","Other (Carrying DG, HS, MP, IMO hazard or pollutant category Z)","Other (Carrying DG, HS, MP, IMO hazard or pollutant category OS)","Other (Reserved)","Other (Reserved)","Other (Reserved)","Other (Reserved)","Other (No additional information)"]][a[0]][a[1]]}(e.attributes.type_and_cargo))):void 0,void 0!==e.attributes.destination?c.a.createElement("tr",null,c.a.createElement("th",{className:a.aisTableHeader},"DESTINATION"),c.a.createElement("td",{className:a.aisTableData},e.attributes.destination.replace(/@/g,"").trim())):void 0,void 0!==e.attributes.eta_month?c.a.createElement("tr",null,c.a.createElement("th",{className:a.aisTableHeader},"ETA"),c.a.createElement("td",{className:a.aisTableData},function(e){var a=e.eta_month,t=e.eta_day,r=e.eta_hour,n=e.eta_minute;if(0===a&&0===t&&24===r&&60===n)return"N/A";var i="";return a>0&&t>0&&(i+=a<10?"0"+a.toString():a.toString(),i+="/"+(t<10?"0"+t.toString():t.toString())),r<24&&n<60&&(i+=" "+(r<10?"0"+r.toString():r.toString()),i+=":"+(n<10?"0"+n.toString():n.toString())),i}(e.attributes))):void 0,c.a.createElement("tr",null,c.a.createElement("th",{className:a.aisTableHeader},"LATITUDE"),c.a.createElement("td",{className:a.aisTableData},e.attributes.y)),c.a.createElement("tr",null,c.a.createElement("th",{className:a.aisTableHeader},"LONGITUDE"),c.a.createElement("td",{className:a.aisTableData},e.attributes.x))))}window.cameraTimers||(window.cameraTimers={});var U=t(101),J=t(449),Y=t(450),X=t(442),Z=t(393),K=t(446),Q=t(448),$=t(447),ee=t(461),ae=t(445),te=t(167),re=t.n(te),ne=t(166),ie=t.n(ne),oe=t(168),le=t.n(oe),se=t(165),ce=t.n(se),me=t(460),de=t(79),ue=Object(b.a)(function(e){return{root:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",padding:5},loading:{display:"flex",justifyContent:"center",flexWrap:"wrap",padding:5,fontWeight:"bold"},favoriteDisplay:Object(g.a)({display:"inline-block",marginLeft:5,marginRight:5,marginBottom:5,border:"1px solid #ededed",borderRadius:5,boxShadow:"2px 2px 2px grey",padding:2,backgroundColor:"#ededed"},e.breakpoints.up("md"),{padding:5}),favoritesList:{minWidth:"300px"},favoritesListMain:{maxHeight:"200px",minHeight:"200px",minWidth:"300px"},dialogContent:{padding:"0 0 0 0"},favoritesTextField:{width:"200px"}}});function pe(e){var a=ue();function t(a,t){e.onChangeFavorites(a,t)}return 0===e.selectedCameraGroups.length||0===Object.keys(e.favoritesData).length?c.a.createElement("div",{className:a.loading},c.a.createElement(de.a,{variant:"h6",gutterBottom:!0},"Select cameras to view.")):c.a.createElement("div",{className:a.root},function(e,r,n){for(var i=[],o=[],l=0;l<n.length;l++){var s=n[l];if(s in e)for(var m=e[s].cameras,d=0;d<m.length;d++){var u=m[d];u in r&&-1===o.indexOf(u)&&(i.push(c.a.createElement("div",{key:u,className:a.favoriteDisplay},c.a.createElement(B,{title:r[u].name,cameraID:u,favorited:!0,showFramerate:!0,onClickFavoriteButton:t}))),o.push(u))}}return i}(e.favoritesData,e.cameraData,e.selectedCameraGroups))}function fe(e){var a=ue(),t=c.a.useState("list"),r=Object(p.a)(t,2),n=r[0],i=r[1],o=c.a.useState(""),l=Object(p.a)(o,2),s=l[0],m=l[1],d=c.a.useState("#000000"),u=Object(p.a)(d,2),f=u[0],g=u[1],h=c.a.useState(""),v=Object(p.a)(h,2),w=v[0],b=v[1],E=c.a.useState(""),y=Object(p.a)(E,2),C=y[0],k=y[1];function O(){i("list"),e.onDialogClose()}var D=function(a){return function(){var t=e.favoritesData[a].cameras.indexOf(e.cameraID);-1!==t?e.favoritesData[a].cameras.splice(t,1):e.favoritesData[a].cameras.push(e.cameraID),e.onChangeFavoritesData(e.favoritesData)}},I=function(e){return function(){b(e),i(e)}};var T=function(e){m(e.target.value)},S=function(e){b(e.target.value)};function x(){var a=n,t=w,r=f;if(""!==t&&a in e.favoritesData){var o=e.favoritesData[a];delete e.favoritesData[a],e.favoritesData[t]=o,e.favoritesData[t].color=r,e.onChangeFavoritesData(e.favoritesData),i("list")}}function j(e,a){g(e.hex)}function M(){var a=s,t=f;""!==a&&(a in e.favoritesData?-1!==e.favoritesData[a].cameras.indexOf(e.cameraID)&&e.favoritesData[a].cameras.push(e.cameraID):e.favoritesData[a]={cameras:[e.cameraID],color:t},e.onChangeFavoritesData(e.favoritesData),i("list"))}function N(){var a=C;a in e.favoritesData&&delete e.favoritesData[a],e.onChangeFavoritesData(e.favoritesData),i("list")}function G(){i("list")}var R=function(e){return function(){k(e),i("remove")}};return c.a.createElement(J.a,{onClose:O,open:e.open,"aria-labelledby":"favorites-dialog-title",fullWidth:!1,maxWidth:"lg"},c.a.createElement(Y.a,{dividers:!0,className:a.dialogContent},c.a.createElement(X.a,{className:a.favoritesList},c.a.createElement(Z.a,{key:"header",role:void 0,dense:!0},c.a.createElement($.a,{primary:"Favorites"}),c.a.createElement(Q.a,null,c.a.createElement(F.a,{edge:"end","aria-label":"close favorites dialog",onClick:O},c.a.createElement(re.a,null)))))),c.a.createElement(Y.a,{dividers:!0,className:a.dialogContent},"list"===n?c.a.createElement(X.a,{className:a.favoritesListMain},function(){for(var a=[],t=Object.keys(e.favoritesData),r=0;r<t.length;r++)a.push(c.a.createElement(Z.a,{key:t[r],role:void 0,dense:!0,button:!0,onClick:D(t[r])},c.a.createElement(K.a,null,c.a.createElement(ee.a,{edge:"start",checked:-1!==e.favoritesData[t[r]].cameras.indexOf(e.cameraID),tabIndex:-1,disableRipple:!0,inputProps:{"aria-label":t[r]},color:"primary"})),c.a.createElement($.a,{id:t[r],primary:t[r]}),c.a.createElement(Q.a,null,c.a.createElement(F.a,{edge:"end","aria-label":"delete",onClick:R(t[r])},c.a.createElement(ce.a,null)),c.a.createElement(F.a,{edge:"end","aria-label":"edit",onClick:I(t[r])},c.a.createElement(ie.a,null)))));return a}()):"create"===n?c.a.createElement("div",{className:a.favoritesListMain},c.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},c.a.createElement(me.a,{required:!0,id:"create-new-favorites-group","aria-label":"new favorites group name input",label:"Name",className:a.favoritesTextField,margin:"normal",variant:"outlined",value:s,onChange:T})),c.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"30px",marginTop:"10px"}},c.a.createElement(U.CirclePicker,{colors:["#000000","#FF0000","#00FF00","#0000FF","orange","purple"],onChange:j})),c.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},c.a.createElement(ae.a,{disabled:""===s,variant:"contained",color:"primary","aria-label":"create new favorites group",onClick:M},"Create"),c.a.createElement(ae.a,{variant:"contained",color:"default","aria-label":"cancel new favorites group",onClick:G},"Cancel"))):"remove"===n?c.a.createElement("div",{className:a.favoritesListMain,style:{display:"flex",justifyContent:"space-around",flexDirection:"column"}},c.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},c.a.createElement(de.a,{variant:"h6",gutterBottom:!0},"Remove ",C,"?")),c.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},c.a.createElement(ae.a,{variant:"contained",color:"primary","aria-label":"confirm removing selected groups button",onClick:N},"Remove"),c.a.createElement(ae.a,{variant:"contained",color:"default","aria-label":"cancel removing selected groups button",onClick:G},"Cancel"))):c.a.createElement("div",{className:a.favoritesListMain},c.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},c.a.createElement(me.a,{required:!0,id:"edit-favorites-group","aria-label":"edit existing favorites group name input",label:"Name",className:a.favoritesTextField,margin:"normal",variant:"outlined",value:w,onChange:S})),c.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"30px",marginTop:"10px"}},c.a.createElement(U.CirclePicker,{colors:["#000000","#FF0000","#00FF00","#0000FF","orange","purple"],onChange:j})),c.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},c.a.createElement(ae.a,{disabled:""===w,variant:"contained",color:"primary","aria-label":"confirm edit existing favorites group",onClick:x},"Edit"),c.a.createElement(ae.a,{variant:"contained",color:"default","aria-label":"cancel new favorites group",onClick:G},"Cancel")))),c.a.createElement(Y.a,{dividers:!0,className:a.dialogContent},c.a.createElement(X.a,{className:a.favoritesList},c.a.createElement(Z.a,{key:"create favorites group",role:void 0,dense:!0,button:!0,onClick:function(){i("create")}},c.a.createElement(K.a,null,c.a.createElement(le.a,null)),c.a.createElement($.a,{primary:"Create Favorites Group"})))))}var ge=t(3),he=t(13),ve=t(18),we=t(463),be=t(457),Ee=t(458),ye=t(456),Ce=t(464),ke=t(453),Oe=t(454),De=t(452),Ie=t(451),Te=t(182),Se=t(172),xe=t.n(Se),je=t(103),Me=t.n(je),Ne=t(102),Ge=t.n(Ne),Fe=t(173),Re=t.n(Fe),We=t(175),Pe=t.n(We),ze=t(174),He=t.n(ze),Ae=t(455),Ve=t(177),Le=t.n(Ve),_e=t(171),Be=t.n(_e),qe=t(178),Ue=t.n(qe),Je=t(179),Ye=t.n(Je),Xe=t(180),Ze=t.n(Xe),Ke=t(176),Qe=t.n(Ke),$e=t(181),ea=t.n($e),aa=t(169),ta=t.n(aa),ra=t(104),na=t.n(ra),ia=t(105),oa=t.n(ia),la=Object(b.a)(function(e){return{root:{display:"flex",width:"100%",height:"100%"},grow:{flexGrow:1},appBar:{zIndex:e.zIndex.drawer+1,backgroundColor:"#FFFFFF",transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36,color:"rgba(0, 0, 0, 0.54)"},userAvatar:{marginRight:5,color:"#FFFFFF",backgroundColor:Ie.a[500]},title:{flexGrow:1},search:Object(g.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(he.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(he.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(g.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200}),sectionDesktop:Object(g.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(g.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(g.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),list:{paddingTop:"0",paddingBottom:"0"},listIcon:Object(g.a)({},e.breakpoints.up("sm"),{marginLeft:"8px"}),listAvatar:Object(g.a)({marginRight:"9px",marginLeft:"-5px"},e.breakpoints.down("sm"),{marginLeft:"-5px",marginRight:"9px"}),toolbar:Object(f.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1),height:"64px !important"},e.mixins.toolbar),cameraGroupAvatar:Object(g.a)({color:"#fff",width:"32px",height:"32px",fontSize:"1.2em"},e.breakpoints.down("sm"),{}),content:{flexGrow:1,padding:0,margin:0,width:"100%",display:"flex",flexDirection:"column"}}});function sa(e){var a,t;void 0===window.infoWindowClick&&(window.infoWindowClick=!1);var r=la(),n=Object(ve.a)(),i=c.a.useState(!1),o=Object(p.a)(i,2),l=o[0],s=o[1],m=c.a.useState(null),u=Object(p.a)(m,2),f=u[0],h=u[1],v=c.a.useState(null),w=Object(p.a)(v,2),b=w[0],E=w[1],y=Boolean(f),C=Boolean(b),k=c.a.useState({lat:33.7428634,lng:-118.2365507}),O=Object(p.a)(k,2),D=O[0],I=O[1],T=c.a.useState(13),S=Object(p.a)(T,2),x=S[0],j=S[1],N=c.a.useState(!1),P=Object(p.a)(N,2),H=P[0],V=P[1],B=c.a.useState(!1),U=Object(p.a)(B,2),J=U[0],Y=U[1],Q=c.a.useState(!1),ee=Object(p.a)(Q,2),ae=ee[0],te=ee[1],re=c.a.useState(!1),ne=Object(p.a)(re,2),ie=ne[0],oe=ne[1],le=c.a.useState(!1),se=Object(p.a)(le,2),ce=se[0],me=se[1],de=c.a.useState([]),ue=Object(p.a)(de,2),he=ue[0],Ie=ue[1],Se=c.a.useState(void 0),je=Object(p.a)(Se,2),Ne=je[0],Fe=je[1],We=c.a.useState(!1),ze=Object(p.a)(We,2),Ve=ze[0],_e=ze[1],qe=c.a.useState(!1),Je=Object(p.a)(qe,2),Xe=Je[0],Ke=Je[1];function $e(e){h(e.currentTarget)}function aa(){E(null)}function ra(){h(null),aa()}function ia(){me(!ce),da()}window.mjpegFramerate||(window.mjpegFramerate=5);var sa="primary-search-account-menu",ca=c.a.createElement(Te.a,{anchorEl:f,anchorOrigin:{vertical:"top",horizontal:"right"},id:sa,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:y,onClose:ra},c.a.createElement(G.a,{onClick:ra},c.a.createElement(K.a,null,c.a.createElement(De.a,{className:r.userAvatar},e.userName[0])),c.a.createElement($.a,{primary:e.userName})),c.a.createElement(ke.a,null),c.a.createElement(G.a,{onClick:function(){ra(),e.onLogout()}},c.a.createElement(K.a,null,c.a.createElement(ta.a,null)),c.a.createElement($.a,{primary:"Sign Out"}))),ma=c.a.createElement(Te.a,{anchorEl:b,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:C,onClose:aa},c.a.createElement(G.a,null,c.a.createElement(F.a,{"aria-label":"Notifications",color:"inherit"},c.a.createElement(Oe.a,{color:"secondary"},c.a.createElement(Ge.a,{style:{color:"rgba(0, 0, 0, 0.54)"}}))),c.a.createElement("p",null,"Notifications")),c.a.createElement(G.a,{onClick:$e},c.a.createElement(F.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},c.a.createElement(Me.a,{style:{color:"rgba(0, 0, 0, 0.54)"}})),c.a.createElement("p",null,"Profile")));function da(){if(console.log("closeInfoWindow"),A(),L(),window.infoWindow){var e=document.getElementById("infowindowContents");e&&d.a.unmountComponentAtNode(e),window.infoWindow.close()}}function ua(e){window.infoWindowClick=!0,Fe(e)}function pa(){_e(!Ve)}function fa(){Ke(!Xe)}function ga(){window.infoWindowClick=!0}function ha(e){window.infoWindowClick=!0,window.mjpegFramerate=e}function va(e,a){var t=he.slice(0),r=t.indexOf(e);r>=0?t.splice(r,1):t.push(e),Ie(t)}return c.a.createElement("div",{className:r.root},c.a.createElement(ye.a,null),c.a.createElement(be.a,{position:"fixed",className:Object(ge.a)(r.appBar,Object(g.a)({},r.appBarShift,l))},c.a.createElement(Ee.a,null,c.a.createElement(F.a,{color:"inherit","aria-label":"open drawer",onClick:function(){s(!0)},edge:"start",className:Object(ge.a)(r.menuButton,Object(g.a)({},r.hide,l))},c.a.createElement(xe.a,null)),c.a.createElement("img",{alt:"Port of Long Beach Logo",src:"./images/POLB logo_inline.png",style:{height:"64px",maxHeight:"100%",maxWidth:"100%"}}),c.a.createElement("div",{className:r.grow}),c.a.createElement("div",{className:r.sectionDesktop},c.a.createElement(Ce.a,{title:"Alerts","aria-label":"Alerts"},c.a.createElement(F.a,{"aria-label":"Alerts",color:"inherit"},c.a.createElement(Oe.a,{color:"secondary"},c.a.createElement(Ge.a,{style:{color:"rgba(0, 0, 0, 0.54)"}})))),c.a.createElement(Ce.a,{title:"Account","aria-label":"Account"},c.a.createElement(F.a,{edge:"end","aria-label":"account of current user","aria-controls":sa,"aria-haspopup":"true",onClick:$e,color:"inherit"},c.a.createElement(Me.a,{style:{color:"rgba(0, 0, 0, 0.54)"}})))),c.a.createElement("div",{className:r.sectionMobile},c.a.createElement(Ce.a,{title:"More Options","aria-label":"More Options"},c.a.createElement(F.a,{"aria-label":"show more","aria-controls":"primary-search-account-menu-mobile","aria-haspopup":"true",onClick:function(e){E(e.currentTarget)},color:"inherit"},c.a.createElement(Re.a,{style:{color:"rgba(0, 0, 0, 0.54)"}})))))),c.a.createElement(we.a,{variant:"permanent",className:Object(ge.a)(r.drawer,(a={},Object(g.a)(a,r.drawerOpen,l),Object(g.a)(a,r.drawerClose,!l),a)),classes:{paper:Object(ge.a)((t={},Object(g.a)(t,r.drawerOpen,l),Object(g.a)(t,r.drawerClose,!l),t))},open:l},c.a.createElement("div",{className:r.toolbar},c.a.createElement(F.a,{onClick:function(){s(!1)}},"rtl"===n.direction?c.a.createElement(He.a,null):c.a.createElement(Pe.a,null))),c.a.createElement(ke.a,null),ce?c.a.createElement(X.a,{className:r.list},c.a.createElement(Ce.a,{title:"Map View","aria-label":"Map View"},c.a.createElement(Z.a,{button:!0,key:"MapView",onClick:ia},c.a.createElement(K.a,{className:r.listIcon},c.a.createElement(ea.a,null)),c.a.createElement($.a,{primary:"Map View"}))),c.a.createElement(ke.a,null)):c.a.createElement(X.a,{className:r.list},c.a.createElement(Ce.a,{title:"Camera Grid View","aria-label":"Camera Grid View"},c.a.createElement(Z.a,{button:!0,key:"CameraGridView",onClick:ia},c.a.createElement(K.a,{className:r.listIcon},c.a.createElement(Qe.a,null)),c.a.createElement($.a,{primary:"Camera Grid View"}))),c.a.createElement(ke.a,null),c.a.createElement(Ce.a,{title:"Cameras","aria-label":"Cameras"},c.a.createElement(Z.a,{button:!0,key:"CamerasItem",onClick:function(){ce?me(!ce):V(!H),da()}},c.a.createElement(K.a,{className:r.listIcon},c.a.createElement(Oe.a,{color:"primary",variant:"dot",invisible:!H},c.a.createElement(Le.a,null))),c.a.createElement($.a,{primary:"Cameras"}))),c.a.createElement(Ce.a,{title:"AIS","aria-label":"AIS"},c.a.createElement(Z.a,{button:!0,key:"AISItem",onClick:function(){ce?me(!ce):Y(!J)}},c.a.createElement(K.a,{className:r.listIcon},c.a.createElement(Oe.a,{color:"primary",variant:"dot",invisible:!J},c.a.createElement(Ue.a,null))),c.a.createElement($.a,{primary:"AIS"}))),c.a.createElement(Ce.a,{title:"Traffic","aria-label":"Traffic"},c.a.createElement(Z.a,{button:!0,key:"TrafficItem",onClick:function(){ce?me(!ce):te(!ae)}},c.a.createElement(K.a,{className:r.listIcon},c.a.createElement(Oe.a,{color:"primary",variant:"dot",invisible:!ae},c.a.createElement(Ye.a,null))),c.a.createElement($.a,{primary:"Traffic"}))),c.a.createElement(Ce.a,{title:"Weather","aria-label":"Weather"},c.a.createElement(Z.a,{button:!0,key:"WeatherItem",onClick:function(){ce?me(!ce):oe(!ie)}},c.a.createElement(K.a,{className:r.listIcon},c.a.createElement(Oe.a,{color:"primary",variant:"dot",invisible:!ie},c.a.createElement(Ze.a,null))),c.a.createElement($.a,{primary:"Weather"}))),c.a.createElement(ke.a,null)),function(){var a=[];for(var t in e.favoritesData)a.push(c.a.createElement(Ce.a,{title:t,"aria-label":t,key:t},c.a.createElement(Z.a,{button:!0,key:t,onClick:va.bind(null,t)},c.a.createElement(K.a,{className:r.listAvatar},c.a.createElement(Oe.a,{color:"primary",variant:"dot",invisible:!(he.indexOf(t)>=0)},c.a.createElement(De.a,{className:r.cameraGroupAvatar,style:{backgroundColor:e.favoritesData[t].color}},W(t)))),c.a.createElement($.a,{primary:t}))));return c.a.createElement(X.a,{disablePadding:!0},c.a.createElement(Ce.a,{title:"Favorites Groups","aria-label":"Favorites Groups"},c.a.createElement(Z.a,{button:!0,key:"FavoritesGroupItem",onClick:pa,style:{paddingLeft:"0px"}},Ve?c.a.createElement(na.a,{style:{color:"rgba(0, 0, 0, 0.54)"}}):c.a.createElement(oa.a,{style:{color:"rgba(0, 0, 0, 0.54)"}}),c.a.createElement(K.a,{className:r.listIcon,style:{marginLeft:"0px"}},c.a.createElement("img",{alt:"Favorites Group Icon",src:"./images/videocam_solid_heart_GREY-24px.svg",width:"24px",height:"24px"})),c.a.createElement($.a,{primary:"Favorites Groups"}))),c.a.createElement(Ae.a,{in:Ve,timeout:"auto",style:{borderLeft:"5px solid rgba(0, 0, 0, 0.54)"}},a))}(),function(){var a=[];for(var t in e.cameraGroups)a.push(c.a.createElement(Ce.a,{title:t,"aria-label":t,key:t},c.a.createElement(Z.a,{button:!0,key:t,onClick:va.bind(null,t)},c.a.createElement(K.a,{className:r.listAvatar},c.a.createElement(Oe.a,{color:"primary",variant:"dot",invisible:!(he.indexOf(t)>=0)},c.a.createElement(De.a,{className:r.cameraGroupAvatar},W(t)))),c.a.createElement($.a,{primary:t}))));return c.a.createElement(X.a,{disablePadding:!0},c.a.createElement(Ce.a,{title:"Camera Groups","aria-label":"Camera Groups"},c.a.createElement(Z.a,{button:!0,key:"FavoritesGroupItem",onClick:fa,style:{paddingLeft:"0px"}},Xe?c.a.createElement(na.a,{style:{color:"rgba(0, 0, 0, 0.54)"}}):c.a.createElement(oa.a,{style:{color:"rgba(0, 0, 0, 0.54)"}}),c.a.createElement(K.a,{className:r.listIcon,style:{marginLeft:"0px"}},c.a.createElement(Be.a,{style:{color:"rgba(0, 0, 0, 0.54)"}})),c.a.createElement($.a,{primary:"Camera Groups"}))),c.a.createElement(Ae.a,{in:Xe,timeout:"auto",style:{borderLeft:"5px solid rgba(0, 0, 0, 0.54)"}},a))}()),c.a.createElement("main",{className:r.content},c.a.createElement("div",{className:r.toolbar}),ce?c.a.createElement(pe,{loading:0===Object.keys(e.favoritesData).length,favoritesData:e.favoritesData,cameraData:e.cameraData,selectedCameraGroups:he,onChangeFavorites:ua}):c.a.createElement(M,{center:D,zoom:x,objectArray:function(a,t){var r=[];for(var n in a){var i=R(n,he,e.cameraGroups)||R(n,he,e.favoritesData);a[n].sid=n;var o={id:n,object_type:"camera",marker_type:"camera-marker",name:a[n].name,latitude:a[n].latitude,longitude:a[n].longitude,favorited:R(n,Object.keys(e.favoritesData),e.favoritesData),marker_size:"32px",attributes:a[n],visible:H||i};r.push(o)}for(var l in t)if("x"in t[l]&&"y"in t[l]){var s=z(t[l].id,t[l].type_and_cargo),c={id:l,object_type:"ais",marker_type:"ais-marker",latitude:t[l].y,longitude:t[l].x,marker_size:"8px",attributes:t[l],visible:J,fillColor:s.color,outlineColor:s.color};r.push(c)}return r}(e.cameraData,e.aisData),showTraffic:ae,onMapMove:function(e,a,t){I({lat:e.latitude,lng:e.longitude}),j(a)},onMapMoveStop:function(e,a,t){I({lat:e.latitude,lng:e.longitude}),j(a)},onMapClick:function(e){window.infoWindowClick||da(),window.infoWindowClick=!1},onGraphicClick:function(a,t,r){!function(a,t,r){da();var n=document.createElement("div");n.setAttribute("id","infowindowContents"),d.a.render(c.a.createElement(_,{title:r.name,cameraID:r.sid,favorited:R(r.sid,Object.keys(e.favoritesData),e.favoritesData),onClickFavoriteButton:ua,framerate:window.mjpegFramerate,showFramerate:!0,onClickFramerate:ga,onChangeFramerate:ha}),n),window.infoWindow.setContent(n),window.infoWindow.setPosition({lat:a,lng:t}),window.infoWindow.setOptions({pixelOffset:{width:15,height:0,h:"px",g:"px"}}),window.infoWindow.open(window.map)}(a,t,r)},onAISGraphicClick:function(e,a,t){!function(e,a,t){da();var r=document.createElement("div");r.setAttribute("id","infowindowContents"),d.a.render(c.a.createElement(q,{attributes:t}),r),window.infoWindow.setContent(r),window.infoWindow.setPosition({lat:e,lng:a}),window.infoWindow.setOptions({pixelOffset:{width:3,height:0,h:"px",g:"px"}}),window.infoWindow.open(window.map)}(e,a,t)},onCloseClickInfoWindow:function(){da()},onResetView:function(){I({lat:33.7428634,lng:-118.2365507}),j(13)}})),ma,ca,c.a.createElement(fe,{open:void 0!==Ne,favoritesData:e.favoritesData,onDialogClose:function(){Fe(void 0)},cameraID:Ne,onChangeFavoritesData:function(a){for(var t=he.slice(0),r=0;r<t.length;r++)t[r]in a||t.splice(r,1);Ie(t),e.onChangeFavorites(a)}}))}t(391);var ca=function(e){function a(e){var t;return Object(r.a)(this,a),(t=Object(i.a)(this,Object(o.a)(a).call(this,e))).onChangeFavorites=function(e){t.postFavoritesRequest(e)},t.handleLogout=function(){window.open(window.location.origin+"/logout","_self")},t.updateCamerasTimer=null,t.updateAISTimer=null,t.updateFavoritesTimer=null,t.state={cameras:{},ais:{},userinfo:{first_name:"User"},favorites:{},cameraGroups:{}},t}return Object(l.a)(a,e),Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=this;e.getUserInfoRequest(),e.getCamerasRequest(),e.getFavoritesRequest(),e.getAISRequest(),this.updateCamerasTimer=window.setInterval(function(){e.getCamerasRequest()},3e5),this.updateAISTimer=window.setInterval(function(){e.getAISRequest()},3e5),this.updateFavoritesTimer=window.setInterval(function(){e.getFavoritesRequest()},3e5)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.updateCamerasTimer)}},{key:"getCamerasRequest",value:function(){var e=this;fetch(window.location.origin+"/cameras",{method:"GET",cache:"no-cache"}).then(function(e){return e.text()}).then(function(a){try{var t=JSON.parse(a);e.state.cameras;var r=Object.assign({},e.state,{cameras:t});e.setState(r)}catch(n){console.log(n)}},function(e){console.log(e)})}},{key:"getUserInfoRequest",value:function(){var e=this;fetch(window.location.origin+"/userinfo",{method:"GET",cache:"no-cache"}).then(function(e){return e.text()}).then(function(a){try{var t=JSON.parse(a),r=Object.assign({},e.state,{userinfo:t});e.setState(r)}catch(n){console.log(n)}},function(e){console.log(e)})}},{key:"getFavoritesRequest",value:function(){var e=this;fetch(window.location.origin+"/cameras/favorites",{method:"GET",cache:"no-cache"}).then(function(e){return e.text()}).then(function(a){try{var t=JSON.parse(a),r=Object.assign({},e.state,{favorites:t});e.setState(r)}catch(n){console.log(n)}},function(e){console.log(e)})}},{key:"postFavoritesRequest",value:function(e){var a,t=this;(a=e,fetch(window.location.origin+"/cameras/favorites",{method:"POST",cache:"no-cache",body:JSON.stringify(a)}).then(function(e){return e.text()})).then(function(a){try{var r=Object.assign({},t.state,{favorites:e});t.setState(r)}catch(n){console.log(n)}},function(e){console.log(e)})}},{key:"getAISRequest",value:function(){var e=this;fetch(window.location.origin+"/ais",{method:"GET",cache:"no-cache"}).then(function(e){return e.text()}).then(function(a){try{var t=JSON.parse(a),r=Object.assign({},e.state,{ais:t});e.setState(r)}catch(n){console.log(n)}},function(e){console.log(e)})}},{key:"render",value:function(){return c.a.createElement(sa,{userName:this.state.userinfo.first_name,cameraData:this.state.cameras,aisData:this.state.ais,favoritesData:this.state.favorites,cameraGroups:this.state.cameraGroups,onChangeFavorites:this.onChangeFavorites,onLogout:this.handleLogout})}}]),a}(c.a.Component);d.a.render(c.a.createElement(ca,null),document.getElementById("root"))}},[[201,1,2]]]);
//# sourceMappingURL=main.2e1cfe52.chunk.js.map