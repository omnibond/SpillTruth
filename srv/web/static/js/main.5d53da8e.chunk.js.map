{"version":3,"sources":["port-requests.js","google-map.js","map-markers.js","map-interface.js","utility.js","info-window-ex.js","favorites-page.js","map-page.js","index.js"],"names":["getCameraToken","cameraID","fetch","window","location","origin","method","cache","then","response","text","useStyles","makeStyles","theme","resetViewRoot","backgroundColor","padding","borderRadius","cursor","resetViewIcon","opacity","&:hover","GoogleMap","_React$Component","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onGoogleApiLoaded","_ref","map","maps","self","assertThisInitialized","infoWindow","InfoWindow","pixelOffset","width","height","h","g","resetViewControl","document","createElement","style","margin","ReactDOM","render","react_default","a","ResetViewControl","onClick","onResetView","controls","ControlPosition","RIGHT_TOP","push","event","addListener","onCloseClickInfoWindow","handleOnChange","e","center","latitude","lat","longitude","lng","zoom","nw","bounds","se","viewExtent","onMapMove","handleOnClick","onMapClick","state","inherits","createClass","key","value","layerTypes","showTraffic","lib_default","bootstrapURLKeys","yesIWantToUseGoogleMapApiInternals","onChange","graphics","React","Component","classes","className","title","Home_default","CameraMarker","attributes","favorited","alt","src","size","display","visible","EmojiFlags_default","fontSize","AISMarker","_React$Component2","_this2","Navigation_default","color","fillColor","transform","toString","border","outlineWidth","outlineColor","join","MozBorderRadius","WebkitBorderRadius","MapInterface","onGraphicClick","console","log","onAISGraphicClick","onMapMoveStop","renderDisplayGraphics","objectArray","i","length","obj","map_markers_CameraMarker","Math","random","map_markers_AISMarker","error","google_map_GoogleMap","checkIfCidInCameraGroups","cid","selectedGroups","cameraGroups","sg","indexOf","shipCargoTypeAndColor","Base Station","Aids-to-Navigation","Wing-in-Ground Effects","High-speed Crafts","Tugs & Special Crafts","Fishing Vessels","Towing Vessels","Dredging & Diving Vessels","Military Vessels","Passenger Vessels","Pleasure & Sailing Crafts","Cargo Vessels","Tankers","Others","Unknown","parseShipCargoType","msgID","typeID","type","typeIDString","defineProperty","textAlign","fontWeight","breakpoints","up","imageDisplay","marginTop","minHeight","minWidth","image","maxHeight","maxWidth","controlsDisplayShowFramerate","justifyContent","marginBottom","controlsDisplayHideFramerate","aisTable","borderCollapse","borderSpacing","aisTableHeader","aisTableData","stopAllUpdateImageTimers","cameraTimers","clearInterval","startRenewTokenTimer","token","stopRenewTokenTimer","setInterval","renewCameraToken","CameraDisplay","_React$useState","useState","_React$useState2","slicedToArray","jpegUrl","setJpegUrl","_React$useState3","_React$useState4","imageSrc","setImageSrc","_React$useState5","framerate","_React$useState6","setFramerate","startUpdateImageTimer","url","updateImageFramerate","stopUpdateImageTimer","useEffect","getCameraUrl","successResponse","data","JSON","parse","errorResponse","onLoad","onError","showFramerate","Select","target","onChangeFramerate","onClickFramerate","inputProps","name","id","MenuItem","IconButton","aria-label","onClickFavoriteButton","FavoriteCameraDisplay","_React$useState7","_React$useState8","_React$useState9","_React$useState10","_React$useState11","_React$useState12","AisDisplay","undefined","replace","trim","parseShipCargoTypeForDataDisplay","attr","month","day","hour","minute","datetimeString","parseETA","root","flexWrap","loading","favoriteDisplay","marginLeft","marginRight","boxShadow","favoritesList","favoritesListMain","dialogContent","favoritesTextField","FavoritesPage","onFavoriteCameraClick","favoriteBool","onChangeFavorites","selectedCameraGroups","keys","favoritesData","Typography","variant","gutterBottom","favData","camData","displayArray","camsDisplayed","groupName","favCameras","j","renderFavoriteCameras","cameraData","FavoritesDialog","showBodyDisplay","setShowBodyDisplay","createFavoritesInput","setCreateFavoritesInput","createFavoritesColor","setCreateFavoritesColor","editFavoritesInput","setEditFavoritesInput","removeGroupName","setRemoveGroupName","handleClose","onDialogClose","handleCheckboxToggle","index","splice","onChangeFavoritesData","handleEditFavoritesClick","handleOnChangeCreateFavoritesInput","handleOnChangeEditFavoritesInput","handleOnClickEditFavoritesGroup","oldGroupName","newGroupName","temp","handleOnChangeCreateFavoritesColor","handleOnClickCreateFavoritesGroup","cameras","handleOnClickRemoveFavoritesGroup","handleOnClickCancel","handleRemoveFavoritesGroupsButtonClick","Dialog","onClose","open","aria-labelledby","fullWidth","DialogContent","dividers","List","ListItem","role","dense","ListItemText","primary","ListItemSecondaryAction","edge","Clear_default","listArray","groups","button","ListItemIcon","Checkbox","checked","tabIndex","disableRipple","Delete_default","Create_default","renderFavoritesList","TextField","required","label","react_color_lib","colors","Button","disabled","flexDirection","Add_default","grow","flexGrow","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","concat","enteringScreen","menuButton","userAvatar","deepOrange","search","position","shape","fade","palette","common","white","spacing","searchIcon","pointerEvents","alignItems","inputRoot","inputInput","sectionDesktop","sectionMobile","hide","flexShrink","whiteSpace","drawerOpen","drawerClose","overflowX","list","paddingTop","paddingBottom","listIcon","listAvatar","down","toolbar","objectSpread","mixins","cameraGroupAvatar","content","MapPage","_clsx3","_clsx4","infoWindowClick","useTheme","setOpen","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMenuOpen","Boolean","isMobileMenuOpen","setCenter","setZoom","showCameras","setShowCameras","_React$useState13","_React$useState14","showAIS","setShowAIS","_React$useState15","_React$useState16","_React$useState17","_React$useState18","_React$useState19","_React$useState20","showCameraGridView","setShowCameraGridView","_React$useState21","_React$useState22","setSelectedCameraGroups","_React$useState23","_React$useState24","favoritesDialogCID","setFavoritesDialogCID","_React$useState25","_React$useState26","_React$useState27","_React$useState28","handleProfileMenuOpen","currentTarget","handleMobileMenuClose","handleMenuClose","handleCameraGridViewToggle","closeInfoWindow","mjpegFramerate","menuId","renderMenu","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","Avatar","userName","Divider","onLogout","ExitToApp_default","renderMobileMenu","Badge","Notifications_default","aria-controls","aria-haspopup","AccountCircle_default","contentsDom","getElementById","unmountComponentAtNode","close","CssBaseline","AppBar","clsx","Toolbar","Menu_default","Tooltip","MoreVert_default","Drawer","paper","direction","ChevronRight_default","ChevronLeft_default","Map_default","GridOn_default","invisible","DirectionsBoat_default","renderFavoritesGroups","renderCameraGroups","map_interface_MapInterface","camerasObj","aisObject","sid","cameraGroupsSelected","cameraObj","object_type","marker_type","marker_size","mmsi","shipCargoTypeObject","aisObj","buildObjectArray","aisData","setAttribute","setContent","setPosition","setOptions","openCameraInfoWindow","openAISInfoWindow","newFavoritesData","clone","slice","Main","newFavorites","postFavoritesRequest","handleLogout","updateCamerasTimer","updateAISTimer","updateFavoritesTimer","ais","userinfo","first_name","favorites","getUserInfoRequest","getCamerasRequest","getFavoritesRequest","getAISRequest","newState","assign","setState","_this3","_this4","_this5","body","stringify","_this6","src_Main"],"mappings":"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","file":"static/js/main.5d53da8e.chunk.js","sourcesContent":["export function login(username='', password='') {\n    var data = {\n        username: username,\n        password: password\n    };\n\n    return fetch(window.location.origin + '/login', {\n        method: 'POST',\n        cache: 'no-cache',\n        headers: {\n            //'X-Xsrf-Token': document.cookie('_xsrf')\n        },\n        body: JSON.stringify(data)\n    }).then(response => response.json());\n}\n\n\n\nexport function logout() {\n    window.open(window.location.origin + '/logout',\"_self\");\n}\n\n\n\nexport function getCameras() {\n    var cameras = {\n        'camera-1-sid': {\n            'name': \"Camera 1\",\n            'latitude': 33.7529314,\n            'longitude': -118.2553935,\n            'url_mjpeg': \"\"\n        },\n        'camera-2-sid': {\n            'name': \"Camera 2\",\n            'latitude': 33.7722374,\n            'longitude': -118.2426467,\n            'url_mjpeg': \"\"\n        }\n    };\n    \n    return fetch(window.location.origin + '/cameras', {\n        method: 'GET',\n        cache: 'no-cache'/*,\n        headers: {\n            'Content-Type': 'application/json'\n        }*/\n    }).then(response => response.text());\n    //.then(response => JSON.stringify(cameras));//\n}\n\n\n\nexport function getUserInfo() {\n    return fetch(window.location.origin + '/userinfo', {\n        method: 'GET',\n        cache: 'no-cache'/*,\n        headers: {\n            'Content-Type': 'application/json'\n        }*/\n    }).then(response => response.text());\n}\n\n\n\nexport function renewCameraToken(cameraID, token) {\n    return fetch(window.location.origin + '/cameras/renewtoken?cid=' + cameraID, {\n        method: 'GET',\n        cache: 'no-cache',        \n    });\n}\n\nexport function getCameraToken(cameraID) {\n    var data = {\n        'endpoint_url': \"\",\n        'token': \"0b6995f3ecda4b9a9ef6b23085887790\"\n    };\n\n    return fetch(window.location.origin + '/cameras/createtoken?cid=' + cameraID, {\n        method: 'GET',\n        cache: 'no-cache',        \n    }).then(response => response.text());\n    //.then(response => JSON.stringify(data));//\n}\n\n\n\n\n\n\n\n\nexport function getFavorites() {\n    var favorites = {\n        'My Favorites': {'cameras': ['camera-1-sid'], 'color': \"blue\"},\n        'Some more': {'cameras': ['camera-2-sid'], 'color': \"black\"},\n        'GG': {'cameras': ['camera-1-sid', 'camera-2-sid'], 'color': \"red\"}\n    };\n\n    return fetch(window.location.origin + '/cameras/favorites', {\n        method: 'GET',\n        cache: 'no-cache'\n    }).then(response => response.text());\n    //.then(response => JSON.stringify(favorites));//\n}\n\nexport function postFavorites(favorites) {\n    return fetch(window.location.origin + '/cameras/favorites', {\n        method: 'POST',\n        cache: 'no-cache',\n        body: JSON.stringify(favorites)\n    }).then(response => response.text());\n}\n\n\n\nexport function getAIS() {\n    return fetch(window.location.origin + '/ais', {\n        method: 'GET',\n        cache: 'no-cache'\n    }).then(response => response.text());\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport GoogleMapReact from 'google-map-react';\nimport { makeStyles } from '@material-ui/core/styles';\n//import MyLocationIcon from '@material-ui/icons/MyLocation';\nimport HomeIcon from '@material-ui/icons/Home';\n\n\nconst useStyles = makeStyles(theme => ({\n    resetViewRoot: {\n        backgroundColor: \"white\",\n        padding: \"6px 8px 6px 8px\",\n        borderRadius: 3,\n        cursor: \"pointer\"\n    },\n    resetViewIcon: {\n        opacity: 0.7,\n        '&:hover': {\n            opacity: 1\n        }\n    }\n}));\n\n\nexport class GoogleMap extends React.Component {\n    constructor(props) {\n        super(props);\n        window.map = this.map = null;\n        window.maps = this.maps = null;\n        window.infoWindow = this.infoWindow = null;\n\n        this.state = {\n\n        };\n    }\n\n    onGoogleApiLoaded = ({map, maps}) => {\n        var self = this;\n\n        window.map = this.map = map;\n        window.maps = this.maps = maps;\n        window.infoWindow = this.infoWindow = new maps.InfoWindow({\n            pixelOffset: {width: 15, height: 0, \"h\": \"px\", \"g\": \"px\"}\n        });\n\n        var resetViewControl = document.createElement(\"div\");\n        resetViewControl.style.margin = \"0 10px 0 0\";\n        ReactDOM.render(<ResetViewControl onClick={this.props.onResetView} />, resetViewControl);\n        this.map.controls[this.maps.ControlPosition.RIGHT_TOP].push(resetViewControl);\n\n\n\n        window.maps.event.addListener(window.infoWindow, 'closeclick', function() {\n            self.props.onCloseClickInfoWindow();\n        });\n    }\n\n    handleOnChange = (e) => {\n        var center = {'latitude': e.center.lat, 'longitude': e.center.lng},\n            zoom = e.zoom,\n            nw = e.bounds.nw,\n            se = e.bounds.se,\n            viewExtent = {'nw': {'latitude': nw.lat, 'longitude': nw.lng}, 'se': {'latitude': se.lat, 'longitude': se.lng}};\n            \n        this.props.onMapMove(center, zoom, viewExtent);\n    }\n\n    handleOnClick = (e) => {\n        this.props.onMapClick();\n    }\n\n    render() {\n        var layerTypes = [];\n        if ( this.props.showTraffic ) {\n            layerTypes.push(\"TrafficLayer\");\n        }\n\n        return (\n            <GoogleMapReact\n                bootstrapURLKeys={{key: \"AIzaSyA3xOLcaTSMnZdKEBqJmGrLefLy86AzDMU\"}}\n                onGoogleApiLoaded={this.onGoogleApiLoaded}\n                yesIWantToUseGoogleMapApiInternals={true}\n                //defaultCenter={this.props.center}\n                //defaultZoom={this.props.zoom}\n                center={this.props.center}\n                zoom={this.props.zoom}\n                onChange={this.handleOnChange}\n                onClick={this.handleOnClick}\n                layerTypes={layerTypes}\n            >\n                {this.props.graphics}\n                              \n            </GoogleMapReact>\n        );\n    }\n}\n\n\n\nexport function ResetViewControl(props) {\n    const classes = useStyles();\n\n    return (\n        <div className={classes.resetViewRoot} title=\"Reset Map View\" onClick={props.onClick}>\n            <HomeIcon \n                className={classes.resetViewIcon}\n            />\n        </div>\n    );\n}","import React from 'react';\n\n  /*import VideocamOutlinedIcon from '@material-ui/icons/VideocamOutlined';*/\nimport VideocamOutlinedIcon from '@material-ui/icons/EmojiFlags';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport NavigationIcon from '@material-ui/icons/Navigation';\nimport DirectionsBoatOutlinedIcon from '@material-ui/icons/DirectionsBoatOutlined';\nimport EmojiFlagsIcon from '@material-ui/icons/EmojiFlags';\n\n\n\n\n\nexport class CameraMarker extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n\n        };\n    }\n\n    handleOnClick = (e) => {\n        this.props.onClick(this.props.lat, this.props.lng, this.props.attributes);\n    }\n\n    render() {\n        if ( this.props.favorited ) {\n            return (\n                <img\n                    alt=\"Camera Marker\"\n                    src=\"./images/videocam_clr_heart-24px.svg\"\n                    width={(this.props.size ? this.props.size : 32)}\n                    height={(this.props.size ? this.props.size : 32)}\n                    style={{\n                        cursor: \"pointer\",\n                        display: (this.props.visible ? \"inherit\" : \"none\")\n                    }}\n                    onClick={this.handleOnClick}\n                />\n            );\n        } else {\n            return (\n                <VideocamOutlinedIcon\n                    style={{\n                        cursor: \"pointer\", \n                        display: (this.props.visible ? \"inherit\" : \"none\"), \n                        fontSize: (this.props.size ? this.props.size : 32)\n                    }}\n                    onClick={this.handleOnClick} \n                />\n            );\n        }\n    }\n}\n\n\n\n\n\n\n\n\nexport class AISMarker extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n\n        };\n    }\n\n    handleOnClick = (e) => {\n        this.props.onClick(this.props.lat, this.props.lng, this.props.attributes);\n    }\n\n    render() {\n\n        if ( 'true_heading' in this.props.attributes && this.props.attributes['true_heading'] !== 511 ) {\n            return (\n                <NavigationIcon\n                    style={{\n                        cursor: \"pointer\",\n                        display: (this.props.visible ? \"inherit\" : \"none\"),\n                        fontSize: 16, //(this.props.size ? this.props.size*4 : 32),\n                        color: this.props.fillColor,\n                        transform: \"rotate(\" + (this.props.attributes['true_heading']).toString() + \"deg)\"\n                    }}\n                    onClick={this.handleOnClick}\n                />        \n            );\n        } else {\n            return (\n                <div \n                    style={{ \n                        cursor: \"pointer\",\n                        display: (this.props.visible ? \"inherit\" : \"none\"),\n                        height: 8, //(this.props.size ? this.props.size : 32), \n                        width: 8, //(this.props.size ? this.props.size : 32), \n                        backgroundColor: this.props.fillColor, \n                        \n                        border: [this.props.outlineWidth, \"solid\", this.props.outlineColor].join(\" \"),\n                        borderRadius: \"100%\",\n                        MozBorderRadius: \"100%\",\n                        WebkitBorderRadius: \"100%\"\n                    }}\n                    onClick={this.handleOnClick}\n                />\n            );\n        }\n    }\n}\n\n\n\n\n/***************************************\n * lat=<Number>\n * lng=<Number>\n * url=<String>\n * width=<String-pixels>\n * height=<String-pixels>\n * attributes=<Object>\n * visible=<Boolean>\n * onClick=<callback>\n */\nexport class PictureMarker extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n\n        };\n    }\n\n    handleOnClick = (e) => {\n        this.props.onClick(this.props.lat, this.props.lng, this.props.attributes);\n    }\n\n    render() {\n        return <img\n            style={{cursor: \"pointer\", display: (this.props.visible ? \"inherit\" : \"none\")}}\n            src={this.props.url} \n            width={this.props.width}\n            height={this.props.height}\n            alt={this.props.attributes.id} \n            onClick={this.handleOnClick} \n        />;\n    }\n}\n\n\n\n/***************************************\n * lat=<Number>\n * lng=<Number>\n * markerStyle=<String> // \"circle\", \"square\"\n * fillColor=<color code>\n * size=<pixels>\n * outlineColor=<color code>\n * outlineWidth=<pixels>\n * attributes=<Object>\n * onClick=<callback>\n */\nexport class SimpleMarker extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n\n        };\n    }\n\n    handleOnClick = (e) => {\n        this.props.onClick(this.props.lat, this.props.lng, this.props.attributes);\n    }\n\n    render() {\n        if ( this.props.markerStyle === \"square\" ) {\n            return <div \n                style={{ \n                    height: this.props.size, \n                    width: this.props.size, \n                    backgroundColor: this.props.fillColor, \n                    border: [this.props.outlineWidth, \"solid\", this.props.outlineColor].join(\" \") \n                }}\n                onClick={this.handleOnClick}\n            />;\n        }\n\n        return <div \n            style={{ \n                height: this.props.size, \n                width: this.props.size, \n                backgroundColor: this.props.fillColor, \n                border: [this.props.outlineWidth, \"solid\", this.props.outlineColor].join(\" \"),\n                borderRadius: \"100%\",\n                MozBorderRadius: \"100%\",\n                WebkitBorderRadius: \"100%\"\n            }}\n            onClick={this.handleOnClick}\n        />;\n    }\n}\n\n\n\nexport class TestCom extends React.Component {\n    constructor(props) {\n        super(props);\n        this.timer = null;\n        this.state = {\n            'count': 0\n        };\n    }\n\n    componentWillMount() {\n        this.timer = window.setInterval(this.updateDom, 1000);\n    }\n\n    componentWillUnmount() {\n        window.clearInterval(this.timer);\n    }\n\n    updateDom = () => {\n        var newState = Object.assign({}, this.state, {\n            'count': this.state.count + 1\n        });\n        this.setState(newState);\n    }\n\n    handleClick = () => {\n        console.log(\"You clicked me\");\n    }\n\n    render() {\n        return <div onClick={this.handleClick}>Counter: {this.state.count}</div>\n    }\n}","import React from 'react';\nimport { GoogleMap } from './google-map.js';\nimport { CameraMarker, AISMarker } from './map-markers.js';\n//import { ESRIMap, SimpleMarker, PictureMarker } from './esri-map.js';\n\nexport class MapInterface extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            //'center': this.props.center,\n            //'zoom': this.props.zoom\n        };\n    }\n\n    onMapClick = (e) => {\n        this.props.onMapClick(e);\n    }\n\n    onGraphicClick = (lat, lng, attributes) => {\n        console.log(attributes);\n        this.props.onGraphicClick(lat, lng, attributes);\n    }\n\n    onAISGraphicClick = (lat, lng, attributes) => {\n        console.log(attributes);\n        this.props.onAISGraphicClick(lat, lng, attributes);\n    }\n\n    onMapMove = (center, zoom, viewExtent) => {\n        console.log(center);\n        console.log(zoom);\n        console.log(viewExtent);\n        this.props.onMapMove(center, zoom, viewExtent);\n    }\n\n    onMapMoveStop = (center, zoom, viewExtent) => {\n        this.props.onMapMoveStop(center, zoom, viewExtent);\n    }\n\n    onCloseClickInfoWindow = () => {\n        this.props.onCloseClickInfoWindow();\n    }\n\n    onResetView = () => {\n        this.props.onResetView();\n    }\n\n    renderDisplayGraphics = (objectArray) => {\n        var graphics = [];\n\n        if ( objectArray ) {\n            for (var i = 0; i < objectArray.length; i++) {\n                var obj = objectArray[i];\n\n                switch (obj['marker_type']) {\n                    /*case 'simple-marker':\n                        graphics.push(\n                            <SimpleMarker\n                                key={obj['id'] + Math.random().toString()}\n                                lat={obj['latitude']}\n                                lng={obj['longitude']}\n                                markerStyle={obj['style']}\n                                size={obj['size']}\n                                fillColor={obj['color']}\n                                outlineWidth={obj['outlineWidth']}\n                                outlineColor={obj['outlineColor']}\n                                attributes={obj['attributes']}\n                                visible={obj['visible']}\n                                onClick={this.onGraphicClick}\n                            />\n                        );\n                    break;\n\n                    case 'picture-marker':\n                        graphics.push(\n                            <PictureMarker\n                                key={obj['id'] + Math.random().toString()}\n                                lat={obj['latitude']}\n                                lng={obj['longitude']}\n                                url={obj['marker_url']}\n                                width={obj['marker_width']}\n                                height={obj['marker_height']}\n                                attributes={obj['attributes']}\n                                visible={obj['visible']}\n                                onClick={this.onGraphicClick}\n                            />\n                        );\n                    break;*/\n\n                    case 'camera-marker':\n                        graphics.push(\n                            <CameraMarker\n                                key={obj['id'] + Math.random().toString()}\n                                lat={obj['latitude']}\n                                lng={obj['longitude']}\n                                size={obj['marker_size']}\n                                attributes={obj['attributes']}\n                                visible={obj['visible']}\n                                favorited={obj['favorited']}\n                                onClick={this.onGraphicClick}\n                            />\n                        );\n                    break;\n\n\n                    case 'ais-marker':\n                        graphics.push(\n                            <AISMarker\n                                key={obj['id'] + Math.random().toString()}\n                                lat={obj['latitude']}\n                                lng={obj['longitude']}\n                                size={obj['marker_size']}\n                                fillColor={obj['fillColor']}\n                                outlineWidth=\"1px\"\n                                outlineColor={obj['outlineColor']}\n                                attributes={obj['attributes']}\n                                visible={obj['visible']}\n                                onClick={this.onAISGraphicClick}\n                            />\n                        )\n                    break;\n\n                    default:\n                        console.error(\"Marker type: \" + obj['marker_type'] + \" is not supported.\");\n                    break;\n                };\n            }\n        }\n\n        return graphics;\n    }\n\n    render() {        \n        /*return <ESRIMap \n            center={this.props.center} \n            zoom={this.props.zoom} \n            graphics={this.renderDisplayGraphics(this.props.objectArray)} \n            onMapClick={this.onMapClick} \n            onGraphicClick={this.onGraphicClick}\n            onMapMove={this.onMapMove}\n            onMapMoveStop={this.onMapMoveStop}\n        />;*/\n\n        return <GoogleMap\n            center={this.props.center}\n            zoom={this.props.zoom}\n            graphics={this.renderDisplayGraphics(this.props.objectArray)}\n            showTraffic={this.props.showTraffic}\n            onMapMove={this.onMapMove}\n            onMapClick={this.onMapClick}\n            onCloseClickInfoWindow={this.onCloseClickInfoWindow}\n            onResetView={this.onResetView}\n        />;\n    }\n}","export function setAuthToken(token='', rememberMeFlag=false) {\n    if ( rememberMeFlag ) {\n        var exp = new Date();\n        exp.setDate(exp.getDate() + 365);\n        document.cookie = \"auth=\" + token + \"; expires=\" + exp.toUTCString();\n    } else {\n        document.cookie = \"auth=\" + token;\n    }\n}\n\nexport function getAuthToken() {\n    var cookie = document.cookie;\n    var c1 = cookie.split(\"; \");\n\n    for (var i in c1) {\n        if ( c1[i].split(\"=\")[0] === \"auth\" ) {\n            return c1[i].split(\"=\")[1];\n        }\n    }\n\n    return '';\n}\n\nexport function getLoggedInUser() {\n    var cookie = document.cookie;\n    var c1 = cookie.split(\"; \");\n\n    for (var i in c1) {\n        if ( c1[i].split(\"=\")[0] === \"user\" ) {\n            return c1[i].split(\"=\")[1];\n        }\n    }\n\n    return '';\n}\n\n\nexport function checkObjectDifferences(obj1, obj2) {\n    // TODO\n    \n    return true;\n}\n\nexport function checkIfCidInCameraGroups(cid, selectedGroups, cameraGroups) {\n    for (var i = 0; i < selectedGroups.length; i++) {\n        var sg = selectedGroups[i];\n        if ( (sg in cameraGroups) && (cameraGroups[sg]['cameras'].indexOf(cid) >= 0) ) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nexport function parseCameraGroupsInitials(groupName) {\n    var initials = groupName[0];\n\n    if ( groupName.length > 1 ) {\n        var spaceIndex = groupName.indexOf(' ');\n        if ( (spaceIndex >= 1) && (groupName.length > spaceIndex + 1) ) {\n            initials += groupName[spaceIndex + 1];\n        } else {\n            initials += groupName[1];\n        }\n    }\n\n    return initials;\n}\n\nexport var shipCargoTypeAndColor = {\n    'Base Station': \"cyan\",\n    'Aids-to-Navigation': \"yellow\",\n    'Wing-in-Ground Effects': \"violet\",\n    'High-speed Crafts': \"white\",\n    'Tugs & Special Crafts': \"teal\",\n    'Fishing Vessels': \"brown\",\n    'Towing Vessels': \"pink\",\n    'Dredging & Diving Vessels': \"purple\",\n    'Military Vessels': \"red\",\n    'Passenger Vessels': \"blue\",\n    'Pleasure & Sailing Crafts': \"magenta\",\n    'Cargo Vessels': \"green\",\n    'Tankers': \"orange\",\n    'Others': \"black\",\n    'Unknown': \"grey\"\n};\n\nexport function parseShipCargoType(msgID, typeID) {\n    if ( msgID === 4 ) {\n        return {\n            'type': 'Base Station',\n            'color': shipCargoTypeAndColor['Base Station']\n        };\n    }\n\n    if ( msgID === 21 ) {\n        return {\n            'type': 'Aids-to-Navigation',\n            'color': shipCargoTypeAndColor['Aids-to-Navigation']\n        };\n    }\n\n    if ( !typeID ) {\n        return {\n            'type': 'Unknown',\n            'color': shipCargoTypeAndColor['Unknown']\n        };\n    }\n\n    var typeIDString = typeID.toString();\n    switch (typeIDString[0]) {\n        case '2':\n            return {\n                'type': 'Wing-in-Ground Effects',\n                'color': shipCargoTypeAndColor['Wing-in-Ground Effects']\n            };\n\n        case '3':\n            if ( typeIDString[1] === '0' ) {\n                return {\n                    'type': 'Fishing Vessels',\n                    'color': shipCargoTypeAndColor['Fishing Vessels']\n                };\n            }\n\n            if ( typeIDString[1] === '1' || typeIDString[1] === '2' ) {\n                return {\n                    'type': 'Towing Vessels',\n                    'color': shipCargoTypeAndColor['Towing Vessels']\n                };\n            }\n\n            if ( typeIDString[1] === '3' || typeIDString[1] === '4' ) {\n                return {\n                    'type': 'Dredging & Diving Vessels',\n                    'color': shipCargoTypeAndColor['Dredging & Diving Vessels']\n                };\n            }\n\n            if ( typeIDString[1] === '5' ) {\n                return {\n                    'type': 'Military Vessels',\n                    'color': shipCargoTypeAndColor['Military Vessels']\n                };\n            }\n\n            if ( typeIDString[1] === '6' || typeIDString[1] === '7' ) {\n                return {\n                    'type': 'Pleasure & Sailing Crafts',\n                    'color': shipCargoTypeAndColor['Pleasure & Sailing Crafts']\n                };\n            }\n\n            if ( typeIDString[1] === '8' || typeIDString[1] === '9' ) {\n                return {\n                    'type': 'Unknown',\n                    'color': shipCargoTypeAndColor['Unknown']\n                };\n            }\n        break;\n\n        case '4':\n            return {\n                'type': 'High-speed Crafts',\n                'color': shipCargoTypeAndColor['High-speed Crafts']\n            };\n\n        case '5':\n            return {\n                'type': 'Tugs & Special Crafts',\n                'color': shipCargoTypeAndColor['Tugs & Special Crafts']\n            };\n\n        case '6':\n            return {\n                'type': 'Passenger Vessels',\n                'color': shipCargoTypeAndColor['Passenger Vessels']\n            };\n\n        case '7':\n            return {\n                'type': 'Cargo Vessels',\n                'color': shipCargoTypeAndColor['Cargo Vessels']\n            };\n\n        case '8':\n            return {\n                'type': 'Tankers',\n                'color': shipCargoTypeAndColor['Tankers']\n            };\n\n        case '9':\n            return {\n                'type': 'Others',\n                'color': shipCargoTypeAndColor['Others']\n            };\n\n        default:\n            return {\n                'type': 'Unknown',\n                'color': shipCargoTypeAndColor['Unknown']\n            };\n    }\n\n}\n\n\nexport function parseShipCargoTypeForDataDisplay(typeID) {\n    if ( typeID === 0 ) {\n        return \"N/A\";\n    }\n\n    var typeArray = [\n        [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"],\n        [\"Reserved\", \"Reserved\", \"Reserved\", \"Reserved\", \"Reserved\", \"Reserved\", \"Reserved\", \"Reserved\", \"Reserved\", \"Reserved\"],\n        [\"WIG\", \"WIG (Carrying DG, HS, MP, IMO hazard or pollutant category X)\", \"WIG (Carrying DG, HS, MP,IMO hazard or pollutant category Y)\", \"WIG (Carrying DG, HS, MP, IMO hazard or pollutant category Z)\", \"WIG (Carrying DG, HS, MP, IMO hazard or pollutant category OS)\", \"WIG (Reserved)\", \"WIG (Reserved)\", \"WIG (Reserved)\", \"WIG (Reserved)\", \"WIG (No additional information)\"],\n        [\"Vessel (Fishing)\", \"Vessel (Towing)\", \"Vessel (Towing length exceeding 200 m or breadth exceeds 25 m)\", \"Vessel (Dredging or underwater operations)\", \"Vessel (Diving operations)\", \"Vessel (Military operations)\", \"Vessel (Sailing)\", \"Vessel (Pleasure craft)\", \"Vessel (Reserved)\", \"Vessel (Reserved)\"],\n        [\"HSC\", \"HSC (Carrying DG, HS, MP, IMO hazard or pollutant category X)\", \"HSC (Carrying DG, HS, MP, IMO hazard or pollutant category Y)\", \"HSC (Carrying DG, HS, MP, IMO hazard or pollutant category Z)\", \"HSC (Carrying DG, HS, MP, IMO hazard or pollutant category OS)\", \"HSC (Reserved)\", \"HSC (Reserved)\", \"HSC (Reserved)\", \"HSC (Reserved)\", \"HSC (No additional information)\"],\n        [\"Pilot vessel\", \"Search and rescue vessel\", \"Tug\", \"Port tender\", \"Vessel w/ anti-pollution facilities and equipment\", \"Law enforcement vessel\", \"Spare (local vessel)\", \"Spare (local vessel)\", \"Medical transport\", \"Ship and/or aircraft of states not parties to an armed conflict\"],\n        [\"Passenger ship\", \"Passenger ship (Carrying DG, HS, MP, IMO hazard or pollutant category X)\", \"Passenger ship (Carrying DG, HS, MP, IMO hazard or pollutant category Y)\", \"Passenger ship (Carrying DG, HS, MP, IMO hazard or pollutant category Z)\", \"Passenger ship (Carrying DG, HS, MP, IMO hazard or pollutant category OS)\", \"Passenger ship (Reserved)\", \"Passenger ship (Reserved)\", \"Passenger ship (Reserved)\", \"Passenger ship (Reserved)\", \"Passenger ship (No additional information)\"],\n        [\"Cargo ship\", \"Cargo ship (Carrying DG, HS, MP, IMO hazard or pollutant category X)\", \"Cargo ship (Carrying DG, HS, MP, IMO hazard or pollutant category Y)\", \"Cargo ship (Carrying DG, HS, MP, IMO hazard or pollutant category Z)\", \"Cargo ship (Carrying DG, HS, MP, IMO hazard or pollutant category OS)\", \"Cargo ship (Reserved)\", \"Cargo ship (Reserved)\", \"Cargo ship (Reserved)\", \"Cargo ship (Reserved)\", \"Cargo ship (No additional information)\"],\n        [\"Tanker\", \"Tanker (Carrying DG, HS, MP, IMO hazard or pollutant category X)\", \"Tanker (Carrying DG, HS, MP, IMO hazard or pollutant category Y)\", \"Tanker (Carrying DG, HS, MP, IMO hazard or pollutant category Z)\", \"Tanker (Carrying DG, HS, MP, IMO hazard or pollutant category OS)\", \"Tanker (Reserved)\", \"Tanker (Reserved)\", \"Tanker (Reserved)\", \"Tanker (Reserved)\", \"Tanker (No additional information)\"],\n        [\"Other\", \"Other (Carrying DG, HS, MP, IMO hazard or pollutant category X)\", \"Other (Carrying DG, HS, MP, IMO hazard or pollutant category Y)\", \"Other (Carrying DG, HS, MP, IMO hazard or pollutant category Z)\", \"Other (Carrying DG, HS, MP, IMO hazard or pollutant category OS)\", \"Other (Reserved)\", \"Other (Reserved)\", \"Other (Reserved)\", \"Other (Reserved)\", \"Other (No additional information)\"],\n    ];\n\n    var typeIDString = typeID.toString();\n\n    return typeArray[typeIDString[0]][typeIDString[1]];\n}","import React from \"react\";\n\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { makeStyles } from '@material-ui/core/styles';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport { getCameraToken, renewCameraToken } from './port-requests.js';\nimport { parseShipCargoTypeForDataDisplay } from './utility.js';\n\n\nconst useStyles = makeStyles(theme => ({\n    title: {\n        width: \"100%\",\n        textAlign: \"center\", \n        fontWeight: \"bold\", \n        fontSize: \".8em\",\n        [theme.breakpoints.up('md')]: {\n            fontSize: \"1.3em\",\n        }\n    },\n    imageDisplay: {\n        border: \"0px solid black\", \n        marginTop: \"5px\",\n        minHeight: 120,\n        minWidth: 160,\n        [theme.breakpoints.up('md')]: {\n            minHeight: 240,\n            minWidth: 320\n        }\n    },\n    image: {\n        maxHeight: \"100%\", \n        maxWidth: \"100%\",\n        height: 120,\n        [theme.breakpoints.up('md')]: {\n            height: 240,\n        }\n    },\n    controlsDisplayShowFramerate: {\n        width: \"100%\", \n        display: \"flex\", \n        justifyContent: \"space-between\", \n        marginTop: \"5px\", \n        marginBottom: \"5px\"\n    },\n    controlsDisplayHideFramerate: {\n        width: \"100%\", \n        display: \"flex\", \n        justifyContent: \"flex-end\", \n        marginTop: \"5px\", \n        marginBottom: \"5px\"\n    },\n    aisTable: {\n        borderCollapse: \"collaspe\",\n        borderSpacing: \"0px\"\n    },\n    aisTableHeader: {\n        textAlign: \"left\",\n        padding: \"3px\",\n        border: \"1px solid black\"\n    },\n    aisTableData: {\n        textAlign: \"right\",\n        padding: \"3px 3px 3px 10px\",\n        border: \"1px solid black\"\n    }\n}));\n\n\nif ( !window.cameraTimers ) {\n    window.cameraTimers = {};\n}\n\nexport function stopAllUpdateImageTimers() {\n    for (var cid in window.cameraTimers) {\n        if ( window.cameraTimers[cid]['imageTimer'] !== null ) {\n            window.clearInterval(window.cameraTimers[cid]['imageTimer']);\n            window.cameraTimers[cid]['imageTimer'] = null;\n            window.cameraTimers[cid]['loaded'] = true;\n        }\n    }\n}\n\nexport function startRenewTokenTimer(cameraID, token) {\n    stopRenewTokenTimer();\n    if ( window.cameraTimers[cameraID]['tokenTimer'] === null ) {\n        window.cameraTimers[cameraID]['tokenTimer'] = window.setInterval(function() {\n            renewCameraToken(cameraID, token);\n        }, 600000);\n    }\n}\n\nexport function stopRenewTokenTimer(cameraID) {\n    if ( cameraID ) {\n        if ( window.cameraTimers[cameraID]['tokenTimer'] !== null ) {\n            window.clearInterval(window.cameraTimers[cameraID]['tokenTimer']);\n            window.cameraTimers[cameraID]['tokenTimer'] = null;\n        }\n    } else {\n        for (var cid in window.cameraTimers ) {\n            if ( window.cameraTimers[cid]['tokenTimer'] !== null ) {\n                window.clearInterval(window.cameraTimers[cid]['tokenTimer']);\n                window.cameraTimers[cid]['tokenTimer'] = null;\n            }\n        }\n    }    \n}\n\nexport function CameraDisplay(props) {\n    const classes = useStyles();    \n\n    const [jpegUrl, setJpegUrl] = React.useState('');\n    const [imageSrc, setImageSrc] = React.useState('');\n    //const [favorited, setFavorited] = React.useState(props.favorited);\n    const [framerate, setFramerate] = React.useState((props.framerate ? props.framerate : 5));\n    \n    React.useEffect(() => {\n        if ( (props.cameraID in window.cameraTimers) && (window.cameraTimers[props.cameraID]['imageTimer'] !== null) ) {\n            window.clearInterval(window.cameraTimers[props.cameraID]['imageTimer']);\n        }\n\n        window.cameraTimers[props.cameraID] = {};   \n        window.cameraTimers[props.cameraID]['loaded'] = true;    \n        window.cameraTimers[props.cameraID]['imageTimer'] = null;\n\n        getCameraUrl();       \n\n        return () => {\n            stopUpdateImageTimer();\n            stopRenewTokenTimer(props.cameraID);\n        };\n    }, []);\n\n    function getCameraUrl() {        \n        getCameraToken(props.cameraID)\n        .then(\n\n            (successResponse) => {\n                var data = JSON.parse(successResponse);\n                var url = data['endpoint_url'] + \"/jpeg?token=\" + data['token'];\n                setJpegUrl(url);\n                setImageSrc(url);\n\n                startUpdateImageTimer(url, framerate);\n                startRenewTokenTimer(props.cameraID, data['token']);\n            },\n\n            (errorResponse) => {\n                console.log(errorResponse);\n                stopUpdateImageTimer();\n                stopRenewTokenTimer(props.cameraID);\n                getCameraUrl();                \n            }\n\n        );\n    }\n\n    function startUpdateImageTimer(url, updateImageFramerate) {\n        if ( window.cameraTimers[props.cameraID]['imageTimer'] === null ) {  \n            window.cameraTimers[props.cameraID]['loaded'] = true;    \n            window.cameraTimers[props.cameraID]['imageTimer'] = window.setInterval(function() {\n                if ( window.cameraTimers[props.cameraID]['loaded'] ) {\n                    window.cameraTimers[props.cameraID]['loaded'] = false;\n                    setImageSrc(url + \"&r=\" + Math.random());\n                }\n            }, 1000 / updateImageFramerate);\n        }\n    }\n\n    function stopUpdateImageTimer() {\n        if ( (window.cameraTimers[props.cameraID]['imageTimer'] !== null) ) {\n            window.clearInterval(window.cameraTimers[props.cameraID]['imageTimer']);\n            window.cameraTimers[props.cameraID]['imageTimer'] = null;\n            window.cameraTimers[props.cameraID]['loaded'] = true;\n        }\n    }\n\n    function handleFramerateClick() {\n        props.onClickFramerate();\n    }\n\n    function handleFramerateChange(event) {\n        setFramerate(event.target.value);\n        stopUpdateImageTimer();\n        startUpdateImageTimer(jpegUrl, event.target.value);\n\n        props.onChangeFramerate(event.target.value);\n    }\n\n    function handleFavoriteButtonClick() {\n        //var liked = !favorited;\n        //setFavorited(liked);\n\n        props.onClickFavoriteButton(props.cameraID);\n    }\n\n    function handleImgLoad() {\n        if ( (props.cameraID in window.cameraTimers) && !window.cameraTimers[props.cameraID]['loaded'] ) {\n            window.cameraTimers[props.cameraID]['loaded'] = true;\n        }\n    }\n\n    function handleImgError() {\n        if ( (props.cameraID in window.cameraTimers) && !window.cameraTimers[props.cameraID]['loaded'] ) {\n            window.cameraTimers[props.cameraID]['loaded'] = true;\n        }\n    }\n\n    return (\n        <div>            \n            <div className={classes.title}>\n                {props.title}\n            </div>\n\n            <div className={classes.imageDisplay}>\n                <img\n                    src={imageSrc} \n                    alt={props.title}\n                    className={classes.image}\n                    onLoad={handleImgLoad}\n                    onError={handleImgError}\n                />                \n            </div>\n\n            <div className={(props.showFramerate ? classes.controlsDisplayShowFramerate : classes.controlsDisplayHideFramerate)}>\n                {(props.showFramerate ? \n                    <Select\n                        value={framerate}\n                        onChange={handleFramerateChange}\n                        onClick={handleFramerateClick}\n                        style={{fontSize: \"12px\"}}\n                        inputProps={{\n                            name: 'frametrate',\n                            id: 'outlined-framerate-simple',\n                        }}\n                    >\n                        <MenuItem value={2}>2 fps</MenuItem>\n                        <MenuItem value={5}>5 fps</MenuItem>\n                        <MenuItem value={15}>15 fps</MenuItem>\n                    </Select>\n\n                    :\n\n                    <div />\n                )}\n\n                <IconButton aria-label=\"favorite button\" onClick={handleFavoriteButtonClick}>\n                    <img\n                        alt=\"Favorites Group Icon\"\n                        src={\"./images/videocam_solid_heart_GREY-24px.svg\"}\n                        width=\"24px\"\n                        height=\"24px\"\n                    />\n                </IconButton>\n                \n                \n            </div>\n        </div>\n    );\n}\n\n\n\n\nexport function FavoriteCameraDisplay(props) {\n    const classes = useStyles();    \n    \n    const [jpegUrl, setJpegUrl] = React.useState('');\n    const [imageSrc, setImageSrc] = React.useState('');\n    const [framerate, setFramerate] = React.useState(2);\n\n    React.useEffect(() => {\n        window.cameraTimers[props.cameraID] = {};   \n        window.cameraTimers[props.cameraID]['loaded'] = true;    \n        window.cameraTimers[props.cameraID]['imageTimer'] = null;\n\n        getCameraToken(props.cameraID)\n        .then(\n            \n            (successResponse) => {\n                var data = JSON.parse(successResponse);\n                var url = data['endpoint_url'] + \"/jpeg?token=\" + data['token'];\n                setJpegUrl(url);\n                setImageSrc(url);\n\n                startUpdateImageTimer(url, framerate);\n                startRenewTokenTimer(props.cameraID, data['token']);\n            },\n\n            (errorResponse) => {\n                stopUpdateImageTimer();\n                stopRenewTokenTimer(props.cameraID);\n                console.log(errorResponse);\n            }\n\n        );\n        \n        \n        return () => {console.log(props.cameraID);\n            stopUpdateImageTimer();\n            stopRenewTokenTimer(props.cameraID);\n        };\n    }, []);\n\n    function startUpdateImageTimer(url, updateImageFramerate) {\n        if ( window.cameraTimers[props.cameraID]['imageTimer'] === null ) {  \n            window.cameraTimers[props.cameraID]['loaded'] = true;    \n            window.cameraTimers[props.cameraID]['imageTimer'] = window.setInterval(function() {\n                if ( window.cameraTimers[props.cameraID]['loaded'] ) {\n                    window.cameraTimers[props.cameraID]['loaded'] = false;\n                    setImageSrc(url + \"&r=\" + Math.random());\n                }\n            }, 1000 / updateImageFramerate);\n        }\n    }\n\n    function stopUpdateImageTimer() {\n        if ( (window.cameraTimers[props.cameraID]['imageTimer'] !== null) ) {\n            window.clearInterval(window.cameraTimers[props.cameraID]['imageTimer']);\n            window.cameraTimers[props.cameraID]['imageTimer'] = null;\n            window.cameraTimers[props.cameraID]['loaded'] = true;\n        }\n    }\n\n    function handleFramerateClick() {\n        //props.onClickFramerate();\n    }\n\n    function handleFramerateChange(event) {\n        setFramerate(event.target.value);\n        stopUpdateImageTimer();\n        startUpdateImageTimer(jpegUrl, event.target.value);\n    }\n\n    function handleFavoriteButtonClick() {\n        props.onClickFavoriteButton(props.cameraID);\n    }\n\n    function handleImageLoad() {\n        if ( (props.cameraID in window.cameraTimers) && !window.cameraTimers[props.cameraID]['loaded'] ) {\n            window.cameraTimers[props.cameraID]['loaded'] = true;\n        }\n    }\n\n    function handleImageError() {\n        if ( (props.cameraID in window.cameraTimers) && !window.cameraTimers[props.cameraID]['loaded'] ) {\n            window.cameraTimers[props.cameraID]['loaded'] = true;\n        }\n    }\n\n    return (\n        <div>            \n            <div className={classes.title}>\n                {props.title}\n            </div>\n\n            <div className={classes.imageDisplay}>\n                <img\n                    src={imageSrc}\n                    alt={props.title}\n                    className={classes.image}\n                    onLoad={handleImageLoad}\n                    onError={handleImageError}\n                />\n            </div>\n\n            <div className={(props.showFramerate ? classes.controlsDisplayShowFramerate : classes.controlsDisplayHideFramerate)}>\n                {(props.showFramerate ? \n                    <Select\n                        value={framerate}\n                        onChange={handleFramerateChange}\n                        onClick={handleFramerateClick}\n                        style={{fontSize: \"12px\"}}\n                        inputProps={{\n                            name: 'frametrate',\n                            id: 'outlined-framerate-simple',\n                        }}\n                    >\n                        <MenuItem value={2}>2 fps</MenuItem>\n                        <MenuItem value={5}>5 fps</MenuItem>\n                        <MenuItem value={15}>15 fps</MenuItem>\n                    </Select>\n\n                    :\n\n                    <div />\n                )}\n\n\n                <IconButton aria-label=\"favorite button\" onClick={handleFavoriteButtonClick}>\n                    <img\n                        alt=\"Favorites Group Icon\"\n                        src={\"./images/videocam_solid_heart_GREY-24px.svg\"}\n                        width=\"24px\"\n                        height=\"24px\"\n                    />\n                </IconButton>\n                \n            </div>\n        </div>\n    );\n}\n\n\n\n\n\n\nexport function AisDisplay(props) {\n    const classes = useStyles();    \n\n    React.useEffect(() => {\n        stopAllUpdateImageTimers();\n\n        return () => {\n            \n        };\n    }, []);\n\n\n    function parseETA(attr) {\n        var month  = attr['eta_month'],\n            day    = attr['eta_day'],\n            hour   = attr['eta_hour'],\n            minute = attr['eta_minute'];\n\n        if ( month === 0 && day === 0 && hour === 24 && minute === 60 ) {\n            return \"N/A\";\n        }\n\n        var datetimeString = \"\";\n        if ( month > 0 && day > 0 ) {\n            datetimeString += (month < 10 ? \"0\" + month.toString() : month.toString());\n            datetimeString += \"/\" + (day < 10 ? \"0\" + day.toString() : day.toString());\n        }\n\n        if ( hour < 24 && minute < 60 ) {\n            datetimeString += \" \" + (hour < 10 ? \"0\" + hour.toString() : hour.toString());\n            datetimeString += \":\" + (minute < 10 ? \"0\" + minute.toString(): minute.toString());\n        }\n\n        return datetimeString;\n    }\n\n    return (\n        <div>\n            <table className={classes.aisTable}>\n                <tr>\n                    <th className={classes.aisTableHeader}>\n                        MMSI\n                    </th>\n                    <td className={classes.aisTableData}>\n                        {props['attributes']['mmsi']}\n                    </td>\n                </tr>\n                \n                {(props['attributes']['callsign'] !== undefined ?\n                    <tr>\n                        <th className={classes.aisTableHeader}>\n                            CALLSIGN\n                        </th>\n                        <td className={classes.aisTableData}>\n                            {props['attributes']['callsign'].replace(/@/g, \"\").trim()}\n                        </td>\n                    </tr>\n\n                    :\n\n                    undefined\n                )}\n\n                {(props['attributes']['name'] !== undefined ?\n                    <tr>\n                        <th className={classes.aisTableHeader}>\n                            NAME\n                        </th>\n                        <td className={classes.aisTableData}>\n                            {props['attributes']['name'].replace(/@/g, \"\").trim()}\n                        </td>\n                    </tr>\n\n                    :\n\n                    undefined\n                )}\n\n                {(props['attributes']['type_and_cargo'] !== undefined ?\n                    <tr>\n                        <th className={classes.aisTableHeader}>\n                            SHIP/CARGO TYPE\n                        </th>\n                        <td className={classes.aisTableData}>\n                            {parseShipCargoTypeForDataDisplay(props['attributes']['type_and_cargo'])}\n                        </td>\n                    </tr>\n\n                    :\n\n                    undefined\n                )}\n\n                {(props['attributes']['destination'] !== undefined ?\n                    <tr>\n                        <th className={classes.aisTableHeader}>\n                            DESTINATION\n                        </th>\n                        <td className={classes.aisTableData}>\n                            {props['attributes']['destination'].replace(/@/g, \"\").trim()}\n                        </td>\n                    </tr>\n\n                    :\n\n                    undefined\n                )}\n\n                {(props['attributes']['eta_month'] !== undefined ?\n                    <tr>\n                        <th className={classes.aisTableHeader}>\n                            ETA\n                        </th>\n                        <td className={classes.aisTableData}>\n                            {parseETA(props['attributes'])}\n                        </td>\n                    </tr>\n\n                    :\n\n                    undefined\n                )}\n\n                <tr>\n                    <th className={classes.aisTableHeader}>\n                        LATITUDE\n                    </th>\n                    <td className={classes.aisTableData}>\n                        {props['attributes']['y']}\n                    </td>\n                </tr>\n\n                <tr>\n                    <th className={classes.aisTableHeader}>\n                        LONGITUDE\n                    </th>\n                    <td className={classes.aisTableData}>\n                        {props['attributes']['x']}\n                    </td>\n                </tr>\n\n            </table>\n        </div>\n    );\n}","import React from 'react';\nimport { CirclePicker } from 'react-color';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport CreateIcon from '@material-ui/icons/Create';\nimport AddIcon from '@material-ui/icons/Add';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\n\nimport { FavoriteCameraDisplay } from './info-window-ex.js';\n\n\n\n\nconst useStyles = makeStyles(theme => ({\n    root: { \n        display: \"flex\", \n        justifyContent: \"flex-start\", \n        flexWrap: \"wrap\",\n        padding: 5\n    },\n    loading: {\n        display: \"flex\", \n        justifyContent: \"center\", \n        flexWrap: \"wrap\",\n        padding: 5,\n        fontWeight: \"bold\"\n    },\n    favoriteDisplay: {\n        display: \"inline-block\",\n        marginLeft: 5,\n        marginRight: 5,\n        marginBottom: 5,\n        border: \"1px solid #ededed\",\n        borderRadius: 5,\n        boxShadow: \"2px 2px 2px grey\",\n        padding: 2,\n        backgroundColor: \"#ededed\",\n        [theme.breakpoints.up('md')]: {\n            padding: 5\n        }\n    },\n    favoritesList: {\n        minWidth: \"300px\"\n    },\n    favoritesListMain: {\n        maxHeight: \"200px\",\n        minHeight: \"200px\",\n        minWidth: \"300px\"\n    },\n    dialogContent: {\n        padding: \"0 0 0 0\"\n    },\n    favoritesTextField: {\n        width: \"200px\"\n    }\n}));\n\n\n\n\n\nexport function FavoritesPage(props) {\n    const classes = useStyles();\n\n    function checkForCamerasToDisplay(favData, selectedGroups) {\n        for (var i = 0; i < selectedGroups.length; i++) {\n            var groupName = selectedGroups[i];\n\n            if ( (groupName in favData) &&  favData[groupName]['cameras'].length > 0 ) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    function onFavoriteCameraClick(favoriteBool, cameraID) {\n        props.onChangeFavorites(favoriteBool, cameraID);\n    }\n\n    function renderFavoriteCameras(favData, camData, selectedGroups) {\n        var displayArray = [],\n            camsDisplayed = [];\n\n        for (var i = 0; i < selectedGroups.length; i++) {\n            var groupName = selectedGroups[i];\n\n            if ( groupName in favData ) {\n                var favCameras = favData[groupName]['cameras'];\n\n                for (var j = 0; j < favCameras.length; j++) {\n                    var cid = favCameras[j];\n\n                    if ( (cid in camData) && (camsDisplayed.indexOf(cid) === -1) ) {\n                        displayArray.push(\n                            <div key={cid} className={classes.favoriteDisplay}>\n                                <FavoriteCameraDisplay\n                                    title={camData[cid]['name']} \n                                    cameraID={cid}\n                                    favorited={true}\n                                    showFramerate={true}\n                                    onClickFavoriteButton={onFavoriteCameraClick}\n                                />\n                            </div>\n                        );\n\n                        camsDisplayed.push(cid);\n                    }\n                }\n            }\n        }\n\n        return displayArray;\n    }\n\n    return (\n        ( (props.selectedCameraGroups.length === 0) || (Object.keys(props.favoritesData).length === 0) ) ? \n        \n            <div className={classes.loading}>   \n                <Typography variant=\"h6\" gutterBottom>\n                    Select cameras to view.\n                </Typography>\n            </div>\n\n            :\n\n            <div className={classes.root}>\n                {renderFavoriteCameras(props.favoritesData, props.cameraData, props.selectedCameraGroups)}\n            </div>\n        \n    );\n}\n\n\n\n\n\n\n\n\nexport function FavoritesDialog(props) {\n    const classes = useStyles();\n\n    const [showBodyDisplay, setShowBodyDisplay] = React.useState(\"list\");\n    const [createFavoritesInput, setCreateFavoritesInput] = React.useState(\"\");\n    const [createFavoritesColor, setCreateFavoritesColor] = React.useState(\"#000000\");\n    const [editFavoritesInput, setEditFavoritesInput] = React.useState(\"\");\n    const [removeGroupName, setRemoveGroupName] = React.useState(\"\");\n\n\n    function handleClose() {\n        setShowBodyDisplay(\"list\");\n        props.onDialogClose();\n    }\n\n    const handleCheckboxToggle = groupName => () => {\n        var index = props.favoritesData[groupName]['cameras'].indexOf(props.cameraID);\n        if ( index !== -1 ) {\n            props.favoritesData[groupName]['cameras'].splice(index, 1);\n        } else {\n            props.favoritesData[groupName]['cameras'].push(props.cameraID);\n        }\n        props.onChangeFavoritesData(props.favoritesData);\n    }\n\n    const handleEditFavoritesClick = groupName => () => {\n        setEditFavoritesInput(groupName);\n        setShowBodyDisplay(groupName);\n    }\n\n    function handleCreateFavoritesGroupButtonClick() {\n        setShowBodyDisplay(\"create\");\n    }\n\n    const handleOnChangeCreateFavoritesInput = event => {\n        setCreateFavoritesInput(event.target.value);\n    }\n\n    const handleOnChangeEditFavoritesInput = event => {\n        setEditFavoritesInput(event.target.value);\n    }\n\n    function handleOnClickEditFavoritesGroup() {\n        var oldGroupName = showBodyDisplay,\n            newGroupName = editFavoritesInput,\n            color = createFavoritesColor;\n\n            if ( (newGroupName !== \"\") && (oldGroupName in props.favoritesData) ) {\n                var temp = props.favoritesData[oldGroupName];\n                delete props.favoritesData[oldGroupName];\n                props.favoritesData[newGroupName] = temp;\n                props.favoritesData[newGroupName]['color'] = color;\n\n                props.onChangeFavoritesData(props.favoritesData);\n                setShowBodyDisplay(\"list\");\n            }\n    }\n\n    function handleOnChangeCreateFavoritesColor(color, event) {\n        setCreateFavoritesColor(color['hex']);\n    }\n\n    function handleOnClickCreateFavoritesGroup() {\n        var groupName = createFavoritesInput,\n            color = createFavoritesColor;\n\n        if ( groupName !== \"\" ) {\n            if ( groupName in props.favoritesData ) {\n                if ( props.favoritesData[groupName]['cameras'].indexOf(props.cameraID) !== -1 ) {\n                    props.favoritesData[groupName]['cameras'].push(props.cameraID);\n                }\n            } else {\n                props.favoritesData[groupName] = {\n                    'cameras': [props.cameraID],\n                    'color': color\n                };\n            }\n\n            props.onChangeFavoritesData(props.favoritesData);\n            setShowBodyDisplay(\"list\");\n        }\n    }\n\n    function handleOnClickRemoveFavoritesGroup() {\n        var groupName = removeGroupName;\n        if ( groupName in props.favoritesData ) {\n            delete props.favoritesData[groupName];\n        }\n\n        props.onChangeFavoritesData(props.favoritesData);\n        setShowBodyDisplay(\"list\");\n    }\n\n    function handleOnClickCancel() {\n        setShowBodyDisplay(\"list\");\n    }\n\n    const handleRemoveFavoritesGroupsButtonClick = groupName => () => {\n        setRemoveGroupName(groupName);\n        setShowBodyDisplay(\"remove\");\n    }\n\n    function renderBodyDisplay() {\n        if ( showBodyDisplay === 'list' ) {\n            return (\n                <List className={classes.favoritesListMain}>\n                    {renderFavoritesList()}\n                </List>\n            );  \n        }\n\n        if ( showBodyDisplay === 'create' ) {\n            return renderCreateFavoritesDisplay();\n        }\n\n        if ( showBodyDisplay === 'remove' ) {\n            return renderRemoveSelectedDisplay();\n        }\n\n        return renderManageFavoritesGroupDisplay();        \n    }\n\n    function renderCreateFavoritesDisplay() {\n        return (\n            <div className={classes.favoritesListMain}>\n                <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n                    <TextField\n                        required\n                        id=\"create-new-favorites-group\"\n                        aria-label=\"new favorites group name input\"\n                        label=\"Name\"\n                        className={classes.favoritesTextField}\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                        value={createFavoritesInput}\n                        onChange={handleOnChangeCreateFavoritesInput}\n                    />\n                </div>\n\n                <div style={{ display: \"flex\", justifyContent: \"center\", marginBottom: \"30px\", marginTop: \"10px\" }}>\n                    <CirclePicker \n                        colors={['#000000', '#FF0000', '#00FF00', '#0000FF', 'orange', 'purple']}\n                        onChange={handleOnChangeCreateFavoritesColor}\n                    />\n                </div>\n\n                <div style={{ display: \"flex\", justifyContent: \"space-around\" }}>\n                    <Button\n                        disabled={(createFavoritesInput === \"\")}\n                        variant=\"contained\"\n                        color=\"primary\"\n                        aria-label=\"create new favorites group\"\n                        onClick={handleOnClickCreateFavoritesGroup}\n                    >\n                        Create\n                    </Button>\n\n                    <Button\n                        variant=\"contained\"\n                        color=\"default\"\n                        aria-label=\"cancel new favorites group\"\n                        onClick={handleOnClickCancel}\n                    >\n                        Cancel\n                    </Button>\n                </div>\n            </div>\n        );\n    }\n\n    function renderManageFavoritesGroupDisplay() {\n        return (\n            <div className={classes.favoritesListMain}>\n                <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n                    <TextField\n                        required\n                        id=\"edit-favorites-group\"\n                        aria-label=\"edit existing favorites group name input\"\n                        label=\"Name\"\n                        className={classes.favoritesTextField}\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                        value={editFavoritesInput}\n                        onChange={handleOnChangeEditFavoritesInput}\n                    />\n                </div>\n\n                <div style={{ display: \"flex\", justifyContent: \"center\", marginBottom: \"30px\", marginTop: \"10px\" }}>\n                    <CirclePicker \n                        colors={['#000000', '#FF0000', '#00FF00', '#0000FF', 'orange', 'purple']}\n                        onChange={handleOnChangeCreateFavoritesColor}\n                    />\n                </div>\n\n                <div style={{ display: \"flex\", justifyContent: \"space-around\" }}>\n                    <Button\n                        disabled={( (editFavoritesInput === \"\") )}\n                        variant=\"contained\"\n                        color=\"primary\"\n                        aria-label=\"confirm edit existing favorites group\"\n                        onClick={handleOnClickEditFavoritesGroup}\n                    >\n                        Edit\n                    </Button>\n\n                    <Button\n                        variant=\"contained\"\n                        color=\"default\"\n                        aria-label=\"cancel new favorites group\"\n                        onClick={handleOnClickCancel}\n                    >\n                        Cancel\n                    </Button>\n                </div>\n            </div>\n        );\n    }\n\n    function renderRemoveSelectedDisplay() {\n        return (\n            <div className={classes.favoritesListMain} style={{ display: \"flex\", justifyContent: \"space-around\", flexDirection: \"column\" }}> \n                \n                <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        Remove {removeGroupName}?\n                    </Typography>  \n                </div>\n\n                <div style={{ display: \"flex\", justifyContent: \"space-around\" }}>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        aria-label=\"confirm removing selected groups button\"\n                        onClick={handleOnClickRemoveFavoritesGroup}\n                    >\n                        Remove\n                    </Button>\n\n                    <Button\n                        variant=\"contained\"\n                        color=\"default\"\n                        aria-label=\"cancel removing selected groups button\"\n                        onClick={handleOnClickCancel}\n                    >\n                        Cancel\n                    </Button>\n                </div>\n            </div>\n        );\n    }\n\n    function renderFavoritesList() {\n        var listArray = [],\n            groups = Object.keys(props.favoritesData);\n\n        for (var i = 0; i < groups.length; i++) {\n            listArray.push(\n                <ListItem key={groups[i]} role={undefined} dense button onClick={handleCheckboxToggle(groups[i])}>\n                    <ListItemIcon>\n                        <Checkbox\n                            edge=\"start\"\n                            checked={props.favoritesData[groups[i]]['cameras'].indexOf(props.cameraID) !== -1}\n                            tabIndex={-1}\n                            disableRipple\n                            inputProps={{ 'aria-label': groups[i] }}\n                            color=\"primary\"\n                        />\n                    </ListItemIcon>\n                    <ListItemText id={groups[i]} primary={groups[i]} />\n                    <ListItemSecondaryAction>\n                        <IconButton edge=\"end\" aria-label=\"delete\" onClick={handleRemoveFavoritesGroupsButtonClick(groups[i])}>\n                            <DeleteIcon />\n                        </IconButton>\n\n                        <IconButton edge=\"end\" aria-label=\"edit\" onClick={handleEditFavoritesClick(groups[i])}>\n                            <CreateIcon />\n                        </IconButton>\n                    </ListItemSecondaryAction>\n                </ListItem>\n            );\n        }\n\n        return listArray;\n    }\n\n    return (\n        <Dialog onClose={handleClose} open={props.open} aria-labelledby=\"favorites-dialog-title\" fullWidth={false} maxWidth=\"lg\">\n            <DialogContent dividers className={classes.dialogContent}>\n                <List className={classes.favoritesList}>\n                    <ListItem key=\"header\" role={undefined} dense>\n                        <ListItemText primary=\"Favorites\" />\n                        <ListItemSecondaryAction>\n                            <IconButton edge=\"end\" aria-label=\"close favorites dialog\" onClick={handleClose}>\n                                <ClearIcon />\n                            </IconButton>\n                        </ListItemSecondaryAction>\n                    </ListItem>                 \n                </List>\n            </DialogContent>\n            \n            <DialogContent dividers className={classes.dialogContent}>\n                {renderBodyDisplay()}\n            </DialogContent>\n           \n            <DialogContent dividers className={classes.dialogContent}>\n                <List className={classes.favoritesList}>\n                    <ListItem key=\"create favorites group\" role={undefined} dense button onClick={handleCreateFavoritesGroupButtonClick}>\n                        <ListItemIcon>\n                            <AddIcon />\n                        </ListItemIcon>\n                        <ListItemText primary=\"Create Favorites Group\" />\n                    </ListItem>\n                </List>\n            </DialogContent>\n\n        </Dialog>\n    );\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { MapInterface } from './map-interface.js';\nimport { CameraDisplay, AisDisplay, stopRenewTokenTimer, stopAllUpdateImageTimers } from './info-window-ex.js';\nimport { FavoritesPage, FavoritesDialog } from './favorites-page.js';\nimport { parseCameraGroupsInitials, checkIfCidInCameraGroups, parseShipCargoType } from './utility.js';\n\nimport clsx from 'clsx';\nimport { makeStyles, useTheme, fade } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport List from '@material-ui/core/List';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport Badge from '@material-ui/core/Badge';\nimport Avatar from '@material-ui/core/Avatar';\nimport { deepOrange, deepPurple } from '@material-ui/core/colors';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Collapse from '@material-ui/core/Collapse';\n/*import VideocamIcon from '@material-ui/icons/Videocam';*/\nimport VideocamIcon from '@material-ui/icons/EmojiFlags';\nimport VideoCallIcon from '@material-ui/icons/VideoCall';\nimport DirectionsBoatIcon from '@material-ui/icons/DirectionsBoat';\nimport DirectionsCarIcon from '@material-ui/icons/DirectionsCar';\nimport WbSunnyIcon from '@material-ui/icons/WbSunny';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\nimport GridOnIcon from '@material-ui/icons/GridOn';\nimport MapIcon from '@material-ui/icons/Map';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\n\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n        width: '100%',\n        height: '100%'\n    },\n    grow: {\n        flexGrow: 1,\n    },\n    appBar: {\n        zIndex: theme.zIndex.drawer + 1,\n        backgroundColor: \"#FFFFFF\",\n        transition: theme.transitions.create(['width', 'margin'], {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n    },\n    appBarShift: {\n        marginLeft: drawerWidth,\n        width: `calc(100% - ${drawerWidth}px)`,\n        transition: theme.transitions.create(['width', 'margin'], {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n    },\n    menuButton: {\n        marginRight: 36,\n        color: \"rgba(0, 0, 0, 0.54)\"\n    },\n    userAvatar: {\n        marginRight: 5,\n        color: '#FFFFFF',\n        backgroundColor: deepOrange[500]\n    },\n    title: {\n        flexGrow: 1,\n        //display: 'none',\n        //[theme.breakpoints.up('sm')]: {\n            //display: 'block',\n        //},\n    },\n    search: {\n        position: 'relative',\n        borderRadius: theme.shape.borderRadius,\n        backgroundColor: fade(theme.palette.common.white, 0.15),\n        '&:hover': {\n            backgroundColor: fade(theme.palette.common.white, 0.25),\n        },\n        marginRight: theme.spacing(2),\n        marginLeft: 0,\n        width: '100%',\n        [theme.breakpoints.up('sm')]: {\n            marginLeft: theme.spacing(3),\n            width: 'auto',\n        },\n    },\n    searchIcon: {\n        width: theme.spacing(7),\n        height: '100%',\n        position: 'absolute',\n        pointerEvents: 'none',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    inputRoot: {\n        color: 'inherit',\n    },\n    inputInput: {\n        padding: theme.spacing(1, 1, 1, 7),\n        transition: theme.transitions.create('width'),\n        width: '100%',\n        [theme.breakpoints.up('md')]: {\n            width: 200,\n        },\n    },\n    sectionDesktop: {\n        display: 'none',\n        [theme.breakpoints.up('md')]: {\n            display: 'flex',\n        },\n    },\n    sectionMobile: {\n        display: 'flex',\n        [theme.breakpoints.up('md')]: {\n            display: 'none',\n        },\n    },\n    hide: {\n        display: 'none',\n    },\n    drawer: {\n        width: drawerWidth,\n        flexShrink: 0,\n        whiteSpace: 'nowrap',\n    },\n    drawerOpen: {\n        width: drawerWidth,\n        transition: theme.transitions.create('width', {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n    },\n    drawerClose: {\n        transition: theme.transitions.create('width', {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        overflowX: 'hidden',\n        width: theme.spacing(7) + 1,\n        //width: theme.spacing(10) + 1,\n        [theme.breakpoints.up('sm')]: {\n            //width: theme.spacing(10) + 1,\n            width: theme.spacing(9) + 1,\n        },\n    },\n    list: {\n        paddingTop: \"0\",\n        paddingBottom: \"0\"\n    },\n    listIcon: {\n        [theme.breakpoints.up('sm')]: {\n            marginLeft: '8px',\n        }\n    },\n    listAvatar: {\n        marginRight: \"9px\",\n        marginLeft: \"-5px\",\n        [theme.breakpoints.down('sm')]: {\n            marginLeft: \"-5px\",\n            marginRight: \"9px\",\n        }\n    },\n    toolbar: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'flex-end',\n        padding: theme.spacing(0, 1),\n        height: \"64px !important\",\n        ...theme.mixins.toolbar,\n    },\n    cameraGroupAvatar: {\n        color: '#fff',\n        width: '32px',\n        height: '32px',\n        fontSize: '1.2em',\n        [theme.breakpoints.down('sm')]: {\n            //paddingLeft: '-5px',\n            //marginLeft: \"-8px\"\n        }\n        \n    },\n    content: {\n        flexGrow: 1,\n        padding: 0,\n        margin: 0,\n        width: '100%',\n        display: \"flex\",\n        flexDirection: \"column\"\n        //padding: theme.spacing(3),\n    },\n}));\n\n\n\nexport function MapPage(props) {\n    if ( window.infoWindowClick === undefined ) {\n        window.infoWindowClick = false;\n    }\n    \n\n    const classes = useStyles();\n    const theme = useTheme();    \n\n    const [open, setOpen] = React.useState(false);\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState(null);\n  \n    const isMenuOpen = Boolean(anchorEl);\n    const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\n  \n\n    const [center, setCenter] = React.useState({lat: 33.7428634, lng: -118.2365507});\n    const [zoom, setZoom] = React.useState(13);\n    const [showCameras, setShowCameras] = React.useState(false);\n    const [showAIS, setShowAIS] = React.useState(false);\n    const [showTraffic, setShowTraffic] = React.useState(false);\n    const [showWeather, setShowWeather] = React.useState(false);\n    const [showCameraGridView, setShowCameraGridView] = React.useState(false);\n    const [selectedCameraGroups, setSelectedCameraGroups] = React.useState([]);\n\n    const [favoritesDialogCID, setFavoritesDialogCID] = React.useState(undefined);\n    const [favoriteGroupsOpen, setFavoriteGroupsOpen] = React.useState(false);\n    const [cameraGroupsOpen, setCameraGroupsOpen] = React.useState(false);\n\n    if ( !window.mjpegFramerate ) {\n        window.mjpegFramerate = 5;\n    }\n\n\n    function handleDrawerOpen() {\n        setOpen(true);\n    }\n\n    function handleDrawerClose() {\n        setOpen(false);\n    }\n\n    function handleProfileMenuOpen(event) {\n        setAnchorEl(event.currentTarget);\n    }\n  \n    function handleMobileMenuClose() {\n        setMobileMoreAnchorEl(null);\n    }\n  \n    function handleMenuClose() {\n        setAnchorEl(null);\n        handleMobileMenuClose();\n    }\n  \n    function handleMobileMenuOpen(event) {\n        setMobileMoreAnchorEl(event.currentTarget);\n    }\n\n    function handleLogout() {        \n        handleMenuClose();\n        props.onLogout();\n    }\n\n    function handleShowCamerasClick() {\n        if ( !showCameraGridView ) {\n            setShowCameras(!showCameras);\n        } else {\n            setShowCameraGridView(!showCameraGridView);\n        }\n\n        closeInfoWindow();\n    }\n\n    function handleShowAISClick() {\n        if ( !showCameraGridView ) {\n            setShowAIS(!showAIS);\n        } else {\n            setShowCameraGridView(!showCameraGridView);\n        }\n    }\n\n    function handleShowTrafficClick() {\n        if ( !showCameraGridView ) {\n            setShowTraffic(!showTraffic);\n        } else {\n            setShowCameraGridView(!showCameraGridView);\n        }\n    }\n\n    function handleShowWeatherClick() {\n        if ( !showCameraGridView ) {\n            setShowWeather(!showWeather);\n        } else {\n            setShowCameraGridView(!showCameraGridView);\n        }\n    }\n\n    function handleCameraGridViewToggle() {\n        setShowCameraGridView(!showCameraGridView);\n        closeInfoWindow();\n    }\n  \n    const menuId = 'primary-search-account-menu';\n    const renderMenu = (\n        <Menu\n            anchorEl={anchorEl}\n            anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n            id={menuId}\n            keepMounted\n            transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n            open={isMenuOpen}\n            onClose={handleMenuClose}\n        >\n\n            <MenuItem onClick={handleMenuClose}>\n                <ListItemIcon>\n                    <Avatar className={classes.userAvatar}>\n                        {props.userName[0]}\n                    </Avatar>\n                </ListItemIcon>\n                <ListItemText primary={props.userName} />\n            </MenuItem>\n\n            <Divider />\n\n            <MenuItem onClick={handleLogout}>\n                <ListItemIcon>\n                    <ExitToAppIcon />\n                </ListItemIcon>\n                <ListItemText primary=\"Sign Out\" />\n            </MenuItem>\n\n        </Menu>\n    );\n  \n    const mobileMenuId = 'primary-search-account-menu-mobile';\n    const renderMobileMenu = (\n        <Menu\n            anchorEl={mobileMoreAnchorEl}\n            anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n            id={mobileMenuId}\n            keepMounted\n            transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n            open={isMobileMenuOpen}\n            onClose={handleMobileMenuClose}\n        > \n\n            <MenuItem>\n                <IconButton aria-label=\"Notifications\" color=\"inherit\">\n                    <Badge color=\"secondary\">\n                        <NotificationsIcon style={{color: \"rgba(0, 0, 0, 0.54)\"}} />\n                    </Badge>\n                </IconButton>\n                <p>Notifications</p>\n            </MenuItem>\n\n            <MenuItem onClick={handleProfileMenuOpen}>\n                <IconButton\n                    aria-label=\"account of current user\"\n                    aria-controls=\"primary-search-account-menu\"\n                    aria-haspopup=\"true\"\n                    color=\"inherit\"\n                >\n                    <AccountCircle style={{color: \"rgba(0, 0, 0, 0.54)\"}} />\n                </IconButton>\n                <p>Profile</p>\n            </MenuItem>\n\n        </Menu>\n    );\n\n    function openCameraInfoWindow(lat, lng, attributes) {\n        closeInfoWindow();\n\n        var content = document.createElement('div');\n        content.setAttribute(\"id\", \"infowindowContents\");\n        ReactDOM.render(\n            <CameraDisplay \n                title={attributes['name']} \n                cameraID={attributes['sid']}\n                favorited={checkIfCidInCameraGroups(attributes['sid'], Object.keys(props.favoritesData), props.favoritesData)}\n                onClickFavoriteButton={onFavoriteCameraClick}\n                framerate={window.mjpegFramerate}\n                showFramerate={true}\n                onClickFramerate={onClickFramerate}\n                onChangeFramerate={onChangeFramerate}\n            />, \n            content\n        );\n\n        window.infoWindow.setContent(content);\n        window.infoWindow.setPosition({lat: lat, lng: lng});\n        window.infoWindow.setOptions({\n            pixelOffset: {width: 15, height: 0, \"h\": \"px\", \"g\": \"px\"}\n        });\n        window.infoWindow.open(window.map);\n    }\n\n    function openAISInfoWindow(lat, lng, attributes) {\n        closeInfoWindow();\n\n        var content = document.createElement('div');\n        content.setAttribute(\"id\", \"infowindowContents\");\n        ReactDOM.render(\n            <AisDisplay\n                attributes={attributes}\n            />, \n            content\n        );\n\n        window.infoWindow.setContent(content);\n        window.infoWindow.setPosition({lat: lat, lng: lng});\n        window.infoWindow.setOptions({\n            pixelOffset: {width: 3, height: 0, \"h\": \"px\", \"g\": \"px\"}\n        });\n        window.infoWindow.open(window.map);\n    }\n\n    function closeInfoWindow() {console.log(\"closeInfoWindow\");\n        stopAllUpdateImageTimers();\n        stopRenewTokenTimer();\n        if ( window.infoWindow ) { \n            var contentsDom = document.getElementById(\"infowindowContents\");\n            if ( contentsDom ) {\n                ReactDOM.unmountComponentAtNode(contentsDom);        \n            }\n            window.infoWindow.close(); \n        }\n    }\n\n    function onCloseClickInfoWindow() {\n        closeInfoWindow();\n    }\n\n    function onMapClick(e) {\n        //console.log(\"onMapClick\");\n        if ( !window.infoWindowClick ) {\n            closeInfoWindow();\n        }\n        window.infoWindowClick = false;\n    }\n\n    function onMapMove(center, zoom, viewExtent) {\n        //console.log(\"onMapMove\");\n        setCenter({lat: center.latitude, lng: center.longitude});\n        setZoom(zoom);\n    }\n\n    function onMapMoveStop(center, zoom, viewExtent) {\n        // console.log(\"onMapMoveStop\");\n        setCenter({lat: center.latitude, lng: center.longitude});\n        setZoom(zoom);\n    }\n\n    function onGraphicClick(lat, lng, attributes) {\n        openCameraInfoWindow(lat, lng, attributes);\n    }\n\n    function onAISGraphicClick(lat, lng, attributes) {\n        openAISInfoWindow(lat, lng, attributes);\n    }\n\n    function onFavoriteCameraClick(cameraID) {\n        window.infoWindowClick = true;\n        \n        setFavoritesDialogCID(cameraID);\n    }\n\n    function handleFavoritesDialogClose() {\n        setFavoritesDialogCID(undefined);\n    }\n\n    function handleOnChangeFavoritesData(newFavoritesData) {\n        var clone = selectedCameraGroups.slice(0);\n        for (var i = 0; i < clone.length; i++) {\n            if ( !(clone[i] in newFavoritesData) ) {\n                clone.splice(i, 1);\n            }\n        }\n        setSelectedCameraGroups(clone);\n\n        props.onChangeFavorites(newFavoritesData);\n    }\n\n    function handleFavoritesGroupOpenToggle() {\n        setFavoriteGroupsOpen(!favoriteGroupsOpen);\n    }\n\n    function handleCameraGroupsOpenToggle() {\n        setCameraGroupsOpen(!cameraGroupsOpen);\n    }\n\n    function onClickFramerate() {\n        window.infoWindowClick = true;\n    }\n\n    function onChangeFramerate(framerate) {\n        window.infoWindowClick = true;\n        window.mjpegFramerate = framerate;\n    }\n\n    function onResetView() {\n        setCenter({lat: 33.7428634, lng: -118.2365507});\n        setZoom(13);\n    }\n\n    function handleCameraGroupClick(groupID, event) {\n        var groupsClone = selectedCameraGroups.slice(0),\n        index = groupsClone.indexOf(groupID);\n        if ( index >= 0 ) {\n            groupsClone.splice(index, 1);            \n        } else {\n            groupsClone.push(groupID);\n        }\n        setSelectedCameraGroups(groupsClone);        \n    }\n\n    function buildObjectArray(camerasObj, aisObject) {\n        var objectArray = [];\n        \n        for (var sid in camerasObj) {\n            var cameraGroupsSelected = (checkIfCidInCameraGroups(sid, selectedCameraGroups, props.cameraGroups) || checkIfCidInCameraGroups(sid, selectedCameraGroups, props.favoritesData));         \n            camerasObj[sid]['sid'] = sid;\n            var cameraObj = {\n                'id': sid,\n                'object_type': \"camera\",\n                'marker_type': \"camera-marker\",\n                'name': camerasObj[sid]['name'],\n                'latitude': camerasObj[sid]['latitude'],\n                'longitude': camerasObj[sid]['longitude'],\n                'favorited': checkIfCidInCameraGroups(sid, Object.keys(props.favoritesData), props.favoritesData),\n                'marker_size': \"32px\",\n                'attributes': camerasObj[sid],\n                'visible': (showCameras || cameraGroupsSelected)\n            };\n\n            objectArray.push(cameraObj);\n        }\n\n\n        for (var mmsi in aisObject) {\n            if ( 'x' in aisObject[mmsi] && 'y' in aisObject[mmsi] ) {\n                var shipCargoTypeObject = parseShipCargoType(aisObject[mmsi]['id'], aisObject[mmsi]['type_and_cargo']);\n                var aisObj = {\n                    'id': mmsi,\n                    'object_type': \"ais\",\n                    'marker_type': \"ais-marker\",\n                    'latitude': aisObject[mmsi]['y'],\n                    'longitude': aisObject[mmsi]['x'],\n                    'marker_size': \"8px\",\n                    'attributes': aisObject[mmsi],\n                    'visible': showAIS,\n                    'fillColor': shipCargoTypeObject['color'],\n                    'outlineColor': shipCargoTypeObject['color']\n                };\n\n                objectArray.push(aisObj);\n            }\n        }\n        \n        return objectArray;\n    }\n\n\n    function renderFavoritesGroups() {\n        var listArray = [];\n\n\n    }\n\n\n    function renderCameraGroups() {\n        var listArray = [];\n\n\n    }\n\n    \n    return (\n        <div className={classes.root}>\n            <CssBaseline />\n\n            <AppBar\n                position=\"fixed\"\n                className={clsx(classes.appBar, {\n                    [classes.appBarShift]: open,\n                })}\n            >\n            \n                <Toolbar>\n                    <IconButton\n                        color=\"inherit\"\n                        aria-label=\"open drawer\"\n                        onClick={handleDrawerOpen}\n                        edge=\"start\"\n                        className={clsx(classes.menuButton, {\n                            [classes.hide]: open,\n                        })}\n                    >\n                        <MenuIcon />\n                    </IconButton>\n\n                    <img\n                        alt={\"Logo\"}\n                        src={\"./images/logo_inline.png\"}\n                        style={{height: \"64px\", maxHeight: \"100%\", maxWidth: \"100%\"}}\n                    />\n\n                    <div className={classes.grow} />\n\n                    <div className={classes.sectionDesktop}>\n                        <Tooltip title=\"Alerts\" aria-label=\"Alerts\">             \n                            <IconButton aria-label=\"Alerts\" color=\"inherit\">\n                                <Badge color=\"secondary\">                                    \n                                    <NotificationsIcon style={{color: \"rgba(0, 0, 0, 0.54)\"}} />                                    \n                                </Badge>\n                            </IconButton>\n                        </Tooltip>\n\n                        <Tooltip title=\"Account\" aria-label=\"Account\">\n                            <IconButton\n                                edge=\"end\"\n                                aria-label=\"account of current user\"\n                                aria-controls={menuId}\n                                aria-haspopup=\"true\"\n                                onClick={handleProfileMenuOpen}\n                                color=\"inherit\"\n                            >                                \n                                <AccountCircle style={{color: \"rgba(0, 0, 0, 0.54)\"}} />                                \n                            </IconButton>\n                        </Tooltip>\n                    </div>\n\n                    <div className={classes.sectionMobile}>\n                        <Tooltip title=\"More Options\" aria-label=\"More Options\">\n                            <IconButton\n                                aria-label=\"show more\"\n                                aria-controls={mobileMenuId}\n                                aria-haspopup=\"true\"\n                                onClick={handleMobileMenuOpen}\n                                color=\"inherit\"\n                            >                            \n                                <MoreVertIcon style={{color: \"rgba(0, 0, 0, 0.54)\"}} />                            \n                            </IconButton>\n                        </Tooltip>\n                    </div>\n                </Toolbar>\n\n            </AppBar>\n\n            <Drawer\n                variant=\"permanent\"\n                className={clsx(classes.drawer, {\n                    [classes.drawerOpen]: open,\n                    [classes.drawerClose]: !open,\n                })}\n                classes={{\n                    paper: clsx({\n                        [classes.drawerOpen]: open,\n                        [classes.drawerClose]: !open,\n                    }),\n                }}\n                open={open}\n            >\n\n                <div className={classes.toolbar}>\n                    <IconButton onClick={handleDrawerClose}>\n                        {theme.direction === 'rtl' ? <ChevronRightIcon /> : <ChevronLeftIcon />}\n                    </IconButton>\n                </div>\n            \n                <Divider />\n\n                \n                {!showCameraGridView ?\n                    <List className={classes.list}>\n                        <Tooltip title=\"Camera Grid View\" aria-label=\"Camera Grid View\">\n                            <ListItem button key=\"CameraGridView\" onClick={handleCameraGridViewToggle}>\n                                <ListItemIcon className={classes.listIcon}>\n                                    <GridOnIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"Camera Grid View\" />\n                            </ListItem>\n                        </Tooltip>\n\n                        <Divider />\n\n                        <Tooltip title=\"Spills\" aria-label=\"Cameras\">\n                            <ListItem button key=\"CamerasItem\" onClick={handleShowCamerasClick} >                        \n                                <ListItemIcon className={classes.listIcon}>\n                                    <Badge color=\"primary\" variant=\"dot\" invisible={!showCameras}>                                    \n                                        <VideocamIcon />                                    \n                                    </Badge>\n                                </ListItemIcon>\n                                <ListItemText primary=\"Cameras\" />\n                            </ListItem>\n                        </Tooltip>                    \n\n                        <Tooltip title=\"AIS\" aria-label=\"AIS\">\n                            <ListItem button key=\"AISItem\" onClick={handleShowAISClick} >\n                                <ListItemIcon className={classes.listIcon}>\n                                    <Badge color=\"primary\" variant=\"dot\" invisible={!showAIS}>                                    \n                                        <DirectionsBoatIcon />                   \n                                    </Badge>\n                                </ListItemIcon>\n                                <ListItemText primary=\"AIS\" />\n                            </ListItem>\n                        </Tooltip> \n\n\n\n                        <Divider />\n                    </List>\n\n                    :\n\n                    <List className={classes.list}>\n                        <Tooltip title=\"Map View\" aria-label=\"Map View\">\n                            <ListItem button key=\"MapView\" onClick={handleCameraGridViewToggle}>\n                                <ListItemIcon className={classes.listIcon}>\n                                    <MapIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"Map View\" />\n                            </ListItem>\n                        </Tooltip>\n\n                        <Divider />\n                    </List>\n                }  \n\n                \n\n                {renderFavoritesGroups()}\n                {renderCameraGroups()}\n\n            </Drawer>\n\n            <main className={classes.content}>\n                <div className={classes.toolbar} />\n\n                {(showCameraGridView ? \n                    <FavoritesPage \n                        loading={(Object.keys(props.favoritesData).length === 0)}\n                        favoritesData={props.favoritesData}\n                        cameraData={props.cameraData}\n                        selectedCameraGroups={selectedCameraGroups}\n                        onChangeFavorites={onFavoriteCameraClick}\n                    />\n\n                    :\n\n                    <MapInterface \n                        center={center} \n                        zoom={zoom} \n                        objectArray={buildObjectArray(props.cameraData, props.aisData)}\n                        showTraffic={showTraffic} \n                        onMapMove={onMapMove}\n                        onMapMoveStop={onMapMoveStop}\n                        onMapClick={onMapClick}\n                        onGraphicClick={onGraphicClick}\n                        onAISGraphicClick={onAISGraphicClick}\n                        onCloseClickInfoWindow={onCloseClickInfoWindow}\n                        onResetView={onResetView}\n                    />                    \n                )}\n            </main>\n\n            {renderMobileMenu}\n            {renderMenu}\n\n            <FavoritesDialog \n                open={(favoritesDialogCID !== undefined)}\n                favoritesData={props.favoritesData}\n                onDialogClose={handleFavoritesDialogClose}\n                cameraID={favoritesDialogCID}\n                onChangeFavoritesData={handleOnChangeFavoritesData}\n            />\n        </div>\n    );\n\n}\n\n\n/*\n\n{!showCameraGridView ?\n                    <MenuItem onClick={handleCameraGridViewToggle}>\n                        <IconButton aria-label=\"Camera Grid View\" >\n                            <GridOnIcon />\n                        </IconButton>\n                        <p>Camera Grid View</p>\n                    </MenuItem>\n\n                    :\n\n                    <MenuItem onClick={handleCameraGridViewToggle}>\n                        <IconButton aria-label=\"Map View\" >\n                            <MapIcon />\n                        </IconButton>\n                        <p>Map View</p>\n                    </MenuItem>\n                } \n\n{!showCameraGridView ?\n                            <Tooltip title=\"Camera Grid View\" aria-label=\"Camera Grid View\">\n                                <IconButton aria-label=\"Camera Grid View\" onClick={handleCameraGridViewToggle} >\n                                    <GridOnIcon />\n                                </IconButton>\n                            </Tooltip>\n\n                            :\n\n                            <Tooltip title=\"Map View\" aria-label=\"Map View\">\n                                <IconButton aria-label=\"Map View\" onClick={handleCameraGridViewToggle} >\n                                    <MapIcon />\n                                </IconButton>\n                            </Tooltip>\n                        }\n                        */","import React from 'react';\nimport ReactDOM from 'react-dom';\n//import { Route, HashRouter as Router } from 'react-router-dom'\n//import CircularProgress from '@material-ui/core/CircularProgress';\n//import { PortLoginInterface } from './port-login-interface.js';\nimport { getCameras, getUserInfo, getFavorites, postFavorites, getAIS } from './port-requests.js';\nimport { MapPage } from './map-page.js';\n//import { pulseVerify } from './pulse-requests.js';\nimport { checkObjectDifferences } from './utility.js';\nimport { logout } from './port-requests.js';\nimport './index.css';\n\nclass Main extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.updateCamerasTimer = null;\n        this.updateAISTimer = null;\n        this.updateFavoritesTimer = null;\n\n        this.state = {\n            'cameras': {},\n            'ais': {},\n            'userinfo': {\n                'first_name': \"User\"\n            },\n            'favorites': {},\n            'cameraGroups': {}\n        };\n    }\n\n    componentDidMount() {\n        var self = this;\n\n        self.getUserInfoRequest();\n        self.getCamerasRequest();\n        self.getFavoritesRequest();\n        self.getAISRequest();\n\n        this.updateCamerasTimer = window.setInterval(function() {\n            self.getCamerasRequest();\n        }, 300000);\n\n        this.updateAISTimer = window.setInterval(function() {\n            self.getAISRequest();\n        }, 300000);\n\n        this.updateFavoritesTimer = window.setInterval(function() {\n            self.getFavoritesRequest();\n        }, 300000);\n    }\n\n    componentWillUnmount() {\n        window.clearInterval(this.updateCamerasTimer);\n    }\n\n    getCamerasRequest() {\n        getCameras()\n        .then(\n\n            (successResponse) => {\n                try {\n                    var data = JSON.parse(successResponse);\n                    // Check for differences and only then setState\n                    if ( checkObjectDifferences(this.state.cameras, data) ) {\n                        var newState = Object.assign({}, this.state, {\n                            'cameras': data\n                        });\n                        this.setState(newState);\n                    }\n                } catch(e) {\n                    console.log(e);\n                }\n            },\n\n            (errorResponse) => {\n                console.log(errorResponse);\n            }\n\n        );\n    }\n\n    getUserInfoRequest() {\n        getUserInfo()\n        .then(\n\n            (successResponse) => {\n                try {\n                    var data = JSON.parse(successResponse);                   \n                    var newState = Object.assign({}, this.state, {\n                        'userinfo': data\n                    });\n                    this.setState(newState);\n                } catch(e) {\n                    console.log(e);\n                }\n            },\n\n            (errorResponse) => {\n                console.log(errorResponse);\n            }\n\n        );\n    }\n\n    getFavoritesRequest() {\n        getFavorites()\n        .then(\n\n            (successResponse) => {                \n                try { \n                    var data = JSON.parse(successResponse);\n                    var newState = Object.assign({}, this.state, {\n                        'favorites': data\n                    });\n\n                    this.setState(newState);\n                } catch(e) {\n                    console.log(e);\n                }\n            },\n\n            (errorResponse) => {\n                console.log(errorResponse);\n            }\n\n        );\n    }\n\n    postFavoritesRequest(newFavorites) {\n        postFavorites(newFavorites)\n        .then(\n\n            (successResponse) => {\n                try {\n                    var newState = Object.assign({}, this.state, {\n                        'favorites': newFavorites\n                    });\n\n                    this.setState(newState);\n                } catch(e) {\n                    console.log(e);\n                }\n            },\n\n            (errorResponse) => {\n                console.log(errorResponse);\n            }\n        );\n    }\n\n    getAISRequest() {\n        getAIS()\n        .then(\n\n            (successResponse) => {\n                try {\n                    var data = JSON.parse(successResponse);\n                    var newState = Object.assign({}, this.state, {\n                        'ais': data\n                    });\n\n                    this.setState(newState);\n                } catch(e) {\n                    console.log(e);\n                }\n            },\n\n            (errorResponse) => {\n                console.log(errorResponse);\n            }\n\n        );\n    }\n\n\n    onChangeFavorites = (newFavorites) => {\n        this.postFavoritesRequest(newFavorites);\n    }\n\n    handleLogout = () => {\n        logout();\n    }\n\n    render() {\n        return <MapPage \n            userName={this.state.userinfo.first_name}\n            cameraData={this.state.cameras}\n            aisData={this.state.ais}\n            favoritesData={this.state.favorites}\n            cameraGroups={this.state.cameraGroups}\n            onChangeFavorites={this.onChangeFavorites}\n            onLogout={this.handleLogout} \n        />; \n    }\n}\n\n// ============================================\n/*const routing = (\n    <Router>\n        <div>\n            <Route exact path=\"/\" component={Main} />\n            <Route path=\"/login\" component={PortLoginInterface} />\n        </div>\n    </Router>\n)*/\n\n// =============================================\n\nReactDOM.render(\n    <Main />,\n    document.getElementById('root')\n);"],"sourceRoot":""}