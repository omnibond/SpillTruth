{"version":3,"sources":["port-requests.js","google-map.js","map-markers.js","map-interface.js","utility.js","info-window-ex.js","favorites-page.js","map-page.js","index.js"],"names":["getCameraToken","cameraID","fetch","window","location","origin","method","cache","then","response","text","useStyles","makeStyles","theme","resetViewRoot","backgroundColor","padding","borderRadius","cursor","resetViewIcon","opacity","&:hover","GoogleMap","_React$Component","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onGoogleApiLoaded","_ref","map","maps","self","assertThisInitialized","infoWindow","InfoWindow","pixelOffset","width","height","h","g","resetViewControl","document","createElement","style","margin","ReactDOM","render","react_default","a","ResetViewControl","onClick","onResetView","controls","ControlPosition","RIGHT_TOP","push","event","addListener","onCloseClickInfoWindow","handleOnChange","e","center","latitude","lat","longitude","lng","zoom","nw","bounds","se","viewExtent","onMapMove","handleOnClick","onMapClick","state","inherits","createClass","key","value","layerTypes","showTraffic","lib_default","bootstrapURLKeys","yesIWantToUseGoogleMapApiInternals","onChange","graphics","React","Component","classes","className","title","Home_default","CameraMarker","attributes","favorited","alt","src","size","display","visible","EmojiFlags_default","fontSize","AISMarker","_React$Component2","_this2","Navigation_default","color","fillColor","transform","toString","border","outlineWidth","outlineColor","join","MozBorderRadius","WebkitBorderRadius","MapInterface","onGraphicClick","console","log","onAISGraphicClick","onMapMoveStop","renderDisplayGraphics","objectArray","i","length","obj","map_markers_CameraMarker","Math","random","map_markers_AISMarker","error","google_map_GoogleMap","checkIfCidInCameraGroups","cid","selectedGroups","cameraGroups","sg","indexOf","parseCameraGroupsInitials","groupName","initials","spaceIndex","shipCargoTypeAndColor","Base Station","Aids-to-Navigation","Wing-in-Ground Effects","High-speed Crafts","Tugs & Special Crafts","Fishing Vessels","Towing Vessels","Dredging & Diving Vessels","Military Vessels","Passenger Vessels","Pleasure & Sailing Crafts","Cargo Vessels","Tankers","Others","Unknown","parseShipCargoType","msgID","typeID","type","typeIDString","defineProperty","textAlign","fontWeight","breakpoints","up","imageDisplay","marginTop","minHeight","minWidth","image","maxHeight","maxWidth","controlsDisplayShowFramerate","justifyContent","marginBottom","controlsDisplayHideFramerate","aisTable","borderCollapse","borderSpacing","aisTableHeader","aisTableData","stopAllUpdateImageTimers","cameraTimers","clearInterval","startRenewTokenTimer","token","stopRenewTokenTimer","setInterval","renewCameraToken","CameraDisplay","_React$useState","useState","_React$useState2","slicedToArray","jpegUrl","setJpegUrl","_React$useState3","_React$useState4","imageSrc","setImageSrc","_React$useState5","framerate","_React$useState6","setFramerate","startUpdateImageTimer","url","updateImageFramerate","stopUpdateImageTimer","useEffect","getCameraUrl","successResponse","data","JSON","parse","errorResponse","onLoad","onError","showFramerate","Select","target","onChangeFramerate","onClickFramerate","inputProps","name","id","MenuItem","IconButton","aria-label","onClickFavoriteButton","FavoriteCameraDisplay","_React$useState7","_React$useState8","_React$useState9","_React$useState10","_React$useState11","_React$useState12","AisDisplay","undefined","replace","trim","parseShipCargoTypeForDataDisplay","attr","month","day","hour","minute","datetimeString","parseETA","root","flexWrap","loading","favoriteDisplay","marginLeft","marginRight","boxShadow","favoritesList","favoritesListMain","dialogContent","favoritesTextField","FavoritesPage","onFavoriteCameraClick","favoriteBool","onChangeFavorites","selectedCameraGroups","keys","favoritesData","Typography","variant","gutterBottom","favData","camData","displayArray","camsDisplayed","favCameras","j","renderFavoriteCameras","cameraData","FavoritesDialog","showBodyDisplay","setShowBodyDisplay","createFavoritesInput","setCreateFavoritesInput","createFavoritesColor","setCreateFavoritesColor","editFavoritesInput","setEditFavoritesInput","removeGroupName","setRemoveGroupName","handleClose","onDialogClose","handleCheckboxToggle","index","splice","onChangeFavoritesData","handleEditFavoritesClick","handleOnChangeCreateFavoritesInput","handleOnChangeEditFavoritesInput","handleOnClickEditFavoritesGroup","oldGroupName","newGroupName","temp","handleOnChangeCreateFavoritesColor","handleOnClickCreateFavoritesGroup","cameras","handleOnClickRemoveFavoritesGroup","handleOnClickCancel","handleRemoveFavoritesGroupsButtonClick","Dialog","onClose","open","aria-labelledby","fullWidth","DialogContent","dividers","List","ListItem","role","dense","ListItemText","primary","ListItemSecondaryAction","edge","Clear_default","listArray","groups","button","ListItemIcon","Checkbox","checked","tabIndex","disableRipple","Delete_default","Create_default","renderFavoritesList","TextField","required","label","react_color_lib","colors","Button","disabled","flexDirection","Add_default","grow","flexGrow","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","concat","enteringScreen","menuButton","userAvatar","deepOrange","search","position","shape","fade","palette","common","white","spacing","searchIcon","pointerEvents","alignItems","inputRoot","inputInput","sectionDesktop","sectionMobile","hide","flexShrink","whiteSpace","drawerOpen","drawerClose","overflowX","list","paddingTop","paddingBottom","listIcon","listAvatar","down","toolbar","objectSpread","mixins","cameraGroupAvatar","content","MapPage","_clsx3","_clsx4","infoWindowClick","useTheme","setOpen","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMenuOpen","Boolean","isMobileMenuOpen","setCenter","setZoom","showCameras","setShowCameras","_React$useState13","_React$useState14","showAIS","setShowAIS","_React$useState15","_React$useState16","_React$useState17","_React$useState18","_React$useState19","_React$useState20","showCameraGridView","setShowCameraGridView","_React$useState21","_React$useState22","setSelectedCameraGroups","_React$useState23","_React$useState24","favoritesDialogCID","setFavoritesDialogCID","_React$useState25","_React$useState26","favoriteGroupsOpen","setFavoriteGroupsOpen","_React$useState27","_React$useState28","cameraGroupsOpen","setCameraGroupsOpen","handleProfileMenuOpen","currentTarget","handleMobileMenuClose","handleMenuClose","handleCameraGridViewToggle","closeInfoWindow","mjpegFramerate","menuId","renderMenu","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","Avatar","userName","Divider","onLogout","ExitToApp_default","renderMobileMenu","Badge","Notifications_default","aria-controls","aria-haspopup","AccountCircle_default","contentsDom","getElementById","unmountComponentAtNode","close","handleFavoritesGroupOpenToggle","handleCameraGroupsOpenToggle","handleCameraGroupClick","groupID","groupsClone","slice","CssBaseline","AppBar","clsx","Toolbar","Menu_default","Tooltip","MoreVert_default","Drawer","paper","direction","ChevronRight_default","ChevronLeft_default","Map_default","GridOn_default","invisible","DirectionsBoat_default","bind","disablePadding","paddingLeft","ExpandLess_default","ExpandMore_default","Collapse","in","timeout","borderLeft","renderFavoritesGroups","VideoCall_default","renderCameraGroups","map_interface_MapInterface","camerasObj","aisObject","sid","cameraGroupsSelected","cameraObj","object_type","marker_type","marker_size","mmsi","shipCargoTypeObject","aisObj","buildObjectArray","aisData","setAttribute","setContent","setPosition","setOptions","openCameraInfoWindow","openAISInfoWindow","newFavoritesData","clone","Main","newFavorites","postFavoritesRequest","handleLogout","updateCamerasTimer","updateAISTimer","updateFavoritesTimer","ais","userinfo","first_name","favorites","getUserInfoRequest","getCamerasRequest","getFavoritesRequest","getAISRequest","newState","assign","setState","_this3","_this4","_this5","body","stringify","_this6","src_Main"],"mappings":"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","file":"static/js/main.7c61d66d.chunk.js","sourcesContent":["export function login(username='', password='') {\n    var data = {\n        username: username,\n        password: password\n    };\n\n    return fetch(window.location.origin + '/login', {\n        method: 'POST',\n        cache: 'no-cache',\n        headers: {\n            //'X-Xsrf-Token': document.cookie('_xsrf')\n        },\n        body: JSON.stringify(data)\n    }).then(response => response.json());\n}\n\n\n\nexport function logout() {\n    window.open(window.location.origin + '/logout',\"_self\");\n}\n\n\n\nexport function getCameras() {\n    var cameras = {\n        'camera-1-sid': {\n            'name': \"Camera 1\",\n            'latitude': 33.7529314,\n            'longitude': -118.2553935,\n            'url_mjpeg': \"\"\n        },\n        'camera-2-sid': {\n            'name': \"Camera 2\",\n            'latitude': 33.7722374,\n            'longitude': -118.2426467,\n            'url_mjpeg': \"\"\n        }\n    };\n    \n    return fetch(window.location.origin + '/cameras', {\n        method: 'GET',\n        cache: 'no-cache'/*,\n        headers: {\n            'Content-Type': 'application/json'\n        }*/\n    }).then(response => response.text());\n    //.then(response => JSON.stringify(cameras));//\n}\n\n\n\nexport function getUserInfo() {\n    return fetch(window.location.origin + '/userinfo', {\n        method: 'GET',\n        cache: 'no-cache'/*,\n        headers: {\n            'Content-Type': 'application/json'\n        }*/\n    }).then(response => response.text());\n}\n\n\n\nexport function renewCameraToken(cameraID, token) {\n    return fetch(window.location.origin + '/cameras/renewtoken?cid=' + cameraID, {\n        method: 'GET',\n        cache: 'no-cache',        \n    });\n}\n\nexport function getCameraToken(cameraID) {\n    var data = {\n        'endpoint_url': \"\",\n        'token': \"0b6995f3ecda4b9a9ef6b23085887790\"\n    };\n\n    return fetch(window.location.origin + '/cameras/createtoken?cid=' + cameraID, {\n        method: 'GET',\n        cache: 'no-cache',        \n    }).then(response => response.text());\n    //.then(response => JSON.stringify(data));//\n}\n\n\n\n\n\n\n\n\nexport function getFavorites() {\n    var favorites = {\n        'My Favorites': {'cameras': ['camera-1-sid'], 'color': \"blue\"},\n        'Some more': {'cameras': ['camera-2-sid'], 'color': \"black\"},\n        'GG': {'cameras': ['camera-1-sid', 'camera-2-sid'], 'color': \"red\"}\n    };\n\n    return fetch(window.location.origin + '/cameras/favorites', {\n        method: 'GET',\n        cache: 'no-cache'\n    }).then(response => response.text());\n    //.then(response => JSON.stringify(favorites));//\n}\n\nexport function postFavorites(favorites) {\n    return fetch(window.location.origin + '/cameras/favorites', {\n        method: 'POST',\n        cache: 'no-cache',\n        body: JSON.stringify(favorites)\n    }).then(response => response.text());\n}\n\n\n\nexport function getAIS() {\n    return fetch(window.location.origin + '/ais', {\n        method: 'GET',\n        cache: 'no-cache'\n    }).then(response => response.text());\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport GoogleMapReact from 'google-map-react';\nimport { makeStyles } from '@material-ui/core/styles';\n//import MyLocationIcon from '@material-ui/icons/MyLocation';\nimport HomeIcon from '@material-ui/icons/Home';\n\n\nconst useStyles = makeStyles(theme => ({\n    resetViewRoot: {\n        backgroundColor: \"white\",\n        padding: \"6px 8px 6px 8px\",\n        borderRadius: 3,\n        cursor: \"pointer\"\n    },\n    resetViewIcon: {\n        opacity: 0.7,\n        '&:hover': {\n            opacity: 1\n        }\n    }\n}));\n\n\nexport class GoogleMap extends React.Component {\n    constructor(props) {\n        super(props);\n        window.map = this.map = null;\n        window.maps = this.maps = null;\n        window.infoWindow = this.infoWindow = null;\n\n        this.state = {\n\n        };\n    }\n\n    onGoogleApiLoaded = ({map, maps}) => {\n        var self = this;\n\n        window.map = this.map = map;\n        window.maps = this.maps = maps;\n        window.infoWindow = this.infoWindow = new maps.InfoWindow({\n            pixelOffset: {width: 15, height: 0, \"h\": \"px\", \"g\": \"px\"}\n        });\n\n        var resetViewControl = document.createElement(\"div\");\n        resetViewControl.style.margin = \"0 10px 0 0\";\n        ReactDOM.render(<ResetViewControl onClick={this.props.onResetView} />, resetViewControl);\n        this.map.controls[this.maps.ControlPosition.RIGHT_TOP].push(resetViewControl);\n\n\n\n        window.maps.event.addListener(window.infoWindow, 'closeclick', function() {\n            self.props.onCloseClickInfoWindow();\n        });\n    }\n\n    handleOnChange = (e) => {\n        var center = {'latitude': e.center.lat, 'longitude': e.center.lng},\n            zoom = e.zoom,\n            nw = e.bounds.nw,\n            se = e.bounds.se,\n            viewExtent = {'nw': {'latitude': nw.lat, 'longitude': nw.lng}, 'se': {'latitude': se.lat, 'longitude': se.lng}};\n            \n        this.props.onMapMove(center, zoom, viewExtent);\n    }\n\n    handleOnClick = (e) => {\n        this.props.onMapClick();\n    }\n\n    render() {\n        var layerTypes = [];\n        if ( this.props.showTraffic ) {\n            layerTypes.push(\"TrafficLayer\");\n        }\n\n        return (\n            <GoogleMapReact\n                bootstrapURLKeys={{key: \"AIzaSyA3xOLcaTSMnZdKEBqJmGrLefLy86AzDMU\"}}\n                onGoogleApiLoaded={this.onGoogleApiLoaded}\n                yesIWantToUseGoogleMapApiInternals={true}\n                //defaultCenter={this.props.center}\n                //defaultZoom={this.props.zoom}\n                center={this.props.center}\n                zoom={this.props.zoom}\n                onChange={this.handleOnChange}\n                onClick={this.handleOnClick}\n                layerTypes={layerTypes}\n            >\n                {this.props.graphics}\n                              \n            </GoogleMapReact>\n        );\n    }\n}\n\n\n\nexport function ResetViewControl(props) {\n    const classes = useStyles();\n\n    return (\n        <div className={classes.resetViewRoot} title=\"Reset Map View\" onClick={props.onClick}>\n            <HomeIcon \n                className={classes.resetViewIcon}\n            />\n        </div>\n    );\n}","import React from 'react';\n\n  /*import VideocamOutlinedIcon from '@material-ui/icons/VideocamOutlined';*/\nimport VideocamOutlinedIcon from '@material-ui/icons/EmojiFlags';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport NavigationIcon from '@material-ui/icons/Navigation';\nimport DirectionsBoatOutlinedIcon from '@material-ui/icons/DirectionsBoatOutlined';\nimport EmojiFlagsIcon from '@material-ui/icons/EmojiFlags';\n\n\n\n\n\nexport class CameraMarker extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n\n        };\n    }\n\n    handleOnClick = (e) => {\n        this.props.onClick(this.props.lat, this.props.lng, this.props.attributes);\n    }\n\n    render() {\n        if ( this.props.favorited ) {\n            return (\n                <img\n                    alt=\"Camera Marker\"\n                    src=\"./images/videocam_clr_heart-24px.svg\"\n                    width={(this.props.size ? this.props.size : 32)}\n                    height={(this.props.size ? this.props.size : 32)}\n                    style={{\n                        cursor: \"pointer\",\n                        display: (this.props.visible ? \"inherit\" : \"none\")\n                    }}\n                    onClick={this.handleOnClick}\n                />\n            );\n        } else {\n            return (\n                <VideocamOutlinedIcon\n                    style={{\n                        cursor: \"pointer\", \n                        display: (this.props.visible ? \"inherit\" : \"none\"), \n                        fontSize: (this.props.size ? this.props.size : 32)\n                    }}\n                    onClick={this.handleOnClick} \n                />\n            );\n        }\n    }\n}\n\n\n\n\n\n\n\n\nexport class AISMarker extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n\n        };\n    }\n\n    handleOnClick = (e) => {\n        this.props.onClick(this.props.lat, this.props.lng, this.props.attributes);\n    }\n\n    render() {\n\n        if ( 'true_heading' in this.props.attributes && this.props.attributes['true_heading'] !== 511 ) {\n            return (\n                <NavigationIcon\n                    style={{\n                        cursor: \"pointer\",\n                        display: (this.props.visible ? \"inherit\" : \"none\"),\n                        fontSize: 16, //(this.props.size ? this.props.size*4 : 32),\n                        color: this.props.fillColor,\n                        transform: \"rotate(\" + (this.props.attributes['true_heading']).toString() + \"deg)\"\n                    }}\n                    onClick={this.handleOnClick}\n                />        \n            );\n        } else {\n            return (\n                <div \n                    style={{ \n                        cursor: \"pointer\",\n                        display: (this.props.visible ? \"inherit\" : \"none\"),\n                        height: 8, //(this.props.size ? this.props.size : 32), \n                        width: 8, //(this.props.size ? this.props.size : 32), \n                        backgroundColor: this.props.fillColor, \n                        \n                        border: [this.props.outlineWidth, \"solid\", this.props.outlineColor].join(\" \"),\n                        borderRadius: \"100%\",\n                        MozBorderRadius: \"100%\",\n                        WebkitBorderRadius: \"100%\"\n                    }}\n                    onClick={this.handleOnClick}\n                />\n            );\n        }\n    }\n}\n\n\n\n\n/***************************************\n * lat=<Number>\n * lng=<Number>\n * url=<String>\n * width=<String-pixels>\n * height=<String-pixels>\n * attributes=<Object>\n * visible=<Boolean>\n * onClick=<callback>\n */\nexport class PictureMarker extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n\n        };\n    }\n\n    handleOnClick = (e) => {\n        this.props.onClick(this.props.lat, this.props.lng, this.props.attributes);\n    }\n\n    render() {\n        return <img\n            style={{cursor: \"pointer\", display: (this.props.visible ? \"inherit\" : \"none\")}}\n            src={this.props.url} \n            width={this.props.width}\n            height={this.props.height}\n            alt={this.props.attributes.id} \n            onClick={this.handleOnClick} \n        />;\n    }\n}\n\n\n\n/***************************************\n * lat=<Number>\n * lng=<Number>\n * markerStyle=<String> // \"circle\", \"square\"\n * fillColor=<color code>\n * size=<pixels>\n * outlineColor=<color code>\n * outlineWidth=<pixels>\n * attributes=<Object>\n * onClick=<callback>\n */\nexport class SimpleMarker extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n\n        };\n    }\n\n    handleOnClick = (e) => {\n        this.props.onClick(this.props.lat, this.props.lng, this.props.attributes);\n    }\n\n    render() {\n        if ( this.props.markerStyle === \"square\" ) {\n            return <div \n                style={{ \n                    height: this.props.size, \n                    width: this.props.size, \n                    backgroundColor: this.props.fillColor, \n                    border: [this.props.outlineWidth, \"solid\", this.props.outlineColor].join(\" \") \n                }}\n                onClick={this.handleOnClick}\n            />;\n        }\n\n        return <div \n            style={{ \n                height: this.props.size, \n                width: this.props.size, \n                backgroundColor: this.props.fillColor, \n                border: [this.props.outlineWidth, \"solid\", this.props.outlineColor].join(\" \"),\n                borderRadius: \"100%\",\n                MozBorderRadius: \"100%\",\n                WebkitBorderRadius: \"100%\"\n            }}\n            onClick={this.handleOnClick}\n        />;\n    }\n}\n\n\n\nexport class TestCom extends React.Component {\n    constructor(props) {\n        super(props);\n        this.timer = null;\n        this.state = {\n            'count': 0\n        };\n    }\n\n    componentWillMount() {\n        this.timer = window.setInterval(this.updateDom, 1000);\n    }\n\n    componentWillUnmount() {\n        window.clearInterval(this.timer);\n    }\n\n    updateDom = () => {\n        var newState = Object.assign({}, this.state, {\n            'count': this.state.count + 1\n        });\n        this.setState(newState);\n    }\n\n    handleClick = () => {\n        console.log(\"You clicked me\");\n    }\n\n    render() {\n        return <div onClick={this.handleClick}>Counter: {this.state.count}</div>\n    }\n}","import React from 'react';\nimport { GoogleMap } from './google-map.js';\nimport { CameraMarker, AISMarker } from './map-markers.js';\n//import { ESRIMap, SimpleMarker, PictureMarker } from './esri-map.js';\n\nexport class MapInterface extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            //'center': this.props.center,\n            //'zoom': this.props.zoom\n        };\n    }\n\n    onMapClick = (e) => {\n        this.props.onMapClick(e);\n    }\n\n    onGraphicClick = (lat, lng, attributes) => {\n        console.log(attributes);\n        this.props.onGraphicClick(lat, lng, attributes);\n    }\n\n    onAISGraphicClick = (lat, lng, attributes) => {\n        console.log(attributes);\n        this.props.onAISGraphicClick(lat, lng, attributes);\n    }\n\n    onMapMove = (center, zoom, viewExtent) => {\n        console.log(center);\n        console.log(zoom);\n        console.log(viewExtent);\n        this.props.onMapMove(center, zoom, viewExtent);\n    }\n\n    onMapMoveStop = (center, zoom, viewExtent) => {\n        this.props.onMapMoveStop(center, zoom, viewExtent);\n    }\n\n    onCloseClickInfoWindow = () => {\n        this.props.onCloseClickInfoWindow();\n    }\n\n    onResetView = () => {\n        this.props.onResetView();\n    }\n\n    renderDisplayGraphics = (objectArray) => {\n        var graphics = [];\n\n        if ( objectArray ) {\n            for (var i = 0; i < objectArray.length; i++) {\n                var obj = objectArray[i];\n\n                switch (obj['marker_type']) {\n                    /*case 'simple-marker':\n                        graphics.push(\n                            <SimpleMarker\n                                key={obj['id'] + Math.random().toString()}\n                                lat={obj['latitude']}\n                                lng={obj['longitude']}\n                                markerStyle={obj['style']}\n                                size={obj['size']}\n                                fillColor={obj['color']}\n                                outlineWidth={obj['outlineWidth']}\n                                outlineColor={obj['outlineColor']}\n                                attributes={obj['attributes']}\n                                visible={obj['visible']}\n                                onClick={this.onGraphicClick}\n                            />\n                        );\n                    break;\n\n                    case 'picture-marker':\n                        graphics.push(\n                            <PictureMarker\n                                key={obj['id'] + Math.random().toString()}\n                                lat={obj['latitude']}\n                                lng={obj['longitude']}\n                                url={obj['marker_url']}\n                                width={obj['marker_width']}\n                                height={obj['marker_height']}\n                                attributes={obj['attributes']}\n                                visible={obj['visible']}\n                                onClick={this.onGraphicClick}\n                            />\n                        );\n                    break;*/\n\n                    case 'camera-marker':\n                        graphics.push(\n                            <CameraMarker\n                                key={obj['id'] + Math.random().toString()}\n                                lat={obj['latitude']}\n                                lng={obj['longitude']}\n                                size={obj['marker_size']}\n                                attributes={obj['attributes']}\n                                visible={obj['visible']}\n                                favorited={obj['favorited']}\n                                onClick={this.onGraphicClick}\n                            />\n                        );\n                    break;\n\n\n                    case 'ais-marker':\n                        graphics.push(\n                            <AISMarker\n                                key={obj['id'] + Math.random().toString()}\n                                lat={obj['latitude']}\n                                lng={obj['longitude']}\n                                size={obj['marker_size']}\n                                fillColor={obj['fillColor']}\n                                outlineWidth=\"1px\"\n                                outlineColor={obj['outlineColor']}\n                                attributes={obj['attributes']}\n                                visible={obj['visible']}\n                                onClick={this.onAISGraphicClick}\n                            />\n                        )\n                    break;\n\n                    default:\n                        console.error(\"Marker type: \" + obj['marker_type'] + \" is not supported.\");\n                    break;\n                };\n            }\n        }\n\n        return graphics;\n    }\n\n    render() {        \n        /*return <ESRIMap \n            center={this.props.center} \n            zoom={this.props.zoom} \n            graphics={this.renderDisplayGraphics(this.props.objectArray)} \n            onMapClick={this.onMapClick} \n            onGraphicClick={this.onGraphicClick}\n            onMapMove={this.onMapMove}\n            onMapMoveStop={this.onMapMoveStop}\n        />;*/\n\n        return <GoogleMap\n            center={this.props.center}\n            zoom={this.props.zoom}\n            graphics={this.renderDisplayGraphics(this.props.objectArray)}\n            showTraffic={this.props.showTraffic}\n            onMapMove={this.onMapMove}\n            onMapClick={this.onMapClick}\n            onCloseClickInfoWindow={this.onCloseClickInfoWindow}\n            onResetView={this.onResetView}\n        />;\n    }\n}","export function setAuthToken(token='', rememberMeFlag=false) {\n    if ( rememberMeFlag ) {\n        var exp = new Date();\n        exp.setDate(exp.getDate() + 365);\n        document.cookie = \"auth=\" + token + \"; expires=\" + exp.toUTCString();\n    } else {\n        document.cookie = \"auth=\" + token;\n    }\n}\n\nexport function getAuthToken() {\n    var cookie = document.cookie;\n    var c1 = cookie.split(\"; \");\n\n    for (var i in c1) {\n        if ( c1[i].split(\"=\")[0] === \"auth\" ) {\n            return c1[i].split(\"=\")[1];\n        }\n    }\n\n    return '';\n}\n\nexport function getLoggedInUser() {\n    var cookie = document.cookie;\n    var c1 = cookie.split(\"; \");\n\n    for (var i in c1) {\n        if ( c1[i].split(\"=\")[0] === \"user\" ) {\n            return c1[i].split(\"=\")[1];\n        }\n    }\n\n    return '';\n}\n\n\nexport function checkObjectDifferences(obj1, obj2) {\n    // TODO\n    \n    return true;\n}\n\nexport function checkIfCidInCameraGroups(cid, selectedGroups, cameraGroups) {\n    for (var i = 0; i < selectedGroups.length; i++) {\n        var sg = selectedGroups[i];\n        if ( (sg in cameraGroups) && (cameraGroups[sg]['cameras'].indexOf(cid) >= 0) ) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nexport function parseCameraGroupsInitials(groupName) {\n    var initials = groupName[0];\n\n    if ( groupName.length > 1 ) {\n        var spaceIndex = groupName.indexOf(' ');\n        if ( (spaceIndex >= 1) && (groupName.length > spaceIndex + 1) ) {\n            initials += groupName[spaceIndex + 1];\n        } else {\n            initials += groupName[1];\n        }\n    }\n\n    return initials;\n}\n\nexport var shipCargoTypeAndColor = {\n    'Base Station': \"cyan\",\n    'Aids-to-Navigation': \"yellow\",\n    'Wing-in-Ground Effects': \"violet\",\n    'High-speed Crafts': \"white\",\n    'Tugs & Special Crafts': \"teal\",\n    'Fishing Vessels': \"brown\",\n    'Towing Vessels': \"pink\",\n    'Dredging & Diving Vessels': \"purple\",\n    'Military Vessels': \"red\",\n    'Passenger Vessels': \"blue\",\n    'Pleasure & Sailing Crafts': \"magenta\",\n    'Cargo Vessels': \"green\",\n    'Tankers': \"orange\",\n    'Others': \"black\",\n    'Unknown': \"grey\"\n};\n\nexport function parseShipCargoType(msgID, typeID) {\n    if ( msgID === 4 ) {\n        return {\n            'type': 'Base Station',\n            'color': shipCargoTypeAndColor['Base Station']\n        };\n    }\n\n    if ( msgID === 21 ) {\n        return {\n            'type': 'Aids-to-Navigation',\n            'color': shipCargoTypeAndColor['Aids-to-Navigation']\n        };\n    }\n\n    if ( !typeID ) {\n        return {\n            'type': 'Unknown',\n            'color': shipCargoTypeAndColor['Unknown']\n        };\n    }\n\n    var typeIDString = typeID.toString();\n    switch (typeIDString[0]) {\n        case '2':\n            return {\n                'type': 'Wing-in-Ground Effects',\n                'color': shipCargoTypeAndColor['Wing-in-Ground Effects']\n            };\n\n        case '3':\n            if ( typeIDString[1] === '0' ) {\n                return {\n                    'type': 'Fishing Vessels',\n                    'color': shipCargoTypeAndColor['Fishing Vessels']\n                };\n            }\n\n            if ( typeIDString[1] === '1' || typeIDString[1] === '2' ) {\n                return {\n                    'type': 'Towing Vessels',\n                    'color': shipCargoTypeAndColor['Towing Vessels']\n                };\n            }\n\n            if ( typeIDString[1] === '3' || typeIDString[1] === '4' ) {\n                return {\n                    'type': 'Dredging & Diving Vessels',\n                    'color': shipCargoTypeAndColor['Dredging & Diving Vessels']\n                };\n            }\n\n            if ( typeIDString[1] === '5' ) {\n                return {\n                    'type': 'Military Vessels',\n                    'color': shipCargoTypeAndColor['Military Vessels']\n                };\n            }\n\n            if ( typeIDString[1] === '6' || typeIDString[1] === '7' ) {\n                return {\n                    'type': 'Pleasure & Sailing Crafts',\n                    'color': shipCargoTypeAndColor['Pleasure & Sailing Crafts']\n                };\n            }\n\n            if ( typeIDString[1] === '8' || typeIDString[1] === '9' ) {\n                return {\n                    'type': 'Unknown',\n                    'color': shipCargoTypeAndColor['Unknown']\n                };\n            }\n        break;\n\n        case '4':\n            return {\n                'type': 'High-speed Crafts',\n                'color': shipCargoTypeAndColor['High-speed Crafts']\n            };\n\n        case '5':\n            return {\n                'type': 'Tugs & Special Crafts',\n                'color': shipCargoTypeAndColor['Tugs & Special Crafts']\n            };\n\n        case '6':\n            return {\n                'type': 'Passenger Vessels',\n                'color': shipCargoTypeAndColor['Passenger Vessels']\n            };\n\n        case '7':\n            return {\n                'type': 'Cargo Vessels',\n                'color': shipCargoTypeAndColor['Cargo Vessels']\n            };\n\n        case '8':\n            return {\n                'type': 'Tankers',\n                'color': shipCargoTypeAndColor['Tankers']\n            };\n\n        case '9':\n            return {\n                'type': 'Others',\n                'color': shipCargoTypeAndColor['Others']\n            };\n\n        default:\n            return {\n                'type': 'Unknown',\n                'color': shipCargoTypeAndColor['Unknown']\n            };\n    }\n\n}\n\n\nexport function parseShipCargoTypeForDataDisplay(typeID) {\n    if ( typeID === 0 ) {\n        return \"N/A\";\n    }\n\n    var typeArray = [\n        [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"],\n        [\"Reserved\", \"Reserved\", \"Reserved\", \"Reserved\", \"Reserved\", \"Reserved\", \"Reserved\", \"Reserved\", \"Reserved\", \"Reserved\"],\n        [\"WIG\", \"WIG (Carrying DG, HS, MP, IMO hazard or pollutant category X)\", \"WIG (Carrying DG, HS, MP,IMO hazard or pollutant category Y)\", \"WIG (Carrying DG, HS, MP, IMO hazard or pollutant category Z)\", \"WIG (Carrying DG, HS, MP, IMO hazard or pollutant category OS)\", \"WIG (Reserved)\", \"WIG (Reserved)\", \"WIG (Reserved)\", \"WIG (Reserved)\", \"WIG (No additional information)\"],\n        [\"Vessel (Fishing)\", \"Vessel (Towing)\", \"Vessel (Towing length exceeding 200 m or breadth exceeds 25 m)\", \"Vessel (Dredging or underwater operations)\", \"Vessel (Diving operations)\", \"Vessel (Military operations)\", \"Vessel (Sailing)\", \"Vessel (Pleasure craft)\", \"Vessel (Reserved)\", \"Vessel (Reserved)\"],\n        [\"HSC\", \"HSC (Carrying DG, HS, MP, IMO hazard or pollutant category X)\", \"HSC (Carrying DG, HS, MP, IMO hazard or pollutant category Y)\", \"HSC (Carrying DG, HS, MP, IMO hazard or pollutant category Z)\", \"HSC (Carrying DG, HS, MP, IMO hazard or pollutant category OS)\", \"HSC (Reserved)\", \"HSC (Reserved)\", \"HSC (Reserved)\", \"HSC (Reserved)\", \"HSC (No additional information)\"],\n        [\"Pilot vessel\", \"Search and rescue vessel\", \"Tug\", \"Port tender\", \"Vessel w/ anti-pollution facilities and equipment\", \"Law enforcement vessel\", \"Spare (local vessel)\", \"Spare (local vessel)\", \"Medical transport\", \"Ship and/or aircraft of states not parties to an armed conflict\"],\n        [\"Passenger ship\", \"Passenger ship (Carrying DG, HS, MP, IMO hazard or pollutant category X)\", \"Passenger ship (Carrying DG, HS, MP, IMO hazard or pollutant category Y)\", \"Passenger ship (Carrying DG, HS, MP, IMO hazard or pollutant category Z)\", \"Passenger ship (Carrying DG, HS, MP, IMO hazard or pollutant category OS)\", \"Passenger ship (Reserved)\", \"Passenger ship (Reserved)\", \"Passenger ship (Reserved)\", \"Passenger ship (Reserved)\", \"Passenger ship (No additional information)\"],\n        [\"Cargo ship\", \"Cargo ship (Carrying DG, HS, MP, IMO hazard or pollutant category X)\", \"Cargo ship (Carrying DG, HS, MP, IMO hazard or pollutant category Y)\", \"Cargo ship (Carrying DG, HS, MP, IMO hazard or pollutant category Z)\", \"Cargo ship (Carrying DG, HS, MP, IMO hazard or pollutant category OS)\", \"Cargo ship (Reserved)\", \"Cargo ship (Reserved)\", \"Cargo ship (Reserved)\", \"Cargo ship (Reserved)\", \"Cargo ship (No additional information)\"],\n        [\"Tanker\", \"Tanker (Carrying DG, HS, MP, IMO hazard or pollutant category X)\", \"Tanker (Carrying DG, HS, MP, IMO hazard or pollutant category Y)\", \"Tanker (Carrying DG, HS, MP, IMO hazard or pollutant category Z)\", \"Tanker (Carrying DG, HS, MP, IMO hazard or pollutant category OS)\", \"Tanker (Reserved)\", \"Tanker (Reserved)\", \"Tanker (Reserved)\", \"Tanker (Reserved)\", \"Tanker (No additional information)\"],\n        [\"Other\", \"Other (Carrying DG, HS, MP, IMO hazard or pollutant category X)\", \"Other (Carrying DG, HS, MP, IMO hazard or pollutant category Y)\", \"Other (Carrying DG, HS, MP, IMO hazard or pollutant category Z)\", \"Other (Carrying DG, HS, MP, IMO hazard or pollutant category OS)\", \"Other (Reserved)\", \"Other (Reserved)\", \"Other (Reserved)\", \"Other (Reserved)\", \"Other (No additional information)\"],\n    ];\n\n    var typeIDString = typeID.toString();\n\n    return typeArray[typeIDString[0]][typeIDString[1]];\n}","import React from \"react\";\n\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { makeStyles } from '@material-ui/core/styles';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport { getCameraToken, renewCameraToken } from './port-requests.js';\nimport { parseShipCargoTypeForDataDisplay } from './utility.js';\n\n\nconst useStyles = makeStyles(theme => ({\n    title: {\n        width: \"100%\",\n        textAlign: \"center\", \n        fontWeight: \"bold\", \n        fontSize: \".8em\",\n        [theme.breakpoints.up('md')]: {\n            fontSize: \"1.3em\",\n        }\n    },\n    imageDisplay: {\n        border: \"0px solid black\", \n        marginTop: \"5px\",\n        minHeight: 120,\n        minWidth: 160,\n        [theme.breakpoints.up('md')]: {\n            minHeight: 240,\n            minWidth: 320\n        }\n    },\n    image: {\n        maxHeight: \"100%\", \n        maxWidth: \"100%\",\n        height: 120,\n        [theme.breakpoints.up('md')]: {\n            height: 240,\n        }\n    },\n    controlsDisplayShowFramerate: {\n        width: \"100%\", \n        display: \"flex\", \n        justifyContent: \"space-between\", \n        marginTop: \"5px\", \n        marginBottom: \"5px\"\n    },\n    controlsDisplayHideFramerate: {\n        width: \"100%\", \n        display: \"flex\", \n        justifyContent: \"flex-end\", \n        marginTop: \"5px\", \n        marginBottom: \"5px\"\n    },\n    aisTable: {\n        borderCollapse: \"collaspe\",\n        borderSpacing: \"0px\"\n    },\n    aisTableHeader: {\n        textAlign: \"left\",\n        padding: \"3px\",\n        border: \"1px solid black\"\n    },\n    aisTableData: {\n        textAlign: \"right\",\n        padding: \"3px 3px 3px 10px\",\n        border: \"1px solid black\"\n    }\n}));\n\n\nif ( !window.cameraTimers ) {\n    window.cameraTimers = {};\n}\n\nexport function stopAllUpdateImageTimers() {\n    for (var cid in window.cameraTimers) {\n        if ( window.cameraTimers[cid]['imageTimer'] !== null ) {\n            window.clearInterval(window.cameraTimers[cid]['imageTimer']);\n            window.cameraTimers[cid]['imageTimer'] = null;\n            window.cameraTimers[cid]['loaded'] = true;\n        }\n    }\n}\n\nexport function startRenewTokenTimer(cameraID, token) {\n    stopRenewTokenTimer();\n    if ( window.cameraTimers[cameraID]['tokenTimer'] === null ) {\n        window.cameraTimers[cameraID]['tokenTimer'] = window.setInterval(function() {\n            renewCameraToken(cameraID, token);\n        }, 600000);\n    }\n}\n\nexport function stopRenewTokenTimer(cameraID) {\n    if ( cameraID ) {\n        if ( window.cameraTimers[cameraID]['tokenTimer'] !== null ) {\n            window.clearInterval(window.cameraTimers[cameraID]['tokenTimer']);\n            window.cameraTimers[cameraID]['tokenTimer'] = null;\n        }\n    } else {\n        for (var cid in window.cameraTimers ) {\n            if ( window.cameraTimers[cid]['tokenTimer'] !== null ) {\n                window.clearInterval(window.cameraTimers[cid]['tokenTimer']);\n                window.cameraTimers[cid]['tokenTimer'] = null;\n            }\n        }\n    }    \n}\n\nexport function CameraDisplay(props) {\n    const classes = useStyles();    \n\n    const [jpegUrl, setJpegUrl] = React.useState('');\n    const [imageSrc, setImageSrc] = React.useState('');\n    //const [favorited, setFavorited] = React.useState(props.favorited);\n    const [framerate, setFramerate] = React.useState((props.framerate ? props.framerate : 5));\n    \n    React.useEffect(() => {\n        if ( (props.cameraID in window.cameraTimers) && (window.cameraTimers[props.cameraID]['imageTimer'] !== null) ) {\n            window.clearInterval(window.cameraTimers[props.cameraID]['imageTimer']);\n        }\n\n        window.cameraTimers[props.cameraID] = {};   \n        window.cameraTimers[props.cameraID]['loaded'] = true;    \n        window.cameraTimers[props.cameraID]['imageTimer'] = null;\n\n        getCameraUrl();       \n\n        return () => {\n            stopUpdateImageTimer();\n            stopRenewTokenTimer(props.cameraID);\n        };\n    }, []);\n\n    function getCameraUrl() {        \n        getCameraToken(props.cameraID)\n        .then(\n\n            (successResponse) => {\n                var data = JSON.parse(successResponse);\n                var url = data['endpoint_url'] + \"/jpeg?token=\" + data['token'];\n                setJpegUrl(url);\n                setImageSrc(url);\n\n                startUpdateImageTimer(url, framerate);\n                startRenewTokenTimer(props.cameraID, data['token']);\n            },\n\n            (errorResponse) => {\n                console.log(errorResponse);\n                stopUpdateImageTimer();\n                stopRenewTokenTimer(props.cameraID);\n                getCameraUrl();                \n            }\n\n        );\n    }\n\n    function startUpdateImageTimer(url, updateImageFramerate) {\n        if ( window.cameraTimers[props.cameraID]['imageTimer'] === null ) {  \n            window.cameraTimers[props.cameraID]['loaded'] = true;    \n            window.cameraTimers[props.cameraID]['imageTimer'] = window.setInterval(function() {\n                if ( window.cameraTimers[props.cameraID]['loaded'] ) {\n                    window.cameraTimers[props.cameraID]['loaded'] = false;\n                    setImageSrc(url + \"&r=\" + Math.random());\n                }\n            }, 1000 / updateImageFramerate);\n        }\n    }\n\n    function stopUpdateImageTimer() {\n        if ( (window.cameraTimers[props.cameraID]['imageTimer'] !== null) ) {\n            window.clearInterval(window.cameraTimers[props.cameraID]['imageTimer']);\n            window.cameraTimers[props.cameraID]['imageTimer'] = null;\n            window.cameraTimers[props.cameraID]['loaded'] = true;\n        }\n    }\n\n    function handleFramerateClick() {\n        props.onClickFramerate();\n    }\n\n    function handleFramerateChange(event) {\n        setFramerate(event.target.value);\n        stopUpdateImageTimer();\n        startUpdateImageTimer(jpegUrl, event.target.value);\n\n        props.onChangeFramerate(event.target.value);\n    }\n\n    function handleFavoriteButtonClick() {\n        //var liked = !favorited;\n        //setFavorited(liked);\n\n        props.onClickFavoriteButton(props.cameraID);\n    }\n\n    function handleImgLoad() {\n        if ( (props.cameraID in window.cameraTimers) && !window.cameraTimers[props.cameraID]['loaded'] ) {\n            window.cameraTimers[props.cameraID]['loaded'] = true;\n        }\n    }\n\n    function handleImgError() {\n        if ( (props.cameraID in window.cameraTimers) && !window.cameraTimers[props.cameraID]['loaded'] ) {\n            window.cameraTimers[props.cameraID]['loaded'] = true;\n        }\n    }\n\n    return (\n        <div>            \n            <div className={classes.title}>\n                {props.title}\n            </div>\n\n            <div className={classes.imageDisplay}>\n                <img\n                    src={imageSrc} \n                    alt={props.title}\n                    className={classes.image}\n                    onLoad={handleImgLoad}\n                    onError={handleImgError}\n                />                \n            </div>\n\n            <div className={(props.showFramerate ? classes.controlsDisplayShowFramerate : classes.controlsDisplayHideFramerate)}>\n                {(props.showFramerate ? \n                    <Select\n                        value={framerate}\n                        onChange={handleFramerateChange}\n                        onClick={handleFramerateClick}\n                        style={{fontSize: \"12px\"}}\n                        inputProps={{\n                            name: 'frametrate',\n                            id: 'outlined-framerate-simple',\n                        }}\n                    >\n                        <MenuItem value={2}>2 fps</MenuItem>\n                        <MenuItem value={5}>5 fps</MenuItem>\n                        <MenuItem value={15}>15 fps</MenuItem>\n                    </Select>\n\n                    :\n\n                    <div />\n                )}\n\n                <IconButton aria-label=\"favorite button\" onClick={handleFavoriteButtonClick}>\n                    <img\n                        alt=\"Favorites Group Icon\"\n                        src={\"./images/videocam_solid_heart_GREY-24px.svg\"}\n                        width=\"24px\"\n                        height=\"24px\"\n                    />\n                </IconButton>\n                \n                \n            </div>\n        </div>\n    );\n}\n\n\n\n\nexport function FavoriteCameraDisplay(props) {\n    const classes = useStyles();    \n    \n    const [jpegUrl, setJpegUrl] = React.useState('');\n    const [imageSrc, setImageSrc] = React.useState('');\n    const [framerate, setFramerate] = React.useState(2);\n\n    React.useEffect(() => {\n        window.cameraTimers[props.cameraID] = {};   \n        window.cameraTimers[props.cameraID]['loaded'] = true;    \n        window.cameraTimers[props.cameraID]['imageTimer'] = null;\n\n        getCameraToken(props.cameraID)\n        .then(\n            \n            (successResponse) => {\n                var data = JSON.parse(successResponse);\n                var url = data['endpoint_url'] + \"/jpeg?token=\" + data['token'];\n                setJpegUrl(url);\n                setImageSrc(url);\n\n                startUpdateImageTimer(url, framerate);\n                startRenewTokenTimer(props.cameraID, data['token']);\n            },\n\n            (errorResponse) => {\n                stopUpdateImageTimer();\n                stopRenewTokenTimer(props.cameraID);\n                console.log(errorResponse);\n            }\n\n        );\n        \n        \n        return () => {console.log(props.cameraID);\n            stopUpdateImageTimer();\n            stopRenewTokenTimer(props.cameraID);\n        };\n    }, []);\n\n    function startUpdateImageTimer(url, updateImageFramerate) {\n        if ( window.cameraTimers[props.cameraID]['imageTimer'] === null ) {  \n            window.cameraTimers[props.cameraID]['loaded'] = true;    \n            window.cameraTimers[props.cameraID]['imageTimer'] = window.setInterval(function() {\n                if ( window.cameraTimers[props.cameraID]['loaded'] ) {\n                    window.cameraTimers[props.cameraID]['loaded'] = false;\n                    setImageSrc(url + \"&r=\" + Math.random());\n                }\n            }, 1000 / updateImageFramerate);\n        }\n    }\n\n    function stopUpdateImageTimer() {\n        if ( (window.cameraTimers[props.cameraID]['imageTimer'] !== null) ) {\n            window.clearInterval(window.cameraTimers[props.cameraID]['imageTimer']);\n            window.cameraTimers[props.cameraID]['imageTimer'] = null;\n            window.cameraTimers[props.cameraID]['loaded'] = true;\n        }\n    }\n\n    function handleFramerateClick() {\n        //props.onClickFramerate();\n    }\n\n    function handleFramerateChange(event) {\n        setFramerate(event.target.value);\n        stopUpdateImageTimer();\n        startUpdateImageTimer(jpegUrl, event.target.value);\n    }\n\n    function handleFavoriteButtonClick() {\n        props.onClickFavoriteButton(props.cameraID);\n    }\n\n    function handleImageLoad() {\n        if ( (props.cameraID in window.cameraTimers) && !window.cameraTimers[props.cameraID]['loaded'] ) {\n            window.cameraTimers[props.cameraID]['loaded'] = true;\n        }\n    }\n\n    function handleImageError() {\n        if ( (props.cameraID in window.cameraTimers) && !window.cameraTimers[props.cameraID]['loaded'] ) {\n            window.cameraTimers[props.cameraID]['loaded'] = true;\n        }\n    }\n\n    return (\n        <div>            \n            <div className={classes.title}>\n                {props.title}\n            </div>\n\n            <div className={classes.imageDisplay}>\n                <img\n                    src={imageSrc}\n                    alt={props.title}\n                    className={classes.image}\n                    onLoad={handleImageLoad}\n                    onError={handleImageError}\n                />\n            </div>\n\n            <div className={(props.showFramerate ? classes.controlsDisplayShowFramerate : classes.controlsDisplayHideFramerate)}>\n                {(props.showFramerate ? \n                    <Select\n                        value={framerate}\n                        onChange={handleFramerateChange}\n                        onClick={handleFramerateClick}\n                        style={{fontSize: \"12px\"}}\n                        inputProps={{\n                            name: 'frametrate',\n                            id: 'outlined-framerate-simple',\n                        }}\n                    >\n                        <MenuItem value={2}>2 fps</MenuItem>\n                        <MenuItem value={5}>5 fps</MenuItem>\n                        <MenuItem value={15}>15 fps</MenuItem>\n                    </Select>\n\n                    :\n\n                    <div />\n                )}\n\n\n                <IconButton aria-label=\"favorite button\" onClick={handleFavoriteButtonClick}>\n                    <img\n                        alt=\"Favorites Group Icon\"\n                        src={\"./images/videocam_solid_heart_GREY-24px.svg\"}\n                        width=\"24px\"\n                        height=\"24px\"\n                    />\n                </IconButton>\n                \n            </div>\n        </div>\n    );\n}\n\n\n\n\n\n\nexport function AisDisplay(props) {\n    const classes = useStyles();    \n\n    React.useEffect(() => {\n        stopAllUpdateImageTimers();\n\n        return () => {\n            \n        };\n    }, []);\n\n\n    function parseETA(attr) {\n        var month  = attr['eta_month'],\n            day    = attr['eta_day'],\n            hour   = attr['eta_hour'],\n            minute = attr['eta_minute'];\n\n        if ( month === 0 && day === 0 && hour === 24 && minute === 60 ) {\n            return \"N/A\";\n        }\n\n        var datetimeString = \"\";\n        if ( month > 0 && day > 0 ) {\n            datetimeString += (month < 10 ? \"0\" + month.toString() : month.toString());\n            datetimeString += \"/\" + (day < 10 ? \"0\" + day.toString() : day.toString());\n        }\n\n        if ( hour < 24 && minute < 60 ) {\n            datetimeString += \" \" + (hour < 10 ? \"0\" + hour.toString() : hour.toString());\n            datetimeString += \":\" + (minute < 10 ? \"0\" + minute.toString(): minute.toString());\n        }\n\n        return datetimeString;\n    }\n\n    return (\n        <div>\n            <table className={classes.aisTable}>\n                <tr>\n                    <th className={classes.aisTableHeader}>\n                        MMSI\n                    </th>\n                    <td className={classes.aisTableData}>\n                        {props['attributes']['mmsi']}\n                    </td>\n                </tr>\n                \n                {(props['attributes']['callsign'] !== undefined ?\n                    <tr>\n                        <th className={classes.aisTableHeader}>\n                            CALLSIGN\n                        </th>\n                        <td className={classes.aisTableData}>\n                            {props['attributes']['callsign'].replace(/@/g, \"\").trim()}\n                        </td>\n                    </tr>\n\n                    :\n\n                    undefined\n                )}\n\n                {(props['attributes']['name'] !== undefined ?\n                    <tr>\n                        <th className={classes.aisTableHeader}>\n                            NAME\n                        </th>\n                        <td className={classes.aisTableData}>\n                            {props['attributes']['name'].replace(/@/g, \"\").trim()}\n                        </td>\n                    </tr>\n\n                    :\n\n                    undefined\n                )}\n\n                {(props['attributes']['type_and_cargo'] !== undefined ?\n                    <tr>\n                        <th className={classes.aisTableHeader}>\n                            SHIP/CARGO TYPE\n                        </th>\n                        <td className={classes.aisTableData}>\n                            {parseShipCargoTypeForDataDisplay(props['attributes']['type_and_cargo'])}\n                        </td>\n                    </tr>\n\n                    :\n\n                    undefined\n                )}\n\n                {(props['attributes']['destination'] !== undefined ?\n                    <tr>\n                        <th className={classes.aisTableHeader}>\n                            DESTINATION\n                        </th>\n                        <td className={classes.aisTableData}>\n                            {props['attributes']['destination'].replace(/@/g, \"\").trim()}\n                        </td>\n                    </tr>\n\n                    :\n\n                    undefined\n                )}\n\n                {(props['attributes']['eta_month'] !== undefined ?\n                    <tr>\n                        <th className={classes.aisTableHeader}>\n                            ETA\n                        </th>\n                        <td className={classes.aisTableData}>\n                            {parseETA(props['attributes'])}\n                        </td>\n                    </tr>\n\n                    :\n\n                    undefined\n                )}\n\n                <tr>\n                    <th className={classes.aisTableHeader}>\n                        LATITUDE\n                    </th>\n                    <td className={classes.aisTableData}>\n                        {props['attributes']['y']}\n                    </td>\n                </tr>\n\n                <tr>\n                    <th className={classes.aisTableHeader}>\n                        LONGITUDE\n                    </th>\n                    <td className={classes.aisTableData}>\n                        {props['attributes']['x']}\n                    </td>\n                </tr>\n\n            </table>\n        </div>\n    );\n}","import React from 'react';\nimport { CirclePicker } from 'react-color';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport CreateIcon from '@material-ui/icons/Create';\nimport AddIcon from '@material-ui/icons/Add';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\n\nimport { FavoriteCameraDisplay } from './info-window-ex.js';\n\n\n\n\nconst useStyles = makeStyles(theme => ({\n    root: { \n        display: \"flex\", \n        justifyContent: \"flex-start\", \n        flexWrap: \"wrap\",\n        padding: 5\n    },\n    loading: {\n        display: \"flex\", \n        justifyContent: \"center\", \n        flexWrap: \"wrap\",\n        padding: 5,\n        fontWeight: \"bold\"\n    },\n    favoriteDisplay: {\n        display: \"inline-block\",\n        marginLeft: 5,\n        marginRight: 5,\n        marginBottom: 5,\n        border: \"1px solid #ededed\",\n        borderRadius: 5,\n        boxShadow: \"2px 2px 2px grey\",\n        padding: 2,\n        backgroundColor: \"#ededed\",\n        [theme.breakpoints.up('md')]: {\n            padding: 5\n        }\n    },\n    favoritesList: {\n        minWidth: \"300px\"\n    },\n    favoritesListMain: {\n        maxHeight: \"200px\",\n        minHeight: \"200px\",\n        minWidth: \"300px\"\n    },\n    dialogContent: {\n        padding: \"0 0 0 0\"\n    },\n    favoritesTextField: {\n        width: \"200px\"\n    }\n}));\n\n\n\n\n\nexport function FavoritesPage(props) {\n    const classes = useStyles();\n\n    function checkForCamerasToDisplay(favData, selectedGroups) {\n        for (var i = 0; i < selectedGroups.length; i++) {\n            var groupName = selectedGroups[i];\n\n            if ( (groupName in favData) &&  favData[groupName]['cameras'].length > 0 ) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    function onFavoriteCameraClick(favoriteBool, cameraID) {\n        props.onChangeFavorites(favoriteBool, cameraID);\n    }\n\n    function renderFavoriteCameras(favData, camData, selectedGroups) {\n        var displayArray = [],\n            camsDisplayed = [];\n\n        for (var i = 0; i < selectedGroups.length; i++) {\n            var groupName = selectedGroups[i];\n\n            if ( groupName in favData ) {\n                var favCameras = favData[groupName]['cameras'];\n\n                for (var j = 0; j < favCameras.length; j++) {\n                    var cid = favCameras[j];\n\n                    if ( (cid in camData) && (camsDisplayed.indexOf(cid) === -1) ) {\n                        displayArray.push(\n                            <div key={cid} className={classes.favoriteDisplay}>\n                                <FavoriteCameraDisplay\n                                    title={camData[cid]['name']} \n                                    cameraID={cid}\n                                    favorited={true}\n                                    showFramerate={true}\n                                    onClickFavoriteButton={onFavoriteCameraClick}\n                                />\n                            </div>\n                        );\n\n                        camsDisplayed.push(cid);\n                    }\n                }\n            }\n        }\n\n        return displayArray;\n    }\n\n    return (\n        ( (props.selectedCameraGroups.length === 0) || (Object.keys(props.favoritesData).length === 0) ) ? \n        \n            <div className={classes.loading}>   \n                <Typography variant=\"h6\" gutterBottom>\n                    Select cameras to view.\n                </Typography>\n            </div>\n\n            :\n\n            <div className={classes.root}>\n                {renderFavoriteCameras(props.favoritesData, props.cameraData, props.selectedCameraGroups)}\n            </div>\n        \n    );\n}\n\n\n\n\n\n\n\n\nexport function FavoritesDialog(props) {\n    const classes = useStyles();\n\n    const [showBodyDisplay, setShowBodyDisplay] = React.useState(\"list\");\n    const [createFavoritesInput, setCreateFavoritesInput] = React.useState(\"\");\n    const [createFavoritesColor, setCreateFavoritesColor] = React.useState(\"#000000\");\n    const [editFavoritesInput, setEditFavoritesInput] = React.useState(\"\");\n    const [removeGroupName, setRemoveGroupName] = React.useState(\"\");\n\n\n    function handleClose() {\n        setShowBodyDisplay(\"list\");\n        props.onDialogClose();\n    }\n\n    const handleCheckboxToggle = groupName => () => {\n        var index = props.favoritesData[groupName]['cameras'].indexOf(props.cameraID);\n        if ( index !== -1 ) {\n            props.favoritesData[groupName]['cameras'].splice(index, 1);\n        } else {\n            props.favoritesData[groupName]['cameras'].push(props.cameraID);\n        }\n        props.onChangeFavoritesData(props.favoritesData);\n    }\n\n    const handleEditFavoritesClick = groupName => () => {\n        setEditFavoritesInput(groupName);\n        setShowBodyDisplay(groupName);\n    }\n\n    function handleCreateFavoritesGroupButtonClick() {\n        setShowBodyDisplay(\"create\");\n    }\n\n    const handleOnChangeCreateFavoritesInput = event => {\n        setCreateFavoritesInput(event.target.value);\n    }\n\n    const handleOnChangeEditFavoritesInput = event => {\n        setEditFavoritesInput(event.target.value);\n    }\n\n    function handleOnClickEditFavoritesGroup() {\n        var oldGroupName = showBodyDisplay,\n            newGroupName = editFavoritesInput,\n            color = createFavoritesColor;\n\n            if ( (newGroupName !== \"\") && (oldGroupName in props.favoritesData) ) {\n                var temp = props.favoritesData[oldGroupName];\n                delete props.favoritesData[oldGroupName];\n                props.favoritesData[newGroupName] = temp;\n                props.favoritesData[newGroupName]['color'] = color;\n\n                props.onChangeFavoritesData(props.favoritesData);\n                setShowBodyDisplay(\"list\");\n            }\n    }\n\n    function handleOnChangeCreateFavoritesColor(color, event) {\n        setCreateFavoritesColor(color['hex']);\n    }\n\n    function handleOnClickCreateFavoritesGroup() {\n        var groupName = createFavoritesInput,\n            color = createFavoritesColor;\n\n        if ( groupName !== \"\" ) {\n            if ( groupName in props.favoritesData ) {\n                if ( props.favoritesData[groupName]['cameras'].indexOf(props.cameraID) !== -1 ) {\n                    props.favoritesData[groupName]['cameras'].push(props.cameraID);\n                }\n            } else {\n                props.favoritesData[groupName] = {\n                    'cameras': [props.cameraID],\n                    'color': color\n                };\n            }\n\n            props.onChangeFavoritesData(props.favoritesData);\n            setShowBodyDisplay(\"list\");\n        }\n    }\n\n    function handleOnClickRemoveFavoritesGroup() {\n        var groupName = removeGroupName;\n        if ( groupName in props.favoritesData ) {\n            delete props.favoritesData[groupName];\n        }\n\n        props.onChangeFavoritesData(props.favoritesData);\n        setShowBodyDisplay(\"list\");\n    }\n\n    function handleOnClickCancel() {\n        setShowBodyDisplay(\"list\");\n    }\n\n    const handleRemoveFavoritesGroupsButtonClick = groupName => () => {\n        setRemoveGroupName(groupName);\n        setShowBodyDisplay(\"remove\");\n    }\n\n    function renderBodyDisplay() {\n        if ( showBodyDisplay === 'list' ) {\n            return (\n                <List className={classes.favoritesListMain}>\n                    {renderFavoritesList()}\n                </List>\n            );  \n        }\n\n        if ( showBodyDisplay === 'create' ) {\n            return renderCreateFavoritesDisplay();\n        }\n\n        if ( showBodyDisplay === 'remove' ) {\n            return renderRemoveSelectedDisplay();\n        }\n\n        return renderManageFavoritesGroupDisplay();        \n    }\n\n    function renderCreateFavoritesDisplay() {\n        return (\n            <div className={classes.favoritesListMain}>\n                <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n                    <TextField\n                        required\n                        id=\"create-new-favorites-group\"\n                        aria-label=\"new favorites group name input\"\n                        label=\"Name\"\n                        className={classes.favoritesTextField}\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                        value={createFavoritesInput}\n                        onChange={handleOnChangeCreateFavoritesInput}\n                    />\n                </div>\n\n                <div style={{ display: \"flex\", justifyContent: \"center\", marginBottom: \"30px\", marginTop: \"10px\" }}>\n                    <CirclePicker \n                        colors={['#000000', '#FF0000', '#00FF00', '#0000FF', 'orange', 'purple']}\n                        onChange={handleOnChangeCreateFavoritesColor}\n                    />\n                </div>\n\n                <div style={{ display: \"flex\", justifyContent: \"space-around\" }}>\n                    <Button\n                        disabled={(createFavoritesInput === \"\")}\n                        variant=\"contained\"\n                        color=\"primary\"\n                        aria-label=\"create new favorites group\"\n                        onClick={handleOnClickCreateFavoritesGroup}\n                    >\n                        Create\n                    </Button>\n\n                    <Button\n                        variant=\"contained\"\n                        color=\"default\"\n                        aria-label=\"cancel new favorites group\"\n                        onClick={handleOnClickCancel}\n                    >\n                        Cancel\n                    </Button>\n                </div>\n            </div>\n        );\n    }\n\n    function renderManageFavoritesGroupDisplay() {\n        return (\n            <div className={classes.favoritesListMain}>\n                <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n                    <TextField\n                        required\n                        id=\"edit-favorites-group\"\n                        aria-label=\"edit existing favorites group name input\"\n                        label=\"Name\"\n                        className={classes.favoritesTextField}\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                        value={editFavoritesInput}\n                        onChange={handleOnChangeEditFavoritesInput}\n                    />\n                </div>\n\n                <div style={{ display: \"flex\", justifyContent: \"center\", marginBottom: \"30px\", marginTop: \"10px\" }}>\n                    <CirclePicker \n                        colors={['#000000', '#FF0000', '#00FF00', '#0000FF', 'orange', 'purple']}\n                        onChange={handleOnChangeCreateFavoritesColor}\n                    />\n                </div>\n\n                <div style={{ display: \"flex\", justifyContent: \"space-around\" }}>\n                    <Button\n                        disabled={( (editFavoritesInput === \"\") )}\n                        variant=\"contained\"\n                        color=\"primary\"\n                        aria-label=\"confirm edit existing favorites group\"\n                        onClick={handleOnClickEditFavoritesGroup}\n                    >\n                        Edit\n                    </Button>\n\n                    <Button\n                        variant=\"contained\"\n                        color=\"default\"\n                        aria-label=\"cancel new favorites group\"\n                        onClick={handleOnClickCancel}\n                    >\n                        Cancel\n                    </Button>\n                </div>\n            </div>\n        );\n    }\n\n    function renderRemoveSelectedDisplay() {\n        return (\n            <div className={classes.favoritesListMain} style={{ display: \"flex\", justifyContent: \"space-around\", flexDirection: \"column\" }}> \n                \n                <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        Remove {removeGroupName}?\n                    </Typography>  \n                </div>\n\n                <div style={{ display: \"flex\", justifyContent: \"space-around\" }}>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        aria-label=\"confirm removing selected groups button\"\n                        onClick={handleOnClickRemoveFavoritesGroup}\n                    >\n                        Remove\n                    </Button>\n\n                    <Button\n                        variant=\"contained\"\n                        color=\"default\"\n                        aria-label=\"cancel removing selected groups button\"\n                        onClick={handleOnClickCancel}\n                    >\n                        Cancel\n                    </Button>\n                </div>\n            </div>\n        );\n    }\n\n    function renderFavoritesList() {\n        var listArray = [],\n            groups = Object.keys(props.favoritesData);\n\n        for (var i = 0; i < groups.length; i++) {\n            listArray.push(\n                <ListItem key={groups[i]} role={undefined} dense button onClick={handleCheckboxToggle(groups[i])}>\n                    <ListItemIcon>\n                        <Checkbox\n                            edge=\"start\"\n                            checked={props.favoritesData[groups[i]]['cameras'].indexOf(props.cameraID) !== -1}\n                            tabIndex={-1}\n                            disableRipple\n                            inputProps={{ 'aria-label': groups[i] }}\n                            color=\"primary\"\n                        />\n                    </ListItemIcon>\n                    <ListItemText id={groups[i]} primary={groups[i]} />\n                    <ListItemSecondaryAction>\n                        <IconButton edge=\"end\" aria-label=\"delete\" onClick={handleRemoveFavoritesGroupsButtonClick(groups[i])}>\n                            <DeleteIcon />\n                        </IconButton>\n\n                        <IconButton edge=\"end\" aria-label=\"edit\" onClick={handleEditFavoritesClick(groups[i])}>\n                            <CreateIcon />\n                        </IconButton>\n                    </ListItemSecondaryAction>\n                </ListItem>\n            );\n        }\n\n        return listArray;\n    }\n\n    return (\n        <Dialog onClose={handleClose} open={props.open} aria-labelledby=\"favorites-dialog-title\" fullWidth={false} maxWidth=\"lg\">\n            <DialogContent dividers className={classes.dialogContent}>\n                <List className={classes.favoritesList}>\n                    <ListItem key=\"header\" role={undefined} dense>\n                        <ListItemText primary=\"Favorites\" />\n                        <ListItemSecondaryAction>\n                            <IconButton edge=\"end\" aria-label=\"close favorites dialog\" onClick={handleClose}>\n                                <ClearIcon />\n                            </IconButton>\n                        </ListItemSecondaryAction>\n                    </ListItem>                 \n                </List>\n            </DialogContent>\n            \n            <DialogContent dividers className={classes.dialogContent}>\n                {renderBodyDisplay()}\n            </DialogContent>\n           \n            <DialogContent dividers className={classes.dialogContent}>\n                <List className={classes.favoritesList}>\n                    <ListItem key=\"create favorites group\" role={undefined} dense button onClick={handleCreateFavoritesGroupButtonClick}>\n                        <ListItemIcon>\n                            <AddIcon />\n                        </ListItemIcon>\n                        <ListItemText primary=\"Create Favorites Group\" />\n                    </ListItem>\n                </List>\n            </DialogContent>\n\n        </Dialog>\n    );\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { MapInterface } from './map-interface.js';\nimport { CameraDisplay, AisDisplay, stopRenewTokenTimer, stopAllUpdateImageTimers } from './info-window-ex.js';\nimport { FavoritesPage, FavoritesDialog } from './favorites-page.js';\nimport { parseCameraGroupsInitials, checkIfCidInCameraGroups, parseShipCargoType } from './utility.js';\n\nimport clsx from 'clsx';\nimport { makeStyles, useTheme, fade } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport List from '@material-ui/core/List';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport Badge from '@material-ui/core/Badge';\nimport Avatar from '@material-ui/core/Avatar';\nimport { deepOrange, deepPurple } from '@material-ui/core/colors';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Collapse from '@material-ui/core/Collapse';\n/*import VideocamIcon from '@material-ui/icons/Videocam';*/\nimport VideocamIcon from '@material-ui/icons/EmojiFlags';\nimport VideoCallIcon from '@material-ui/icons/VideoCall';\nimport DirectionsBoatIcon from '@material-ui/icons/DirectionsBoat';\nimport DirectionsCarIcon from '@material-ui/icons/DirectionsCar';\nimport WbSunnyIcon from '@material-ui/icons/WbSunny';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\nimport GridOnIcon from '@material-ui/icons/GridOn';\nimport MapIcon from '@material-ui/icons/Map';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\n\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n        width: '100%',\n        height: '100%'\n    },\n    grow: {\n        flexGrow: 1,\n    },\n    appBar: {\n        zIndex: theme.zIndex.drawer + 1,\n        backgroundColor: \"#FFFFFF\",\n        transition: theme.transitions.create(['width', 'margin'], {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n    },\n    appBarShift: {\n        marginLeft: drawerWidth,\n        width: `calc(100% - ${drawerWidth}px)`,\n        transition: theme.transitions.create(['width', 'margin'], {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n    },\n    menuButton: {\n        marginRight: 36,\n        color: \"rgba(0, 0, 0, 0.54)\"\n    },\n    userAvatar: {\n        marginRight: 5,\n        color: '#FFFFFF',\n        backgroundColor: deepOrange[500]\n    },\n    title: {\n        flexGrow: 1,\n        //display: 'none',\n        //[theme.breakpoints.up('sm')]: {\n            //display: 'block',\n        //},\n    },\n    search: {\n        position: 'relative',\n        borderRadius: theme.shape.borderRadius,\n        backgroundColor: fade(theme.palette.common.white, 0.15),\n        '&:hover': {\n            backgroundColor: fade(theme.palette.common.white, 0.25),\n        },\n        marginRight: theme.spacing(2),\n        marginLeft: 0,\n        width: '100%',\n        [theme.breakpoints.up('sm')]: {\n            marginLeft: theme.spacing(3),\n            width: 'auto',\n        },\n    },\n    searchIcon: {\n        width: theme.spacing(7),\n        height: '100%',\n        position: 'absolute',\n        pointerEvents: 'none',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    inputRoot: {\n        color: 'inherit',\n    },\n    inputInput: {\n        padding: theme.spacing(1, 1, 1, 7),\n        transition: theme.transitions.create('width'),\n        width: '100%',\n        [theme.breakpoints.up('md')]: {\n            width: 200,\n        },\n    },\n    sectionDesktop: {\n        display: 'none',\n        [theme.breakpoints.up('md')]: {\n            display: 'flex',\n        },\n    },\n    sectionMobile: {\n        display: 'flex',\n        [theme.breakpoints.up('md')]: {\n            display: 'none',\n        },\n    },\n    hide: {\n        display: 'none',\n    },\n    drawer: {\n        width: drawerWidth,\n        flexShrink: 0,\n        whiteSpace: 'nowrap',\n    },\n    drawerOpen: {\n        width: drawerWidth,\n        transition: theme.transitions.create('width', {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n    },\n    drawerClose: {\n        transition: theme.transitions.create('width', {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        overflowX: 'hidden',\n        width: theme.spacing(7) + 1,\n        //width: theme.spacing(10) + 1,\n        [theme.breakpoints.up('sm')]: {\n            //width: theme.spacing(10) + 1,\n            width: theme.spacing(9) + 1,\n        },\n    },\n    list: {\n        paddingTop: \"0\",\n        paddingBottom: \"0\"\n    },\n    listIcon: {\n        [theme.breakpoints.up('sm')]: {\n            marginLeft: '8px',\n        }\n    },\n    listAvatar: {\n        marginRight: \"9px\",\n        marginLeft: \"-5px\",\n        [theme.breakpoints.down('sm')]: {\n            marginLeft: \"-5px\",\n            marginRight: \"9px\",\n        }\n    },\n    toolbar: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'flex-end',\n        padding: theme.spacing(0, 1),\n        height: \"64px !important\",\n        ...theme.mixins.toolbar,\n    },\n    cameraGroupAvatar: {\n        color: '#fff',\n        width: '32px',\n        height: '32px',\n        fontSize: '1.2em',\n        [theme.breakpoints.down('sm')]: {\n            //paddingLeft: '-5px',\n            //marginLeft: \"-8px\"\n        }\n        \n    },\n    content: {\n        flexGrow: 1,\n        padding: 0,\n        margin: 0,\n        width: '100%',\n        display: \"flex\",\n        flexDirection: \"column\"\n        //padding: theme.spacing(3),\n    },\n}));\n\n\n\nexport function MapPage(props) {\n    if ( window.infoWindowClick === undefined ) {\n        window.infoWindowClick = false;\n    }\n    \n\n    const classes = useStyles();\n    const theme = useTheme();    \n\n    const [open, setOpen] = React.useState(false);\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState(null);\n  \n    const isMenuOpen = Boolean(anchorEl);\n    const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\n  \n\n    const [center, setCenter] = React.useState({lat: 33.7428634, lng: -118.2365507});\n    const [zoom, setZoom] = React.useState(13);\n    const [showCameras, setShowCameras] = React.useState(false);\n    const [showAIS, setShowAIS] = React.useState(false);\n    const [showTraffic, setShowTraffic] = React.useState(false);\n    const [showWeather, setShowWeather] = React.useState(false);\n    const [showCameraGridView, setShowCameraGridView] = React.useState(false);\n    const [selectedCameraGroups, setSelectedCameraGroups] = React.useState([]);\n\n    const [favoritesDialogCID, setFavoritesDialogCID] = React.useState(undefined);\n    const [favoriteGroupsOpen, setFavoriteGroupsOpen] = React.useState(false);\n    const [cameraGroupsOpen, setCameraGroupsOpen] = React.useState(false);\n\n    if ( !window.mjpegFramerate ) {\n        window.mjpegFramerate = 5;\n    }\n\n\n    function handleDrawerOpen() {\n        setOpen(true);\n    }\n\n    function handleDrawerClose() {\n        setOpen(false);\n    }\n\n    function handleProfileMenuOpen(event) {\n        setAnchorEl(event.currentTarget);\n    }\n  \n    function handleMobileMenuClose() {\n        setMobileMoreAnchorEl(null);\n    }\n  \n    function handleMenuClose() {\n        setAnchorEl(null);\n        handleMobileMenuClose();\n    }\n  \n    function handleMobileMenuOpen(event) {\n        setMobileMoreAnchorEl(event.currentTarget);\n    }\n\n    function handleLogout() {        \n        handleMenuClose();\n        props.onLogout();\n    }\n\n    function handleShowCamerasClick() {\n        if ( !showCameraGridView ) {\n            setShowCameras(!showCameras);\n        } else {\n            setShowCameraGridView(!showCameraGridView);\n        }\n\n        closeInfoWindow();\n    }\n\n    function handleShowAISClick() {\n        if ( !showCameraGridView ) {\n            setShowAIS(!showAIS);\n        } else {\n            setShowCameraGridView(!showCameraGridView);\n        }\n    }\n\n    function handleShowTrafficClick() {\n        if ( !showCameraGridView ) {\n            setShowTraffic(!showTraffic);\n        } else {\n            setShowCameraGridView(!showCameraGridView);\n        }\n    }\n\n    function handleShowWeatherClick() {\n        if ( !showCameraGridView ) {\n            setShowWeather(!showWeather);\n        } else {\n            setShowCameraGridView(!showCameraGridView);\n        }\n    }\n\n    function handleCameraGridViewToggle() {\n        setShowCameraGridView(!showCameraGridView);\n        closeInfoWindow();\n    }\n  \n    const menuId = 'primary-search-account-menu';\n    const renderMenu = (\n        <Menu\n            anchorEl={anchorEl}\n            anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n            id={menuId}\n            keepMounted\n            transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n            open={isMenuOpen}\n            onClose={handleMenuClose}\n        >\n\n            <MenuItem onClick={handleMenuClose}>\n                <ListItemIcon>\n                    <Avatar className={classes.userAvatar}>\n                        {props.userName[0]}\n                    </Avatar>\n                </ListItemIcon>\n                <ListItemText primary={props.userName} />\n            </MenuItem>\n\n            <Divider />\n\n            <MenuItem onClick={handleLogout}>\n                <ListItemIcon>\n                    <ExitToAppIcon />\n                </ListItemIcon>\n                <ListItemText primary=\"Sign Out\" />\n            </MenuItem>\n\n        </Menu>\n    );\n  \n    const mobileMenuId = 'primary-search-account-menu-mobile';\n    const renderMobileMenu = (\n        <Menu\n            anchorEl={mobileMoreAnchorEl}\n            anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n            id={mobileMenuId}\n            keepMounted\n            transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n            open={isMobileMenuOpen}\n            onClose={handleMobileMenuClose}\n        > \n\n            <MenuItem>\n                <IconButton aria-label=\"Notifications\" color=\"inherit\">\n                    <Badge color=\"secondary\">\n                        <NotificationsIcon style={{color: \"rgba(0, 0, 0, 0.54)\"}} />\n                    </Badge>\n                </IconButton>\n                <p>Notifications</p>\n            </MenuItem>\n\n            <MenuItem onClick={handleProfileMenuOpen}>\n                <IconButton\n                    aria-label=\"account of current user\"\n                    aria-controls=\"primary-search-account-menu\"\n                    aria-haspopup=\"true\"\n                    color=\"inherit\"\n                >\n                    <AccountCircle style={{color: \"rgba(0, 0, 0, 0.54)\"}} />\n                </IconButton>\n                <p>Profile</p>\n            </MenuItem>\n\n        </Menu>\n    );\n\n    function openCameraInfoWindow(lat, lng, attributes) {\n        closeInfoWindow();\n\n        var content = document.createElement('div');\n        content.setAttribute(\"id\", \"infowindowContents\");\n        ReactDOM.render(\n            <CameraDisplay \n                title={attributes['name']} \n                cameraID={attributes['sid']}\n                favorited={checkIfCidInCameraGroups(attributes['sid'], Object.keys(props.favoritesData), props.favoritesData)}\n                onClickFavoriteButton={onFavoriteCameraClick}\n                framerate={window.mjpegFramerate}\n                showFramerate={true}\n                onClickFramerate={onClickFramerate}\n                onChangeFramerate={onChangeFramerate}\n            />, \n            content\n        );\n\n        window.infoWindow.setContent(content);\n        window.infoWindow.setPosition({lat: lat, lng: lng});\n        window.infoWindow.setOptions({\n            pixelOffset: {width: 15, height: 0, \"h\": \"px\", \"g\": \"px\"}\n        });\n        window.infoWindow.open(window.map);\n    }\n\n    function openAISInfoWindow(lat, lng, attributes) {\n        closeInfoWindow();\n\n        var content = document.createElement('div');\n        content.setAttribute(\"id\", \"infowindowContents\");\n        ReactDOM.render(\n            <AisDisplay\n                attributes={attributes}\n            />, \n            content\n        );\n\n        window.infoWindow.setContent(content);\n        window.infoWindow.setPosition({lat: lat, lng: lng});\n        window.infoWindow.setOptions({\n            pixelOffset: {width: 3, height: 0, \"h\": \"px\", \"g\": \"px\"}\n        });\n        window.infoWindow.open(window.map);\n    }\n\n    function closeInfoWindow() {console.log(\"closeInfoWindow\");\n        stopAllUpdateImageTimers();\n        stopRenewTokenTimer();\n        if ( window.infoWindow ) { \n            var contentsDom = document.getElementById(\"infowindowContents\");\n            if ( contentsDom ) {\n                ReactDOM.unmountComponentAtNode(contentsDom);        \n            }\n            window.infoWindow.close(); \n        }\n    }\n\n    function onCloseClickInfoWindow() {\n        closeInfoWindow();\n    }\n\n    function onMapClick(e) {\n        //console.log(\"onMapClick\");\n        if ( !window.infoWindowClick ) {\n            closeInfoWindow();\n        }\n        window.infoWindowClick = false;\n    }\n\n    function onMapMove(center, zoom, viewExtent) {\n        //console.log(\"onMapMove\");\n        setCenter({lat: center.latitude, lng: center.longitude});\n        setZoom(zoom);\n    }\n\n    function onMapMoveStop(center, zoom, viewExtent) {\n        // console.log(\"onMapMoveStop\");\n        setCenter({lat: center.latitude, lng: center.longitude});\n        setZoom(zoom);\n    }\n\n    function onGraphicClick(lat, lng, attributes) {\n        openCameraInfoWindow(lat, lng, attributes);\n    }\n\n    function onAISGraphicClick(lat, lng, attributes) {\n        openAISInfoWindow(lat, lng, attributes);\n    }\n\n    function onFavoriteCameraClick(cameraID) {\n        window.infoWindowClick = true;\n        \n        setFavoritesDialogCID(cameraID);\n    }\n\n    function handleFavoritesDialogClose() {\n        setFavoritesDialogCID(undefined);\n    }\n\n    function handleOnChangeFavoritesData(newFavoritesData) {\n        var clone = selectedCameraGroups.slice(0);\n        for (var i = 0; i < clone.length; i++) {\n            if ( !(clone[i] in newFavoritesData) ) {\n                clone.splice(i, 1);\n            }\n        }\n        setSelectedCameraGroups(clone);\n\n        props.onChangeFavorites(newFavoritesData);\n    }\n\n    function handleFavoritesGroupOpenToggle() {\n        setFavoriteGroupsOpen(!favoriteGroupsOpen);\n    }\n\n    function handleCameraGroupsOpenToggle() {\n        setCameraGroupsOpen(!cameraGroupsOpen);\n    }\n\n    function onClickFramerate() {\n        window.infoWindowClick = true;\n    }\n\n    function onChangeFramerate(framerate) {\n        window.infoWindowClick = true;\n        window.mjpegFramerate = framerate;\n    }\n\n    function onResetView() {\n        setCenter({lat: 33.7428634, lng: -118.2365507});\n        setZoom(13);\n    }\n\n    function handleCameraGroupClick(groupID, event) {\n        var groupsClone = selectedCameraGroups.slice(0),\n        index = groupsClone.indexOf(groupID);\n        if ( index >= 0 ) {\n            groupsClone.splice(index, 1);            \n        } else {\n            groupsClone.push(groupID);\n        }\n        setSelectedCameraGroups(groupsClone);        \n    }\n\n    function buildObjectArray(camerasObj, aisObject) {\n        var objectArray = [];\n        \n        for (var sid in camerasObj) {\n            var cameraGroupsSelected = (checkIfCidInCameraGroups(sid, selectedCameraGroups, props.cameraGroups) || checkIfCidInCameraGroups(sid, selectedCameraGroups, props.favoritesData));         \n            camerasObj[sid]['sid'] = sid;\n            var cameraObj = {\n                'id': sid,\n                'object_type': \"camera\",\n                'marker_type': \"camera-marker\",\n                'name': camerasObj[sid]['name'],\n                'latitude': camerasObj[sid]['latitude'],\n                'longitude': camerasObj[sid]['longitude'],\n                'favorited': checkIfCidInCameraGroups(sid, Object.keys(props.favoritesData), props.favoritesData),\n                'marker_size': \"32px\",\n                'attributes': camerasObj[sid],\n                'visible': (showCameras || cameraGroupsSelected)\n            };\n\n            objectArray.push(cameraObj);\n        }\n\n\n        for (var mmsi in aisObject) {\n            if ( 'x' in aisObject[mmsi] && 'y' in aisObject[mmsi] ) {\n                var shipCargoTypeObject = parseShipCargoType(aisObject[mmsi]['id'], aisObject[mmsi]['type_and_cargo']);\n                var aisObj = {\n                    'id': mmsi,\n                    'object_type': \"ais\",\n                    'marker_type': \"ais-marker\",\n                    'latitude': aisObject[mmsi]['y'],\n                    'longitude': aisObject[mmsi]['x'],\n                    'marker_size': \"8px\",\n                    'attributes': aisObject[mmsi],\n                    'visible': showAIS,\n                    'fillColor': shipCargoTypeObject['color'],\n                    'outlineColor': shipCargoTypeObject['color']\n                };\n\n                objectArray.push(aisObj);\n            }\n        }\n        \n        return objectArray;\n    }\n\n\n    function renderFavoritesGroups() {\n        var listArray = [];\n\n        for (var groupID in props.favoritesData) {\n            listArray.push(\n                <Tooltip title={groupID} aria-label={groupID} key={groupID}>\n                    <ListItem button key={groupID} onClick={handleCameraGroupClick.bind(null, groupID)} >\n                        <ListItemIcon className={classes.listAvatar}>\n                            <Badge color=\"primary\" variant=\"dot\" invisible={!(selectedCameraGroups.indexOf(groupID) >= 0)}>\n                                <Avatar className={classes.cameraGroupAvatar} style={{ backgroundColor: props.favoritesData[groupID]['color'] }}>{parseCameraGroupsInitials(groupID)}</Avatar>\n                            </Badge>\n                        </ListItemIcon>\n                        <ListItemText primary={groupID} />\n                    </ListItem>\n                </Tooltip>\n            );\n        }\n\n        return (\n            <List disablePadding> \n                <Tooltip title={\"Favorites Groups\"} aria-label={\"Favorites Groups\"}>                   \n                    <ListItem button key=\"FavoritesGroupItem\" onClick={handleFavoritesGroupOpenToggle} style={{paddingLeft: \"0px\"}}>\n                        {favoriteGroupsOpen ? <ExpandLess style={{color: \"rgba(0, 0, 0, 0.54)\"}} /> : <ExpandMore style={{color: \"rgba(0, 0, 0, 0.54)\"}} />}\n                        <ListItemIcon className={classes.listIcon} style={{marginLeft: \"0px\"}}>                                    \n                            <img\n                                alt=\"Favorites Group Icon\"\n                                src={\"./images/videocam_solid_heart_GREY-24px.svg\"}\n                                width=\"24px\"\n                                height=\"24px\"\n                            />                            \n                        </ListItemIcon>\n                        <ListItemText primary=\"Favorites Groups\" />\n                    </ListItem>\n                </Tooltip>\n                <Collapse in={favoriteGroupsOpen} timeout=\"auto\" style={{borderLeft: \"5px solid rgba(0, 0, 0, 0.54)\"}}>\n                    {listArray}\n                </Collapse>                           \n            </List>\n        );\n    }\n\n\n    function renderCameraGroups() {\n        var listArray = [];\n\n        for (var groupID in props.cameraGroups) {\n            listArray.push(\n                <Tooltip title={groupID} aria-label={groupID} key={groupID}>\n                    <ListItem button key={groupID} onClick={handleCameraGroupClick.bind(null, groupID)} >\n                        <ListItemIcon className={classes.listAvatar}>\n                            <Badge color=\"primary\" variant=\"dot\" invisible={!(selectedCameraGroups.indexOf(groupID) >= 0)}>\n                                <Avatar className={classes.cameraGroupAvatar}>{parseCameraGroupsInitials(groupID)}</Avatar>\n                            </Badge>\n                        </ListItemIcon>\n                        <ListItemText primary={groupID} />\n                    </ListItem>\n                </Tooltip>\n            );\n        }\n\n        return (\n            <List disablePadding> \n                <Tooltip title={\"Camera Groups\"} aria-label={\"Camera Groups\"}>                   \n                    <ListItem button key=\"FavoritesGroupItem\" onClick={handleCameraGroupsOpenToggle} style={{paddingLeft: \"0px\"}}>\n                        {cameraGroupsOpen ? <ExpandLess style={{color: \"rgba(0, 0, 0, 0.54)\"}} /> : <ExpandMore style={{color: \"rgba(0, 0, 0, 0.54)\"}} />}\n                        <ListItemIcon className={classes.listIcon} style={{marginLeft: \"0px\"}}>                                   \n                            <VideoCallIcon style={{color: \"rgba(0, 0, 0, 0.54)\"}} />                          \n                        </ListItemIcon>\n                        <ListItemText primary=\"Camera Groups\" />\n                    </ListItem>\n                </Tooltip>\n                <Collapse in={cameraGroupsOpen} timeout=\"auto\" style={{borderLeft: \"5px solid rgba(0, 0, 0, 0.54)\"}}>\n                    {listArray}\n                </Collapse>                           \n            </List>\n        );\n    }\n\n    \n    return (\n        <div className={classes.root}>\n            <CssBaseline />\n\n            <AppBar\n                position=\"fixed\"\n                className={clsx(classes.appBar, {\n                    [classes.appBarShift]: open,\n                })}\n            >\n            \n                <Toolbar>\n                    <IconButton\n                        color=\"inherit\"\n                        aria-label=\"open drawer\"\n                        onClick={handleDrawerOpen}\n                        edge=\"start\"\n                        className={clsx(classes.menuButton, {\n                            [classes.hide]: open,\n                        })}\n                    >\n                        <MenuIcon />\n                    </IconButton>\n\n                    <img\n                        alt={\"Logo\"}\n                        src={\"./images/logo_inline.png\"}\n                        style={{height: \"64px\", maxHeight: \"100%\", maxWidth: \"100%\"}}\n                    />\n\n                    <div className={classes.grow} />\n\n                    <div className={classes.sectionDesktop}>\n                        <Tooltip title=\"Alerts\" aria-label=\"Alerts\">             \n                            <IconButton aria-label=\"Alerts\" color=\"inherit\">\n                                <Badge color=\"secondary\">                                    \n                                    <NotificationsIcon style={{color: \"rgba(0, 0, 0, 0.54)\"}} />                                    \n                                </Badge>\n                            </IconButton>\n                        </Tooltip>\n\n                        <Tooltip title=\"Account\" aria-label=\"Account\">\n                            <IconButton\n                                edge=\"end\"\n                                aria-label=\"account of current user\"\n                                aria-controls={menuId}\n                                aria-haspopup=\"true\"\n                                onClick={handleProfileMenuOpen}\n                                color=\"inherit\"\n                            >                                \n                                <AccountCircle style={{color: \"rgba(0, 0, 0, 0.54)\"}} />                                \n                            </IconButton>\n                        </Tooltip>\n                    </div>\n\n                    <div className={classes.sectionMobile}>\n                        <Tooltip title=\"More Options\" aria-label=\"More Options\">\n                            <IconButton\n                                aria-label=\"show more\"\n                                aria-controls={mobileMenuId}\n                                aria-haspopup=\"true\"\n                                onClick={handleMobileMenuOpen}\n                                color=\"inherit\"\n                            >                            \n                                <MoreVertIcon style={{color: \"rgba(0, 0, 0, 0.54)\"}} />                            \n                            </IconButton>\n                        </Tooltip>\n                    </div>\n                </Toolbar>\n\n            </AppBar>\n\n            <Drawer\n                variant=\"permanent\"\n                className={clsx(classes.drawer, {\n                    [classes.drawerOpen]: open,\n                    [classes.drawerClose]: !open,\n                })}\n                classes={{\n                    paper: clsx({\n                        [classes.drawerOpen]: open,\n                        [classes.drawerClose]: !open,\n                    }),\n                }}\n                open={open}\n            >\n\n                <div className={classes.toolbar}>\n                    <IconButton onClick={handleDrawerClose}>\n                        {theme.direction === 'rtl' ? <ChevronRightIcon /> : <ChevronLeftIcon />}\n                    </IconButton>\n                </div>\n            \n                <Divider />\n\n                \n                {!showCameraGridView ?\n                    <List className={classes.list}>\n                        <Tooltip title=\"Camera Grid View\" aria-label=\"Camera Grid View\">\n                            <ListItem button key=\"CameraGridView\" onClick={handleCameraGridViewToggle}>\n                                <ListItemIcon className={classes.listIcon}>\n                                    <GridOnIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"Camera Grid View\" />\n                            </ListItem>\n                        </Tooltip>\n\n                        <Divider />\n\n                        <Tooltip title=\"Spills\" aria-label=\"Cameras\">\n                            <ListItem button key=\"CamerasItem\" onClick={handleShowCamerasClick} >                        \n                                <ListItemIcon className={classes.listIcon}>\n                                    <Badge color=\"primary\" variant=\"dot\" invisible={!showCameras}>                                    \n                                        <VideocamIcon />                                    \n                                    </Badge>\n                                </ListItemIcon>\n                                <ListItemText primary=\"Cameras\" />\n                            </ListItem>\n                        </Tooltip>                    \n\n                        <Tooltip title=\"AIS\" aria-label=\"AIS\">\n                            <ListItem button key=\"AISItem\" onClick={handleShowAISClick} >\n                                <ListItemIcon className={classes.listIcon}>\n                                    <Badge color=\"primary\" variant=\"dot\" invisible={!showAIS}>                                    \n                                        <DirectionsBoatIcon />                   \n                                    </Badge>\n                                </ListItemIcon>\n                                <ListItemText primary=\"AIS\" />\n                            </ListItem>\n                        </Tooltip> \n\n\n\n                        <Divider />\n                    </List>\n\n                    :\n\n                    <List className={classes.list}>\n                        <Tooltip title=\"Map View\" aria-label=\"Map View\">\n                            <ListItem button key=\"MapView\" onClick={handleCameraGridViewToggle}>\n                                <ListItemIcon className={classes.listIcon}>\n                                    <MapIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"Map View\" />\n                            </ListItem>\n                        </Tooltip>\n\n                        <Divider />\n                    </List>\n                }  \n\n                \n\n                {renderFavoritesGroups()}\n                {renderCameraGroups()}\n\n            </Drawer>\n\n            <main className={classes.content}>\n                <div className={classes.toolbar} />\n\n                {(showCameraGridView ? \n                    <FavoritesPage \n                        loading={(Object.keys(props.favoritesData).length === 0)}\n                        favoritesData={props.favoritesData}\n                        cameraData={props.cameraData}\n                        selectedCameraGroups={selectedCameraGroups}\n                        onChangeFavorites={onFavoriteCameraClick}\n                    />\n\n                    :\n\n                    <MapInterface \n                        center={center} \n                        zoom={zoom} \n                        objectArray={buildObjectArray(props.cameraData, props.aisData)}\n                        showTraffic={showTraffic} \n                        onMapMove={onMapMove}\n                        onMapMoveStop={onMapMoveStop}\n                        onMapClick={onMapClick}\n                        onGraphicClick={onGraphicClick}\n                        onAISGraphicClick={onAISGraphicClick}\n                        onCloseClickInfoWindow={onCloseClickInfoWindow}\n                        onResetView={onResetView}\n                    />                    \n                )}\n            </main>\n\n            {renderMobileMenu}\n            {renderMenu}\n\n            <FavoritesDialog \n                open={(favoritesDialogCID !== undefined)}\n                favoritesData={props.favoritesData}\n                onDialogClose={handleFavoritesDialogClose}\n                cameraID={favoritesDialogCID}\n                onChangeFavoritesData={handleOnChangeFavoritesData}\n            />\n        </div>\n    );\n\n}\n\n\n/*\n\n{!showCameraGridView ?\n                    <MenuItem onClick={handleCameraGridViewToggle}>\n                        <IconButton aria-label=\"Camera Grid View\" >\n                            <GridOnIcon />\n                        </IconButton>\n                        <p>Camera Grid View</p>\n                    </MenuItem>\n\n                    :\n\n                    <MenuItem onClick={handleCameraGridViewToggle}>\n                        <IconButton aria-label=\"Map View\" >\n                            <MapIcon />\n                        </IconButton>\n                        <p>Map View</p>\n                    </MenuItem>\n                } \n\n{!showCameraGridView ?\n                            <Tooltip title=\"Camera Grid View\" aria-label=\"Camera Grid View\">\n                                <IconButton aria-label=\"Camera Grid View\" onClick={handleCameraGridViewToggle} >\n                                    <GridOnIcon />\n                                </IconButton>\n                            </Tooltip>\n\n                            :\n\n                            <Tooltip title=\"Map View\" aria-label=\"Map View\">\n                                <IconButton aria-label=\"Map View\" onClick={handleCameraGridViewToggle} >\n                                    <MapIcon />\n                                </IconButton>\n                            </Tooltip>\n                        }\n                        */","import React from 'react';\nimport ReactDOM from 'react-dom';\n//import { Route, HashRouter as Router } from 'react-router-dom'\n//import CircularProgress from '@material-ui/core/CircularProgress';\n//import { PortLoginInterface } from './port-login-interface.js';\nimport { getCameras, getUserInfo, getFavorites, postFavorites, getAIS } from './port-requests.js';\nimport { MapPage } from './map-page.js';\n//import { pulseVerify } from './pulse-requests.js';\nimport { checkObjectDifferences } from './utility.js';\nimport { logout } from './port-requests.js';\nimport './index.css';\n\nclass Main extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.updateCamerasTimer = null;\n        this.updateAISTimer = null;\n        this.updateFavoritesTimer = null;\n\n        this.state = {\n            'cameras': {},\n            'ais': {},\n            'userinfo': {\n                'first_name': \"User\"\n            },\n            'favorites': {},\n            'cameraGroups': {}\n        };\n    }\n\n    componentDidMount() {\n        var self = this;\n\n        self.getUserInfoRequest();\n        self.getCamerasRequest();\n        self.getFavoritesRequest();\n        self.getAISRequest();\n\n        this.updateCamerasTimer = window.setInterval(function() {\n            self.getCamerasRequest();\n        }, 300000);\n\n        this.updateAISTimer = window.setInterval(function() {\n            self.getAISRequest();\n        }, 300000);\n\n        this.updateFavoritesTimer = window.setInterval(function() {\n            self.getFavoritesRequest();\n        }, 300000);\n    }\n\n    componentWillUnmount() {\n        window.clearInterval(this.updateCamerasTimer);\n    }\n\n    getCamerasRequest() {\n        getCameras()\n        .then(\n\n            (successResponse) => {\n                try {\n                    var data = JSON.parse(successResponse);\n                    // Check for differences and only then setState\n                    if ( checkObjectDifferences(this.state.cameras, data) ) {\n                        var newState = Object.assign({}, this.state, {\n                            'cameras': data\n                        });\n                        this.setState(newState);\n                    }\n                } catch(e) {\n                    console.log(e);\n                }\n            },\n\n            (errorResponse) => {\n                console.log(errorResponse);\n            }\n\n        );\n    }\n\n    getUserInfoRequest() {\n        getUserInfo()\n        .then(\n\n            (successResponse) => {\n                try {\n                    var data = JSON.parse(successResponse);                   \n                    var newState = Object.assign({}, this.state, {\n                        'userinfo': data\n                    });\n                    this.setState(newState);\n                } catch(e) {\n                    console.log(e);\n                }\n            },\n\n            (errorResponse) => {\n                console.log(errorResponse);\n            }\n\n        );\n    }\n\n    getFavoritesRequest() {\n        getFavorites()\n        .then(\n\n            (successResponse) => {                \n                try { \n                    var data = JSON.parse(successResponse);\n                    var newState = Object.assign({}, this.state, {\n                        'favorites': data\n                    });\n\n                    this.setState(newState);\n                } catch(e) {\n                    console.log(e);\n                }\n            },\n\n            (errorResponse) => {\n                console.log(errorResponse);\n            }\n\n        );\n    }\n\n    postFavoritesRequest(newFavorites) {\n        postFavorites(newFavorites)\n        .then(\n\n            (successResponse) => {\n                try {\n                    var newState = Object.assign({}, this.state, {\n                        'favorites': newFavorites\n                    });\n\n                    this.setState(newState);\n                } catch(e) {\n                    console.log(e);\n                }\n            },\n\n            (errorResponse) => {\n                console.log(errorResponse);\n            }\n        );\n    }\n\n    getAISRequest() {\n        getAIS()\n        .then(\n\n            (successResponse) => {\n                try {\n                    var data = JSON.parse(successResponse);\n                    var newState = Object.assign({}, this.state, {\n                        'ais': data\n                    });\n\n                    this.setState(newState);\n                } catch(e) {\n                    console.log(e);\n                }\n            },\n\n            (errorResponse) => {\n                console.log(errorResponse);\n            }\n\n        );\n    }\n\n\n    onChangeFavorites = (newFavorites) => {\n        this.postFavoritesRequest(newFavorites);\n    }\n\n    handleLogout = () => {\n        logout();\n    }\n\n    render() {\n        return <MapPage \n            userName={this.state.userinfo.first_name}\n            cameraData={this.state.cameras}\n            aisData={this.state.ais}\n            favoritesData={this.state.favorites}\n            cameraGroups={this.state.cameraGroups}\n            onChangeFavorites={this.onChangeFavorites}\n            onLogout={this.handleLogout} \n        />; \n    }\n}\n\n// ============================================\n/*const routing = (\n    <Router>\n        <div>\n            <Route exact path=\"/\" component={Main} />\n            <Route path=\"/login\" component={PortLoginInterface} />\n        </div>\n    </Router>\n)*/\n\n// =============================================\n\nReactDOM.render(\n    <Main />,\n    document.getElementById('root')\n);"],"sourceRoot":""}